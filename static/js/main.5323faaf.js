/*! For license information please see main.5323faaf.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),g=0;g<o.length;++g){var y=o[g];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var m=h(n,y);try{c(t,y,m)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===m||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Y(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,_e=null;function Ee(e){if(e=gi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=mi(t),xe(e.stateNode,e.type,t))}}function Te(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Ie(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Oe=!1;function Ne(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==Se||null!==_e)&&(Ae(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=mi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var mt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,xt,St,_t,Et=!1,Tt=[],It=null,Ct=null,At=null,Ot=new Map,Nt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=gi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Ut(){Et=!1,null!==It&&jt(It)&&(It=null),null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),Ot.forEach(Ft),Nt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),Ot.forEach(t),Nt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Bt=b.ReactCurrentBatchConfig;function Ht(e,t,n,r){var i=mt,a=Bt.transition;Bt.transition=null;try{mt=1,Kt(e,t,n,r)}finally{mt=i,Bt.transition=a}}function qt(e,t,n,r){var i=mt,a=Bt.transition;Bt.transition=null;try{mt=4,Kt(e,t,n,r)}finally{mt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=Gt(e,t,n,r);if(null===i)Br(e,t,r,Wt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=gi(i);if(null!==a&&bt(a),null===(a=Gt(e,t,n,r))&&Br(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Wt=null;function Gt(e,t,n,r){if(Wt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Xt=null;function Yt(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=nn(sn),cn=j({},sn,{view:0,detail:0}),ln=nn(cn),fn=j({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(j({},fn,{dataTransfer:0})),pn=nn(j({},cn,{relatedTarget:0})),vn=nn(j({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(gn),mn=nn(j({},sn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return xn}var _n=j({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=nn(_n),Tn=nn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=nn(j({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Cn=nn(j({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=nn(An),Nn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var Rn=l&&"TextEvent"in window&&!Dn,Ln=l&&(!Pn||Dn&&8<Dn&&11>=Dn),Mn=String.fromCharCode(32),jn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Wn(e){Mr(e,0)}function Gn(e){if(G(yi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Xn="oninput"in document;if(!Xn){var Yn=document.createElement("div");Yn.setAttribute("oninput","return;"),Xn="function"===typeof Yn.oninput}Jn=Xn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function Zn(){qn&&(qn.detachEvent("onpropertychange",er),Kn=qn=null)}function er(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Ne(Wn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(qn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function rr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,gr=null,yr=!1;function mr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&or(gr,r)||(gr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},xr={};function Sr(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var _r=Sr("animationend"),Er=Sr("animationiteration"),Tr=Sr("animationstart"),Ir=Sr("transitionend"),Cr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Cr.set(e,t),u(t,[e])}for(var Nr=0;Nr<Ar.length;Nr++){var Pr=Ar[Nr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(_r,"onAnimationEnd"),Or(Er,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function jr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Fr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=Ht;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=vi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var s=Cr.get(e);if(void 0!==s){var u=un,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":u=En;break;case"focusin":c="focus",u=pn;break;case"focusout":c="blur",u=pn;break;case"beforeblur":case"afterblur":u=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case _r:case Er:case Tr:u=vn;break;case Ir:u=Cn;break;case"scroll":u=ln;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:yi(u),d=null==c?s:yi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Wr(o,s,u,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(u=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Qn;else if(Bn(s))if($n)g=ir;else{g=nr;var y=tr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=rr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?yi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,gr=null);break;case"focusout":gr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,mr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":mr(o,n,i)}var m;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vn?Fn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Vn&&(m=Yt()):(Jt="value"in($t=i)?$t.value:$t.textContent,Vn=!0)),0<(y=qr(r,k)).length&&(k=new mn(k,e,null,n,i),o.push({event:k,listeners:y}),m?k.data=m:null!==(m=Un(n))&&(k.data=m))),(m=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(jn=!0,Mn);case"textInput":return(e=t.data)===Mn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Pn&&Fn(e,t)?(e=Yt(),Xt=Jt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new mn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=m))}Mr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Xr(){}var Yr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function si(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),ci="__reactFiber$"+ui,li="__reactProps$"+ui,fi="__reactContainer$"+ui,hi="__reactEvents$"+ui,di="__reactListeners$"+ui,pi="__reactHandles$"+ui;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=si(e);null!==e;){if(n=e[ci])return n;e=si(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function mi(e){return e[li]||null}var ki=[],bi=-1;function wi(e){return{current:e}}function xi(e){0>bi||(e.current=ki[bi],ki[bi]=null,bi--)}function Si(e,t){bi++,ki[bi]=e.current,e.current=t}var _i={},Ei=wi(_i),Ti=wi(!1),Ii=_i;function Ci(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){xi(Ti),xi(Ei)}function Ni(e,t,n){if(Ei.current!==_i)throw Error(a(168));Si(Ei,t),Si(Ti,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return j({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ii=Ei.current,Si(Ei,e),Si(Ti,Ti.current),!0}function Ri(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,xi(Ti),xi(Ei),Si(Ei,e)):xi(Ti),Si(Ti,n)}var Li=null,Mi=!1,ji=!1;function Fi(e){null===Li?Li=[e]:Li.push(e)}function Ui(){if(!ji&&null!==Li){ji=!0;var e=0,t=mt;try{var n=Li;for(mt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ge(Ze,Ui),i}finally{mt=t,ji=!1}}return null}var Vi=b.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=wi(null),Hi=null,qi=null,Ki=null;function Wi(){Ki=qi=Hi=null}function Gi(e){var t=Bi.current;xi(Bi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){Hi=e,Ki=qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===qi){if(null===Hi)throw Error(a(308));qi=e,Hi.dependencies={lanes:0,firstContext:e}}else qi=qi.next=e;return t}var Xi=null,Yi=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==mu&&0!==(1&e.mode)&&0===(2&yu)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Yi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Yi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Eu|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var sa=(new r.Component).refs;function ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bu(),i=Hu(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=qu(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bu(),i=Hu(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=qu(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bu(),r=Hu(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=qu(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=_i,a=t.contextType;return"object"===typeof a&&null!==a?a=Ji(a):(i=Ai(t)?Ii:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):_i),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=sa,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ji(a):(a=Ai(t)?Ii:Ei.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ga=null,ya=0,ma=[],ka=0,ba=null,wa=1,xa="";function Sa(e,t){pa[va++]=ya,pa[va++]=ga,ga=e,ya=t}function _a(e,t,n){ma[ka++]=wa,ma[ka++]=xa,ma[ka++]=ba,ba=e;var r=wa;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,xa=a+e}else wa=1<<a|n<<i|r,xa=e}function Ea(e){null!==e.return&&(Sa(e,1),_a(e,1,0))}function Ta(e){for(;e===ga;)ga=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===ba;)ba=ma[--ka],ma[ka]=null,xa=ma[--ka],ma[ka]=null,wa=ma[--ka],ma[ka]=null}var Ia=null,Ca=null,Aa=!1,Oa=null;function Na(e,t){var n=bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ia=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ia=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:wa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ia=e,Ca=null,!0);default:return!1}}function Da(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Ra(e){if(Aa){var t=Ca;if(t){var n=t;if(!Pa(e,t)){if(Da(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ia;t&&Pa(e,t)?Na(r,n):(e.flags=-4097&e.flags|2,Aa=!1,Ia=e)}}else{if(Da(e))throw Error(a(418));e.flags=-4097&e.flags|2,Aa=!1,Ia=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ia=e}function Ma(e){if(e!==Ia)return!1;if(!Aa)return La(e),Aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(Da(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Na(e,t),t=oi(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ia?oi(e.stateNode.nextSibling):null;return!0}function ja(){Ca=Ia=null,Aa=!1}function Fa(e){null===Oa?Oa=[e]:Oa.push(e)}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===sa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&za(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=Sc(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=_c(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Tc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Sc(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case x:return(t=Ic(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=_c(t,e.mode,n,null)).return=e,t;Va(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Va(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=g}if(v===s.length)return n(i,f),Aa&&Sa(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Aa&&Sa(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),Aa&&Sa(i,v),c}function g(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var k=d(i,v,m.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,g),null===f?l=k:f.sibling=k,f=k,v=y}if(m.done)return n(i,v),Aa&&Sa(i,g),l;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=h(i,m.value,c))&&(s=o(m,s,g),null===f?l=m:f.sibling=m,f=m);return Aa&&Sa(i,g),l}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=p(v,i,g,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=o(m,s,g),null===f?l=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),Aa&&Sa(i,g),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ua(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=_c(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Sc(o.type,o.key,o.props,null,r.mode,u)).ref=Ua(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ic(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return g(r,a,o,u);Va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Tc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ha=Ba(!0),qa=Ba(!1),Ka={},Wa=wi(Ka),Ga=wi(Ka),Qa=wi(Ka);function $a(e){if(e===Ka)throw Error(a(174));return e}function Ja(e,t){switch(Si(Qa,t),Si(Ga,e),Si(Wa,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Wa),Si(Wa,t)}function Xa(){xi(Wa),xi(Ga),xi(Qa)}function Ya(e){$a(Qa.current);var t=$a(Wa.current),n=ue(t,e.type);t!==n&&(Si(Ga,e),Si(Wa,n))}function Za(e){Ga.current===e&&(xi(Wa),xi(Ga))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,oo=0,so=null,uo=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,so=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:es,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=uo=null,t.updateQueue=null,io.current=ts,e=n(r,i)}while(fo)}if(io.current=Yo,t=null!==uo&&null!==uo.next,oo=0,co=uo=so=null,lo=!1,t)throw Error(a(300));return e}function mo(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?so.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===uo){var e=so.alternate;e=null!==e?e.memoizedState:null}else e=uo.next;var t=null===co?so.memoizedState:co.next;if(null!==t)co=t,uo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(uo=e).memoizedState,baseState:uo.baseState,baseQueue:uo.baseQueue,queue:uo.queue,next:null},null===co?so.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=uo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,so.lanes|=f,Eu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,ar(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,so.lanes|=o,Eu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(ys=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function _o(){}function Eo(e,t){var n=so,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ys=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,No(9,Io.bind(null,n,r,i,t),void 0,null),null===mu)throw Error(a(349));0!==(30&oo)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=so.updateQueue)?(t={lastEffect:null,stores:null},so.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&qu(e,1,-1)}function Co(e,t,n){return n((function(){Ao(t)&&qu(e,1,-1)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Oo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,so,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=so.updateQueue)?(t={lastEffect:null,stores:null},so.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Do(e,t,n,r){var i=ko();so.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Ro(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==uo){var o=uo.memoizedState;if(a=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}so.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Lo(e,t){return Do(8390656,8,e,t)}function Mo(e,t){return Ro(2048,8,e,t)}function jo(e,t){return Ro(4,2,e,t)}function Fo(e,t){return Ro(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4,4,Uo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t){var n=mt;mt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{mt=n,ao.transition=r}}function Ko(){return bo().memoizedState}function Wo(e,t,n){var r=Hu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?$o(t,n):(Jo(e,t,n),null!==(e=qu(e,r,n=Bu()))&&Xo(e,t,r))}function Go(e,t,n){var r=Hu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))$o(t,i);else{Jo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ar(s,o))return}catch(u){}null!==(e=qu(e,r,n=Bu()))&&Xo(e,t,r)}}function Qo(e){var t=e.alternate;return e===so||null!==t&&t===so}function $o(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){null!==mu&&0!==(1&e.mode)&&0===(2&yu)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Yo={readContext:Ji,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Ji,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ji,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wo.bind(null,so,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Oo,useDebugValue:zo,useDeferredValue:function(e){var t=Oo(e),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Oo(!1),t=e[0];return e=qo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=so,i=ko();if(Aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===mu)throw Error(a(349));0!==(30&oo)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,No(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=mu.identifierPrefix;if(Aa){var n=xa;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ji,useCallback:Bo,useContext:Ji,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:jo,useLayoutEffect:Fo,useMemo:Ho,useReducer:xo,useRef:Po,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:_o,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1},ts={readContext:Ji,useCallback:Bo,useContext:Ji,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:jo,useLayoutEffect:Fo,useMemo:Ho,useReducer:So,useRef:Po,useState:function(){return So(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=So(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[So(wo)[0],bo().memoizedState]},useMutableSource:_o,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1};function ns(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function rs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var is,as,os,ss="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pu||(Pu=!0,Du=r),rs(0,t)},n}function cs(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){rs(0,t),"function"!==typeof r&&(null===Ru?Ru=new Set([this]):Ru.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ls(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ss;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ds(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ps(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vs(e,t,n){var r=t.pendingProps;switch(Ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(t),null;case 1:case 17:return Ai(t.type)&&Oi(),ps(t),null;case 3:return r=t.stateNode,Xa(),xi(Ti),xi(Ei),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Oa&&($u(Oa),Oa=null))),ps(t),null;case 5:Za(t);var i=$a(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)as(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ps(t),null}if(e=$a(Wa.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)jr(Dr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in me(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ci]=t,e[li]=r,is(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)jr(Dr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in me(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ge(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ps(t),null;case 6:if(e&&null!=t.stateNode)os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Qa.current),$a(Wa.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ia))switch(u=0!==(1&e.mode),e.tag){case 3:Jr(r.nodeValue,n,u);break;case 5:!0!==e.memoizedProps[void 0]&&Jr(r.nodeValue,n,u)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return ps(t),null;case 13:if(xi(eo),r=t.memoizedState,Aa&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return ja(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else ja(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ps(t),null}return null!==Oa&&($u(Oa),Oa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===Su&&(Su=3):ic())),null!==t.updateQueue&&(t.flags|=4),ps(t),null);case 4:return Xa(),null===e&&Vr(t.stateNode.containerInfo),ps(t),null;case 10:return Gi(t.type._context),ps(t),null;case 19:if(xi(eo),null===(o=t.memoizedState))return ps(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)ds(o,!1);else{if(0!==Su||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=to(e))){for(t.flags|=128,ds(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Nu&&(t.flags|=128,r=!0,ds(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ds(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Aa)return ps(t),null}else 2*Xe()-o.renderingStartTime>Nu&&1073741824!==n&&(t.flags|=128,r=!0,ds(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=eo.current,Si(eo,r?1&n|2:1&n),t):(ps(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&wu)&&(ps(t),6&t.subtreeFlags&&(t.flags|=8192)):ps(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},as=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Wa.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in me(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},os=function(e,t,n,r){n!==r&&(t.flags|=4)};var gs=b.ReactCurrentOwner,ys=!1;function ms(e,t,n,r){t.child=null===e?qa(t,null,n,r):Ha(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var a=t.ref;return $i(t,i),r=yo(e,t,n,r,a,i),n=mo(),null===e||ys?(Aa&&n&&Ea(t),t.flags|=1,ms(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function bs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Sc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ws(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Us(e,t,i)}return t.flags|=1,(e=xc(a,r)).ref=t.ref,e.return=t,t.child=e}function ws(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(ys=!1,0===(e.lanes&i))return t.lanes=e.lanes,Us(e,t,i);0!==(131072&e.flags)&&(ys=!0)}return _s(e,t,n,r,i)}function xs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Si(xu,wu),wu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Si(xu,wu),wu|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,Si(xu,wu),wu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(xu,wu),wu|=r;return ms(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,i){var a=Ai(n)?Ii:Ei.current;return a=Ci(t,a),$i(t,i),n=yo(e,t,n,r,a,i),r=mo(),null===e||ys?(Aa&&r&&Ea(t),t.flags|=1,ms(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function Es(e,t,n,r,i){if(Ai(n)){var a=!0;Di(t)}else a=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ji(c):c=Ci(t,c=Ai(n)?Ii:Ei.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ha(t,o,r,c),Yi=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ti.current||Yi?("function"===typeof l&&(ua(t,n,l,r),u=t.memoizedState),(s=Yi||la(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:zi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ji(u):u=Ci(t,u=Ai(n)?Ii:Ei.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ha(t,o,r,u),Yi=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ti.current||Yi?("function"===typeof d&&(ua(t,n,d,r),p=t.memoizedState),(c=Yi||la(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,a,i)}function Ts(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ri(t,n,!1),Us(e,t,a);r=t.stateNode,gs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ha(t,e.child,null,a),t.child=Ha(t,null,s,a)):ms(e,t,s,a),t.memoizedState=r.state,i&&Ri(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Ja(e,t.containerInfo)}function Cs(e,t,n,r,i){return ja(),Fa(i),t.flags|=256,ms(e,t,n,r),t.child}var As={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null}}function Ns(e,t,n){var r,i=t.pendingProps,o=eo.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(eo,1&o),null===e)return Ra(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Ec(o,i,0,null),e=_c(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=As,e):Ps(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Ls(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Ec({mode:"visible",children:i.children},o,0,null),(s=_c(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ha(t,e.child,null,n),t.child.memoizedState=Os(n),t.memoizedState=As,s);if(0===(1&t.mode))t=Ls(e,t,n,null);else if("$!"===r.data)t=Ls(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),ys||i){if(null!==(i=mu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,qu(e,i,-1))}ic(),t=Ls(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=gc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ia=t,Aa=!0,Oa=null,null!==n&&(ma[ka++]=wa,ma[ka++]=xa,ma[ka++]=ba,wa=n.id,xa=n.overflow,ba=t),(t=Ps(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Rs(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Os(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=As,i):(n=Ds(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Rs(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Os(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=As,i):(n=Ds(e,t,i.children,n),t.memoizedState=null,n)}function Ps(e,t){return(t=Ec({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ds(e,t,n,r){var i=e.child;return e=i.sibling,n=xc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Rs(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=xc(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xc(o,r):(r=_c(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ls(e,t,n,r){return null!==r&&Fa(r),Ha(t,e.child,null,n),(e=Ps(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ms(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function js(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Fs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ms(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ms(e,n,t);else if(19===e.tag)Ms(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,a);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Us(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Eu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){switch(Ta(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),xi(Ti),xi(Ei),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(xi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ja()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(eo),null;case 4:return Xa(),null;case 10:return Gi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var zs=!1,Bs=!1,Hs="function"===typeof WeakSet?WeakSet:Set,qs=null;function Ks(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Ws(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Gs=!1;function Qs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Ws(t,n,a)}i=i.next}while(i!==r)}}function $s(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Js(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Xs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Ws(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ks(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Ks(t,n);break;case 4:iu(e,t,n)}}function Ys(e){var t=e.alternate;null!==t&&(e.alternate=null,Ys(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zs(e){return 5===e.tag||3===e.tag||4===e.tag}function eu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function tu(e){e:{for(var t=e.return;null!==t;){if(Zs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),ru(e,n=eu(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,nu(e,n=eu(e),t);break;default:throw Error(a(161))}}function nu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(nu(e,t,n),e=e.sibling;null!==e;)nu(e,t,n),e=e.sibling}function ru(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ru(e,t,n),e=e.sibling;null!==e;)ru(e,t,n),e=e.sibling}function iu(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=n,f=c;;)if(Xs(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(u=r,c=o.stateNode,8===u.nodeType?ai(u.parentNode,c):1===u.nodeType&&ai(u,c),zt(u)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Xs(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function au(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qs(3,t,t.return),$s(3,t),void Qs(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?ge(n,u):"dangerouslySetInnerHTML"===s?fe(n,u):"children"===s?he(n,u):k(n,s,u,t)}switch(e){case"input":Y(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void ou(t)}throw Error(a(163))}function ou(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Hs),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function su(e,t,n){qs=e,uu(e,t,n)}function uu(e,t,n){for(var r=0!==(1&e.mode);null!==qs;){var i=qs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||zs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Bs;s=zs;var c=Bs;if(zs=o,(Bs=u)&&!c)for(qs=i;null!==qs;)u=(o=qs).child,22===o.tag&&null!==o.memoizedState?fu(i):null!==u?(u.return=o,qs=u):fu(i);for(;null!==a;)qs=a,uu(a,t,n),a=a.sibling;qs=i,zs=s,Bs=c}cu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,qs=a):cu(e)}}function cu(e){for(;null!==qs;){var t=qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bs||$s(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Bs||512&t.flags&&Js(t)}catch(d){dc(t,t.return,d)}}if(t===e){qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,qs=n;break}qs=t.return}}function lu(e){for(;null!==qs;){var t=qs;if(t===e){qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qs=n;break}qs=t.return}}function fu(e){for(;null!==qs;){var t=qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$s(4,t)}catch(u){dc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){dc(t,i,u)}}var a=t.return;try{Js(t)}catch(u){dc(t,a,u)}break;case 5:var o=t.return;try{Js(t)}catch(u){dc(t,o,u)}}}catch(u){dc(t,t.return,u)}if(t===e){qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,qs=s;break}qs=t.return}}var hu,du=Math.ceil,pu=b.ReactCurrentDispatcher,vu=b.ReactCurrentOwner,gu=b.ReactCurrentBatchConfig,yu=0,mu=null,ku=null,bu=0,wu=0,xu=wi(0),Su=0,_u=null,Eu=0,Tu=0,Iu=0,Cu=null,Au=null,Ou=0,Nu=1/0,Pu=!1,Du=null,Ru=null,Lu=!1,Mu=null,ju=0,Fu=0,Uu=null,Vu=-1,zu=0;function Bu(){return 0!==(6&yu)?Xe():-1!==Vu?Vu:Vu=Xe()}function Hu(e){return 0===(1&e.mode)?1:0!==(2&yu)&&0!==bu?bu&-bu:null!==Vi.transition?(0===zu&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),zu=e),zu):0!==(e=mt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function qu(e,t,n){if(50<Fu)throw Fu=0,Uu=null,Error(a(185));var r=Ku(e,t);return null===r?null:(gt(r,t,n),0!==(2&yu)&&r===mu||(r===mu&&(0===(2&yu)&&(Tu|=t),4===Su&&Ju(r,bu)),Wu(r,n),1===t&&0===yu&&0===(1&e.mode)&&(Nu=Xe()+500,Mi&&Ui())),r)}function Ku(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Wu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===mu?bu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,Fi(e)}(Xu.bind(null,e)):Fi(Xu.bind(null,e)),ri((function(){0===yu&&Ui()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=mc(n,Gu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gu(e,t){if(Vu=-1,zu=0,0!==(6&yu))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===mu?bu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=yu;yu|=2;var o=rc();for(mu===e&&bu===t||(Nu=Xe()+500,tc(e,t));;)try{sc();break}catch(u){nc(e,u)}Wi(),pu.current=o,yu=i,null!==ku?t=0:(mu=null,bu=0,t=Su)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Qu(e,i))),1===t)throw n=_u,tc(e,0),Ju(e,r),Wu(e,Xe()),n;if(6===t)Ju(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=Qu(e,o))),1===t))throw n=_u,tc(e,0),Ju(e,r),Wu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,Au);break;case 3:if(Ju(e,r),(130023424&r)===r&&10<(t=Ou+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Bu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,Au),t);break}lc(e,Au);break;case 4:if(Ju(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*du(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,Au),r);break}lc(e,Au);break;default:throw Error(a(329))}}}return Wu(e,Xe()),e.callbackNode===n?Gu.bind(null,e):null}function Qu(e,t){var n=Cu;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=Au,Au=n,null!==t&&$u(t)),e}function $u(e){null===Au?Au=e:Au.push.apply(Au,e)}function Ju(e,t){for(t&=~Iu,t&=~Tu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Xu(e){if(0!==(6&yu))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Wu(e,Xe()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Qu(e,r))}if(1===n)throw n=_u,tc(e,0),Ju(e,t),Wu(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,Au),Wu(e,Xe()),null}function Yu(e,t){var n=yu;yu|=1;try{return e(t)}finally{0===(yu=n)&&(Nu=Xe()+500,Mi&&Ui())}}function Zu(e){null!==Mu&&0===Mu.tag&&0===(6&yu)&&fc();var t=yu;yu|=1;var n=gu.transition,r=mt;try{if(gu.transition=null,mt=1,e)return e()}finally{mt=r,gu.transition=n,0===(6&(yu=t))&&Ui()}}function ec(){wu=xu.current,xi(xu)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ku)for(n=ku.return;null!==n;){var r=n;switch(Ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Xa(),xi(Ti),xi(Ei),ro();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:xi(eo);break;case 10:Gi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(mu=e,ku=e=xc(e.current,null),bu=wu=t,Su=0,_u=null,Iu=Tu=Eu=0,Au=Cu=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Xi=null}return e}function nc(e,t){for(;;){var n=ku;try{if(Wi(),io.current=Yo,lo){for(var r=so.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=uo=so=null,fo=!1,ho=0,vu.current=null,null===n||null===n.return){Su=1,_u=t,ku=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=bu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fs(s);if(null!==p){p.flags&=-257,hs(p,s,u,0,t),1&p.mode&&ls(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}if(0===(1&t)){ls(o,l,t),ic();break e}c=Error(a(426))}else if(Aa&&1&u.mode){var y=fs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hs(y,s,u,0,t),Fa(c);break e}}o=c,4!==Su&&(Su=2),null===Cu?Cu=[o]:Cu.push(o),c=ns(c,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,ia(u,us(0,c,t));break e;case 1:o=c;var m=u.type,k=u.stateNode;if(0===(128&u.flags)&&("function"===typeof m.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ru||!Ru.has(k)))){u.flags|=65536,t&=-t,u.lanes|=t,ia(u,cs(u,o,t));break e}}u=u.return}while(null!==u)}cc(n)}catch(b){t=b,ku===n&&null!==n&&(ku=n=n.return);continue}break}}function rc(){var e=pu.current;return pu.current=Yo,null===e?Yo:e}function ic(){0!==Su&&3!==Su&&2!==Su||(Su=4),null===mu||0===(268435455&Eu)&&0===(268435455&Tu)||Ju(mu,bu)}function ac(e,t){var n=yu;yu|=2;var r=rc();for(mu===e&&bu===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Wi(),yu=n,pu.current=r,null!==ku)throw Error(a(261));return mu=null,bu=0,Su}function oc(){for(;null!==ku;)uc(ku)}function sc(){for(;null!==ku&&!$e();)uc(ku)}function uc(e){var t=hu(e.alternate,e,wu);e.memoizedProps=e.pendingProps,null===t?cc(e):ku=t,vu.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vs(n,t,wu)))return void(ku=n)}else{if(null!==(n=Vs(n,t)))return n.flags&=32767,void(ku=n);if(null===e)return Su=6,void(ku=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ku=t);ku=t=e}while(null!==t);0===Su&&(Su=5)}function lc(e,t){var n=mt,r=gu.transition;try{gu.transition=null,mt=1,function(e,t,n){do{fc()}while(null!==Mu);if(0!==(6&yu))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===mu&&(ku=mu=null,bu=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Lu||(Lu=!0,mc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=gu.transition,gu.transition=null;var s=mt;mt=1;var u=yu;yu|=4,vu.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yr={focusedElem:e,selectionRange:n},qs=t;null!==qs;)if(e=(t=qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,qs=e;else for(;null!==qs;){t=qs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,y=v.memoizedState,m=t.stateNode,k=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:zi(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){dc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,qs=e;break}qs=t.return}v=Gs,Gs=!1}(e,r),function(e,t){for(qs=t;null!==qs;){var n=(t=qs).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{iu(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(_){dc(i,t,_)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,qs=n;else for(;null!==qs;){t=qs;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var s=t.alternate;if(null!==s){var u=s.ref;null!==u&&("function"===typeof u?u(null):u.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Ou=Xe())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var g=v.style;"function"===typeof g.setProperty?g.setProperty("display","none","important"):g.display="none"}else{var y=p.stateNode,m=p.memoizedProps.style,k=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;y.style.display=ve("display",k)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){qs=n;for(var b=n.child;null!==b;){for(n=qs=b;null!==qs;){var w=(r=qs).child;switch(r.tag){case 0:case 11:case 14:case 15:Qs(4,r,r.return);break;case 1:Ks(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var S=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(_){dc(r,S,_)}}break;case 5:Ks(r,r.return);break;case 22:if(null!==r.memoizedState){lu(n);continue}}null!==w?(w.return=r,qs=w):lu(n)}b=b.sibling}}}switch(4102&o){case 2:tu(t),t.flags&=-3;break;case 6:tu(t),t.flags&=-3,au(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,au(t.alternate,t);break;case 4:au(t.alternate,t)}}catch(_){dc(t,t.return,_)}if(null!==(n=t.sibling)){n.return=t.return,qs=n;break}qs=t.return}}}(e,r),hr(Yr),Yr=null,e.current=r,su(r,e,i),Je(),yu=u,mt=s,gu.transition=o}else e.current=r;if(Lu&&(Lu=!1,Mu=e,ju=i),0===(o=e.pendingLanes)&&(Ru=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Wu(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Pu)throw Pu=!1,e=Du,Du=null,e;0!==(1&ju)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Uu?Fu++:(Fu=0,Uu=e):Fu=0,Ui()}(e,t,n)}finally{gu.transition=r,mt=n}return null}function fc(){if(null!==Mu){var e=kt(ju),t=gu.transition,n=mt;try{if(gu.transition=null,mt=16>e?16:e,null===Mu)var r=!1;else{if(e=Mu,Mu=null,ju=0,0!==(6&yu))throw Error(a(331));var i=yu;for(yu|=4,qs=e.current;null!==qs;){var o=qs,s=o.child;if(0!==(16&qs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(qs=l;null!==qs;){var f=qs;switch(f.tag){case 0:case 11:case 15:Qs(8,f,o)}var h=f.child;if(null!==h)h.return=f,qs=h;else for(;null!==qs;){var d=(f=qs).sibling,p=f.return;if(Ys(f),f===l){qs=null;break}if(null!==d){d.return=p,qs=d;break}qs=p}}}var v=o.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,qs=s;else e:for(;null!==qs;){if(0!==(2048&(o=qs).flags))switch(o.tag){case 0:case 11:case 15:Qs(9,o,o.return)}var m=o.sibling;if(null!==m){m.return=o.return,qs=m;break e}qs=o.return}}var k=e.current;for(qs=k;null!==qs;){var b=(s=qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,qs=b;else e:for(s=k;null!==qs;){if(0!==(2048&(u=qs).flags))try{switch(u.tag){case 0:case 11:case 15:$s(9,u)}}catch(x){dc(u,u.return,x)}if(u===s){qs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,qs=w;break e}qs=u.return}}if(yu=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{mt=n,gu.transition=t}}return!1}function hc(e,t,n){na(e,t=us(0,t=ns(n,t),1)),t=Bu(),null!==(e=Ku(e,1))&&(gt(e,1,t),Wu(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ru||!Ru.has(r))){na(t,e=cs(t,e=ns(n,e),1)),e=Bu(),null!==(t=Ku(t,1))&&(gt(t,1,e),Wu(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bu(),e.pingedLanes|=e.suspendedLanes&n,mu===e&&(bu&n)===n&&(4===Su||3===Su&&(130023424&bu)===bu&&500>Xe()-Ou?tc(e,0):Iu|=n),Wu(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Bu();null!==(e=Ku(e,t))&&(gt(e,t,n),Wu(e,n))}function gc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function mc(e,t){return Ge(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bc(e,t,n,r){return new kc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)wc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return _c(n.children,i,o,t);case _:s=8,i|=8;break;case E:return(e=bc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=bc(13,n,t,i)).elementType=A,e.lanes=o,e;case O:return(e=bc(19,n,t,i)).elementType=O,e.lanes=o,e;case D:return Ec(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case N:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=bc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function _c(e,t,n,r){return(e=bc(7,e,r,t)).lanes=n,e}function Ec(e,t,n,r){return(e=bc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={},e}function Tc(e,t,n){return(e=bc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ac(e,t,n,r,i,a,o,s,u){return e=new Cc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=bc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Oc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Nc(e){if(!e)return _i;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Pi(e,n,t)}return t}function Pc(e,t,n,r,i,a,o,s,u){return(e=Ac(n,r,!0,e,0,a,0,s,u)).context=Nc(null),n=e.current,(a=ta(r=Bu(),i=Hu(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,gt(e,i,r),Wu(e,r),e}function Dc(e,t,n,r){var i=t.current,a=Bu(),o=Hu(i);return n=Nc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=qu(i,o,a))&&ra(e,i,o),o}function Rc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}hu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ys=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Is(t),ja();break;case 5:Ya(t);break;case 1:Ai(t.type)&&Di(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ns(e,t,n):(Si(eo,1&eo.current),null!==(e=Us(e,t,n))?e.sibling:null);Si(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Fs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Us(e,t,n)}(e,t,n);ys=0!==(131072&e.flags)}else ys=!1,Aa&&0!==(1048576&t.flags)&&_a(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Ei.current);$i(t,n),i=yo(null,t,r,e,i,n);var o=mo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,Aa&&o&&Ea(t),ms(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=zi(r,e),i){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Es(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=bs(null,t,r,zi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cs(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cs(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ia=t,Aa=!0,Oa=null,n=qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ja(),r===i){t=Us(e,t,n);break e}ms(e,t,r,n)}t=t.child}return t;case 5:return Ya(t),null===e&&Ra(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Zr(r,i)?s=null:null!==o&&Zr(r,o)&&(t.flags|=32),Ss(e,t),ms(e,t,s,n),t.child;case 6:return null===e&&Ra(t),null;case 13:return Ns(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ha(t,null,r,n):ms(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return ms(e,t,t.pendingProps,n),t.child;case 8:case 12:return ms(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(Bi,r._currentValue),r._currentValue=s,null!==o)if(ar(o.value,s)){if(o.children===i.children&&!Ti.current){t=Us(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Qi(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Qi(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ms(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=Ji(i)),t.flags|=1,ms(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),bs(e,t,r,i=zi(r.type,i),n);case 15:return ws(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Di(t)):e=!1,$i(t,n),fa(t,r,i),da(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Fs(e,t,n);case 22:return xs(e,t,n)}throw Error(a(156,t.tag))};var jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Fc(e){this._internalRoot=e}function Uc(e){this._internalRoot=e}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function Hc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Rc(o);s.call(e)}}Dc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Rc(o);a.call(e)}}var o=Pc(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=o,e[fi]=o.current,Vr(8===e.nodeType?e.parentNode:e),Zu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Rc(u);s.call(e)}}var u=Ac(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=u,e[fi]=u.current,Vr(8===e.nodeType?e.parentNode:e),Zu((function(){Dc(t,u,n,r)})),u}(n,t,e,i,r);return Rc(o)}Uc.prototype.render=Fc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Dc(e,t,null,null)},Uc.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zu((function(){Dc(null,e,null,null)})),t[fi]=null}},Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Wu(t,Xe()),0===(6&yu)&&(Nu=Xe()+500,Ui()))}break;case 13:var r=Bu();Zu((function(){return qu(e,1,r)})),Mc(e,1)}},wt=function(e){13===e.tag&&(qu(e,134217728,Bu()),Mc(e,134217728))},xt=function(e){if(13===e.tag){var t=Bu(),n=Hu(e);qu(e,n,t),Mc(e,n)}},St=function(){return mt},_t=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}},xe=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=mi(r);if(!i)throw Error(a(90));G(r),Y(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Yu,Ae=Zu;var qc={usingClientEntryPoint:!1,Events:[gi,yi,mi,Te,Ie,Yu]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Wc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{it=Gc.inject(Wc),at=Gc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(t))throw Error(a(200));return Oc(e,t,null,n)},t.createRoot=function(e,t){if(!Vc(e))throw Error(a(299));var n=!1,r="",i=jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ac(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Fc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zu(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(a(200));return Hc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Vc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Pc(t,null,e,1,null!=n?n:null,i,0,o,s),e[fi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Uc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(a(200));return Hc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zu((function(){Hc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Yu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Hc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function k(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var b=k.prototype=new m;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return O()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function g(){}function y(){}function m(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=m.prototype=g.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:t,done:!0}}return y.prototype=m,u(x,"constructor",m),u(m,"constructor",y),y.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(_.prototype),u(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(g=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,g&&(g=!1,m(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,E=null,T=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function O(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?S():(_=!1,E=null)}}else _=!1}if("function"===typeof k)S=function(){k(O)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=O,S=function(){P.postMessage(null)}}else S=function(){y(O,0)};function D(e){E=e,_||(_=!0,S())}function R(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(g?(m(T),T=-1):g=!0,R(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)},332:function(e,t,n){"use strict";e.exports=n.p+"static/media/Menu.docx.41742f924e9e2d641918.pdf"},274:function(e,t,n){"use strict";e.exports=n.p+"static/media/president.4b0ee7951252c3f13d95.webp"},550:function(e,t,n){"use strict";e.exports=n.p+"static/media/0.5g_vermont_grown_saffron_1.b8f4e0619c77b680eb02.webp"},655:function(e,t,n){"use strict";e.exports=n.p+"static/media/0.5g_vermont_grown_saffron_2.44efc6684463de1a4ee6.webp"},135:function(e,t,n){"use strict";e.exports=n.p+"static/media/0.5g_vermont_grown_saffron_3.a701179ae29bf043d8ed.webp"},793:function(e,t,n){"use strict";e.exports=n.p+"static/media/1g_vt_grown_saffron.1edd468796e1153f83c3.webp"},461:function(e,t,n){"use strict";e.exports=n.p+"static/media/2g_vt_grown_saffron_1.5fca5de0343df65472cc.webp"},891:function(e,t,n){"use strict";e.exports=n.p+"static/media/2g_vt_grown_saffron_2.44efc6684463de1a4ee6.webp"},843:function(e,t,n){"use strict";e.exports=n.p+"static/media/calabash_gift_set.7a38924e1a5a1f060e95.webp"},435:function(e,t,n){"use strict";e.exports=n.p+"static/media/erotic_gift_set.e69653e7c5495f2688da.webp"},649:function(e,t,n){"use strict";e.exports=n.p+"static/media/saffron_maple_syrup.72da24c95fc5cde02b3a.webp"},641:function(e,t,n){"use strict";e.exports=n.p+"static/media/saffron_tincture.87352a2ab6440e2d88de.webp"},549:function(e,t,n){"use strict";e.exports=n.p+"static/media/spa_day_gift_set.2212de7543a24cbb8695.webp"},107:function(e,t,n){"use strict";e.exports=n.p+"static/media/vice_president.17bdc928001c6af4c261.webp"},922:function(e,t,n){"use strict";e.exports=n.p+"static/media/large_logo_no_purple_square.d79473467cddab92df7c.png"},738:function(e,t,n){"use strict";e.exports=n.p+"static/media/ageless_beauty_body_butter.16e17b37069502a57712.jpg"},583:function(e,t,n){"use strict";e.exports=n.p+"static/media/calabash_gifts_set.8eb43f3e24fc9168d3f2.jpeg"},414:function(e,t,n){"use strict";e.exports=n.p+"static/media/cold_and_flu.35a76a31c63cdeb21866.jpg"},594:function(e,t,n){"use strict";e.exports=n.p+"static/media/event_night.fef1acd6cfa95b44b9b0.jpg"},661:function(e,t,n){"use strict";e.exports=n.p+"static/media/saffron_simple_syrup.8aa83cd5a97dfc16e396.jpg"},663:function(e,t,n){"use strict";e.exports=n.p+"static/media/the_heart_and_the_head.3883e90171566ef6db46.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",function(){"use strict";var e,t=n(791),r=n(250);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var u=function(e){return e};var c="beforeunload",l="popstate";function f(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=g(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,s=e.hash,c=void 0===s?"":s,l=i.state||{};return[l.idx,u({pathname:n,search:o,hash:c,state:l.usr||null,key:l.key||"default"})]}var o=null;function f(){if(o)x.call(o),o=null;else{var t=e.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var s=k-r;s&&(o={action:t,location:i,retry:function(){C(-1*s)}},C(s))}}else I(t)}}r.addEventListener(l,f),r.addEventListener("hashchange",(function(){v(a()[1])!==v(b)&&f()}));var y=e.Pop,m=a(),k=m[0],b=m[1],w=d(),x=d();function S(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:v(e))}function _(e,t){return void 0===t&&(t=null),u(s({pathname:b.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:p()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},S(e)]}function T(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function I(e){y=e;var t=a();k=t[0],b=t[1],w.call({action:y,location:b})}function C(e){i.go(e)}null==k&&(k=0,i.replaceState(s({},i.state,{idx:k}),""));var A={get action(){return y},get location(){return b},createHref:S,push:function t(n,a){var o=e.Push,s=_(n,a);if(T(o,s,(function(){t(n,a)}))){var u=E(s,k+1),c=u[0],l=u[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}I(o)}},replace:function t(n,r){var a=e.Replace,o=_(n,r);if(T(a,o,(function(){t(n,r)}))){var s=E(o,k),u=s[0],c=s[1];i.replaceState(u,"",c),I(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(c,h),function(){t(),x.length||r.removeEventListener(c,h)}}};return A}function h(e){e.preventDefault(),e.returnValue=""}function d(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function p(){return Math.random().toString(36).substr(2,8)}function v(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var y=(0,t.createContext)(null);var m=(0,t.createContext)(null);var k=(0,t.createContext)({outlet:null,matches:[]});function b(e,t){if(!e)throw new Error(t)}function w(e,t,n){void 0===n&&(n="/");var r=A(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=x(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=T(i[o],r);return a}function x(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||b(!1),a.relativePath=a.relativePath.slice(r.length));var o=O([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&b(!1),x(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:E(o,e.index),routesMeta:s})})),t}var S=/^:\w+$/,_=function(e){return"*"===e};function E(e,t){var n=e.split("/"),r=n.length;return n.some(_)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!_(e)})).reduce((function(e,t){return e+(S.test(t)?3:""===t?1:10)}),r)}function T(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=I({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:O([i,l.pathname]),pathnameBase:N(O([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=O([i,l.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function C(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:P(a),hash:D(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},N=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},D=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function R(e){L()||b(!1);var n=(0,t.useContext)(y),r=n.basename,i=n.navigator,a=F(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):O([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function L(){return null!=(0,t.useContext)(m)}function M(){return L()||b(!1),(0,t.useContext)(m).location}function j(){L()||b(!1);var e=(0,t.useContext)(y),n=e.basename,r=e.navigator,i=(0,t.useContext)(k).matches,a=M().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);return(0,t.useEffect)((function(){s.current=!0})),(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=C(e,JSON.parse(o),a);"/"!==n&&(i.pathname=O([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a])}function F(e){var n=(0,t.useContext)(k).matches,r=M().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return C(e,JSON.parse(i),r)}),[e,i,r])}function U(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function V(e){b(!1)}function z(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,f=n.static,h=void 0!==f&&f;L()&&b(!1);var d=N(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=g(s));var v=s,k=v.pathname,w=void 0===k?"/":k,x=v.search,S=void 0===x?"":x,_=v.hash,E=void 0===_?"":_,T=v.state,I=void 0===T?null:T,C=v.key,O=void 0===C?"default":C,P=(0,t.useMemo)((function(){var e=A(w,d);return null==e?null:{pathname:e,search:S,hash:E,state:I,key:O}}),[d,w,S,E,I,O]);return null==P?null:(0,t.createElement)(y.Provider,{value:p},(0,t.createElement)(m.Provider,{children:o,value:{location:P,navigationType:c}}))}function B(e){var n=e.children,r=e.location;return function(e,n){L()||b(!1);var r,i=(0,t.useContext)(k).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,M());if(n){var c,l="string"===typeof n?g(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||b(!1),r=l}else r=u;var f=r.pathname||"/",h=w(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return U(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:O([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:O([s,e.pathnameBase])})})),i)}(H(n),r)}function H(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==V&&b(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=H(e.props.children)),n.push(r)}else n.push.apply(n,H(e.props.children))})),n}function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var W=["onClick","reloadDocument","replace","state","target","to"],G=["aria-current","caseSensitive","className","end","style","to","children"];function Q(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=f({window:i}));var s=a.current,u=o((0,t.useState)({action:s.action,location:s.location}),2),c=u[0],l=u[1];return(0,t.useLayoutEffect)((function(){return s.listen(l)}),[s]),(0,t.createElement)(z,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:s})}var $=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=K(e,W),f=R(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=j(),u=M(),c=F(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||v(u)===v(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",q({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var J=(0,t.forwardRef)((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=K(e,G),v=M(),g=F(h),y=v.pathname,m=g.pathname;o||(y=y.toLowerCase(),m=m.toLowerCase());var k,b=y===m||!l&&y.startsWith(m)&&"/"===y.charAt(m.length),w=b?i:void 0;k="function"===typeof u?u({isActive:b}):[u,b?"active":null].filter(Boolean).join(" ");var x="function"===typeof f?f({isActive:b}):f;return(0,t.createElement)($,q({},p,{"aria-current":w,className:k,ref:n,style:x,to:h}),"function"===typeof d?d({isActive:b}):d)}));var X=n(248),Y=n(327),Z=n(164);var ee=function(e){e()},te=function(){return ee},ne=t.createContext(null);function re(){return(0,t.useContext)(ne)}var ie=function(){throw new Error("uSES not initialized!")},ae=ie,oe=function(e,t){return e===t};function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,n=e===ne?re:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=ae(o.addNestedSub,a.getState,s||a.getState,e,r);return(0,t.useDebugValue)(u),u}}var ue=se();n(110),n(900);var ce={notify:function(){},get:function(){return[]}};function le(e,t){var n,r=ce;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=te(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ce)},getListeners:function(){return r}};return o}var fe=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var he=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=le(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);fe((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||ne;return t.createElement(u.Provider,{value:o},i)};function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,n=e===ne?re:function(){return(0,t.useContext)(e)};return function(){return n().store}}var pe=de();function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=e===ne?pe:de(e);return function(){return t().dispatch}}var ge,ye=ve();function me(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Se(e){return!!e&&!!e[ht]}function _e(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===dt}(e)||Array.isArray(e)||!!e[ft]||!!e.constructor[ft]||Ne(e)||Pe(e))}function Ee(e,t,n){void 0===n&&(n=!1),0===Te(e)?(n?Object.keys:pt)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Te(e){var t=e[ht];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Ne(e)?2:Pe(e)?3:0}function Ie(e,t){return 2===Te(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ce(e,t){return 2===Te(e)?e.get(t):e[t]}function Ae(e,t,n){var r=Te(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Oe(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Ne(e){return st&&e instanceof Map}function Pe(e){return ut&&e instanceof Set}function De(e){return e.o||e.t}function Re(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=vt(e);delete t[ht];for(var n=pt(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Le(e,t){return void 0===t&&(t=!1),je(e)||Se(e)||!_e(e)||(Te(e)>1&&(e.set=e.add=e.clear=e.delete=Me),Object.freeze(e),t&&Ee(e,(function(e,t){return Le(t,!0)}),!0)),e}function Me(){xe(2)}function je(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Fe(e){var t=gt[e];return t||xe(18,e),t}function Ue(e,t){gt[e]||(gt[e]=t)}function Ve(){return at}function ze(e,t){t&&(Fe("Patches"),e.u=[],e.s=[],e.v=t)}function Be(e){He(e),e.p.forEach(Ke),e.p=null}function He(e){e===at&&(at=e.l)}function qe(e){return at={p:[],l:at,h:e,m:!0,_:0}}function Ke(e){var t=e[ht];0===t.i||1===t.i?t.j():t.O=!0}function We(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Fe("ES5").S(t,e,r),r?(n[ht].P&&(Be(t),xe(4)),_e(e)&&(e=Ge(t,e),t.l||$e(t,e)),t.u&&Fe("Patches").M(n[ht].t,e,t.u,t.s)):e=Ge(t,n,[]),Be(t),t.u&&t.v(t.u,t.s),e!==lt?e:void 0}function Ge(e,t,n){if(je(t))return t;var r=t[ht];if(!r)return Ee(t,(function(i,a){return Qe(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return $e(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Re(r.k):r.o;Ee(3===r.i?new Set(i):i,(function(t,a){return Qe(e,r,i,t,a,n)})),$e(e,i,!1),n&&e.u&&Fe("Patches").R(r,n,e.u,e.s)}return r.o}function Qe(e,t,n,r,i,a){if(Se(i)){var o=Ge(e,i,a&&t&&3!==t.i&&!Ie(t.D,r)?a.concat(r):void 0);if(Ae(n,r,o),!Se(o))return;e.m=!1}if(_e(i)&&!je(i)){if(!e.h.F&&e._<1)return;Ge(e,i),t&&t.A.l||$e(e,i)}}function $e(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Le(t,n)}function Je(e,t){var n=e[ht];return(n?De(n):e)[t]}function Xe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ye(e){e.P||(e.P=!0,e.l&&Ye(e.l))}function Ze(e){e.o||(e.o=Re(e.t))}function et(e,t,n){var r=Ne(t)?Fe("MapSet").N(t,n):Pe(t)?Fe("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Ve(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=yt;n&&(i=[r],a=mt);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):Fe("ES5").J(t,n);return(n?n.A:Ve()).p.push(r),r}function tt(e){return Se(e)||xe(22,e),function e(t){if(!_e(t))return t;var n,r=t[ht],i=Te(t);if(r){if(!r.P&&(r.i<4||!Fe("ES5").K(r)))return r.t;r.I=!0,n=nt(t,i),r.I=!1}else n=nt(t,i);return Ee(n,(function(t,i){r&&Ce(r.t,t)===i||Ae(n,t,e(i))})),3===i?new Set(n):n}(e)}function nt(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Re(e)}function rt(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ht];return yt.get(t,e)},set:function(t){var n=this[ht];yt.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ht];if(!i.P)switch(i.i){case 5:r(i)&&Ye(i);break;case 4:n(i)&&Ye(i)}}}function n(e){for(var t=e.t,n=e.k,r=pt(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==ht){var o=t[a];if(void 0===o&&!Ie(t,a))return!0;var s=n[a],u=s&&s[ht];if(u?u.t!==o:!Oe(s,o))return!0}}var c=!!t[ht];return r.length!==pt(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Ue("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=vt(n);delete a[ht];for(var o=pt(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:Ve(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ht,{value:a,writable:!0}),i},S:function(e,n,i){i?Se(n)&&n[ht].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ht];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)Ee(a,(function(t){t!==ht&&(void 0!==i[t]||Ie(i,t)?o[t]||e(a[t]):(o[t]=!0,Ye(n)))})),Ee(i,(function(e){void 0!==a[e]||Ie(a,e)||(o[e]=!1,Ye(n))}));else if(5===s){if(r(n)&&(Ye(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){ae=e}(Y.useSyncExternalStoreWithSelector),function(e){e}(X.useSyncExternalStore),ge=Z.unstable_batchedUpdates,ee=ge;var it,at,ot="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),st="undefined"!=typeof Map,ut="undefined"!=typeof Set,ct="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,lt=ot?Symbol.for("immer-nothing"):((it={})["immer-nothing"]=!0,it),ft=ot?Symbol.for("immer-draftable"):"__$immer_draftable",ht=ot?Symbol.for("immer-state"):"__$immer_state",dt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),pt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,vt=Object.getOwnPropertyDescriptors||function(e){var t={};return pt(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},gt={},yt={get:function(e,t){if(t===ht)return e;var n=De(e);if(!Ie(n,t))return function(e,t,n){var r,i=Xe(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!_e(r)?r:r===Je(e.t,t)?(Ze(e),e.o[t]=et(e.A.h,r,e)):r},has:function(e,t){return t in De(e)},ownKeys:function(e){return Reflect.ownKeys(De(e))},set:function(e,t,n){var r=Xe(De(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Je(De(e),t),a=null==i?void 0:i[ht];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Oe(n,i)&&(void 0!==n||Ie(e.t,t)))return!0;Ze(e),Ye(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Je(e.t,t)||t in e.t?(e.D[t]=!1,Ze(e),Ye(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=De(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){xe(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){xe(12)}},mt={};Ee(yt,(function(e,t){mt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),mt.deleteProperty=function(e,t){return mt.set.call(this,e,t,void 0)},mt.set=function(e,t,n){return yt.set.call(this,e[0],t,n,e[0])};var kt=function(){function e(e){var t=this;this.g=ct,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&xe(6),void 0!==r&&"function"!=typeof r&&xe(7),_e(e)){var s=qe(t),u=et(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?Be(s):He(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return ze(s,r),We(e,s)}),(function(e){throw Be(s),e})):(ze(s,r),We(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===lt&&(o=void 0),t.F&&Le(o,!0),r){var l=[],f=[];Fe("Patches").M(e,o,l,f),r(l,f)}return o}xe(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){_e(e)||xe(8),Se(e)&&(e=tt(e));var t=qe(this),n=et(this,e,void 0);return n[ht].C=!0,He(t),n},t.finishDraft=function(e,t){var n=(e&&e[ht]).A;return ze(n,t),We(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ct&&xe(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Fe("Patches").$;return Se(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),bt=new kt,wt=bt.produce,xt=(bt.produceWithPatches.bind(bt),bt.setAutoFreeze.bind(bt),bt.setUseProxies.bind(bt),bt.applyPatches.bind(bt),bt.createDraft.bind(bt),bt.finishDraft.bind(bt),wt);function St(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _t="function"===typeof Symbol&&Symbol.observable||"@@observable",Et=function(){return Math.random().toString(36).substring(7).split("").join(".")},Tt={INIT:"@@redux/INIT"+Et(),REPLACE:"@@redux/REPLACE"+Et(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Et()}};function It(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ct(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(St(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(St(1));return n(Ct)(e,t)}if("function"!==typeof e)throw new Error(St(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(St(3));return a}function f(e){if("function"!==typeof e)throw new Error(St(4));if(u)throw new Error(St(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(St(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!It(e))throw new Error(St(7));if("undefined"===typeof e.type)throw new Error(St(8));if(u)throw new Error(St(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(St(10));i=e,h({type:Tt.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(St(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[_t]=function(){return this},e}return h({type:Tt.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[_t]=p,r}function At(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Tt.INIT}))throw new Error(St(12));if("undefined"===typeof n(void 0,{type:Tt.PROBE_UNKNOWN_ACTION()}))throw new Error(St(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(St(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Nt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(St(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Ot.apply(void 0,a)(n.dispatch),we(we({},n),{},{dispatch:r})}}}function Pt(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Dt=Pt();Dt.withExtraArgument=Pt;var Rt=Dt,Lt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mt=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},jt=Object.defineProperty,Ft=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Ut=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,zt=function(e,t,n){return t in e?jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Bt=function(e,t){for(var n in t||(t={}))Ut.call(t,n)&&zt(e,n,t[n]);if(Ft)for(var r=0,i=Ft(t);r<i.length;r++){n=i[r];Vt.call(t,n)&&zt(e,n,t[n])}return e},Ht="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ot:Ot.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function qt(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Kt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Lt(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Mt([void 0],e[0].concat(this)))):new(t.bind.apply(t,Mt([void 0],e.concat(this))))},t}(Array);function Wt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Kt);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Rt.withExtraArgument(n.extraArgument)):r.push(Rt));0;return r}(e)}}function Gt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Bt(Bt({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Qt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}Object.assign;var $t="listenerMiddleware";Gt($t+"/add"),Gt($t+"/removeAll"),Gt($t+"/remove");rt();var Jt=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:xt(e.initialState,(function(){})),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?Qt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=Bt(Bt({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?Qt(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return xt(e(),(function(){}))};else{var c=xt(e,(function(){}));i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=Mt([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(Se(e))return"undefined"===typeof(r=n(e,t))?e:r;if(_e(e))return xt(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?Gt(c,r):Gt(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"cart",initialState:[],reducers:{addCartItem:function(e,t){var n=function(t){return e.find((function(e){return e.key===t}))}(t.payload.key);return n&&1===t.payload.priceOptions.length?e.map((function(e,n){var r=we({},e);return e.key===t.payload.key&&r.quantity++,r})):[].concat(me(e),[we(we({},t.payload),{},{quantity:1})])},decrementCartItem:function(e,t){return t.payload.quantity>1?e.map((function(e,n){var r=we({},e);return e.key===t.payload.key&&r.quantity--,r})):e.filter((function(e){return e.key!==t.payload.key}))},removeCartItem:function(e,t){return e.filter((function(e){return e.key!==t.payload.key}))}}}),Xt=function(e){return e.cart},Yt=Jt.actions,Zt=Yt.addCartItem,en=Yt.decrementCartItem,tn=Yt.removeCartItem,nn=Jt.reducer,rn=n(184);function an(){var e=ue(Xt),t=function(){window.innerWidth>=480||(document.getElementById("navlinks").style.display="none",document.getElementById("hamburger-icon").style.display="block",document.getElementById("close-navbar-icon").style.display="none")};return(0,rn.jsxs)("div",{className:"topnav",children:[(0,rn.jsxs)("div",{id:"hamburger-container",children:[(0,rn.jsx)("button",{tabIndex:"0",id:"hamburger-icon",onClick:function(){document.getElementById("navlinks").style.display="flex",document.getElementById("navlinks").style.flexDirection="column",document.getElementById("navlinks").style.border="1px solid black",document.getElementById("hamburger-icon").style.display="none",document.getElementById("close-navbar-icon").style.display="block"},"aria-label":"open navigation menu",children:(0,rn.jsx)("i",{className:"fa-solid fa-bars fa-2xl"})}),(0,rn.jsx)("button",{tabIndex:"0",id:"close-navbar-icon",onClick:t,"aria-label":"close navigation menu",children:(0,rn.jsx)("i",{className:"fa-solid fa-xmark fa-2xl"})})]}),(0,rn.jsxs)("section",{id:"navlinks",onClick:t,children:[(0,rn.jsx)(J,{to:"/",children:"Home"}),(0,rn.jsx)(J,{to:"/shop",children:"Shop"}),(0,rn.jsx)(J,{to:"/contact",children:"Contact Us"})]}),(0,rn.jsxs)(J,{id:"cart-navlink",to:"/cart",onClick:t,className:"",children:[(0,rn.jsx)("i",{className:"fa-solid fa-cart-shopping fa-xl",type:"button","aria-label":"cart"}),function(){if(!(e.length<1))return(0,rn.jsx)("p",{children:e.length})}()]})]})}var on={header:{title:"Calabash Gardens",subtitle:"100% Vermont and Regeneratively Grown. Oh! So Beautiful!",button:"Get In Touch"},banner:{title:"Calabash Gardens",subtitle_1:"Black, Women & Worker owned.",subtitle_2:"One Thread at a Time",paragraph:"We are a progressive, innovative and sustainably minded saffron farm in Wells River, Vermont. The Farm produces the highest quality, organically grown saffron in the Northeast while striving to uphold the ethics of regenerative agricultural practices. Transparent, passionate, and inspiring the farm promotes equal opportunity while demonstrating leadership in a blossoming and dynamic US spice industry.",button:"Learn More"},offerings:{title:"Offerings",paragraph:"From premium saffron threads to infused saffron products, you will find the best quality with us, One Thread at a Time. Whether shopping for seasonal condiments or wild apothecary products, we have a wide selection for you to choose from. The best part is, everything is locally and responsibly grown right here in the Green Mountains, so you can enjoy our products knowing you\u2019re supporting the community and the planet.",box_1:{title:"Premium Saffron",paragraph:"We offer grade A premium saffron, grown right here at Calabash Gardens from a half gram to a kilo and beyond!"},box_2:{title:"Apothecary",paragraph:"Our apothecary brings you an array of useful remedies and beauty products straight from vermont's woods and our regenerative herb garden. Capturing the medicine and essence of the wild to help facilitate your body's own natural functions."},box_3:{title:"Calabash Garden's Experience",paragraph:"Come enjoy a night of elevated farm to plate dinning with menus  featuring our very own saffron and only the most local and freshest ingredients. Guest Chefs will delight and inspire you to use saffron in your own kitchen, while pairing courses with the finest local spirits. Let yourself be serenaded away by beautiful sound waves, get lost in our enchanted, immersive ourdoor dinning experience."},box_4:{title:"Regenerative farming",paragraph:"Never heard of Regenerative Agrictulture? Let us take you on a journey past substainable, past organic, into the regenerative power of farming!"},more_info:"For more information about our products or to make an order, contact us."},about:{title:"About Us",paragraph_1:"Calabash Gardens was started in late summer of 2018 with 2000 Crocus Sativus corms. They were directly planted in the ground and were subject to the whim of nature. The test plot succesfully flowered each October, facilitating the planting of a half acre in 2020, 9 acres will follow with in the next 10 years. Using regenerative agriculture practices and a variety of cover crops for maximum biodiversity we will build soil and sequester carbon reducing our carbon footprint while activiely regenerating the landscape.",paragraph_2:"Calabash is on track to be a pioneer producer and distributor of the saffron spice in the western hemisphere while our community-centered business model is constructed to employ Black farmers and shareholders while bringing saffron to the plates of everyday Americans. Calabash Gardens is not just a farm, it's a movement.",button:"Get In Touch"},team:{title:"Team",position_1:{title:"President",name:"Claudel Chery",bio:"Claudel Zaka Chery, a Haitian poet and film director, moved to Newbury from Jacmel-Haiti in 2011. He was the assistant to the director of FOSAJ, Flo McGarrell. Both Mr McGarrell and Zaka ran the Jacmel art center with great energy and taste. On 12 January 2010, his beloved country of Haiti entered a nightmare from which there was no hope of waking. 316,000 people died in the 37 seconds that an earthquake moved just under the surface of the island facilitating his move to Newbury."},position_2:{title:"Vice President",name:"Jette Mandl-Abramson",bio:"Jette Mandl-Abramson, born in New Mexico, raised in the South coast of New Hampshire, is primarily a ceramist, herbalist and organic regenerative farmer. She has also worked in the restaurant industry for fifteen years. Her passions are great food, horticulture, animals and wild edible plants. She wants every initiative she takes to be Eco- friendly and regenerative as well as giving something back to the community."}}},sn=n(922);function un(){return(0,rn.jsxs)("div",{children:[(0,rn.jsxs)("div",{className:"above_nav header_color",children:[(0,rn.jsxs)("div",{className:"title_container header_color",children:[(0,rn.jsx)("div",{className:"logo header_color",children:(0,rn.jsx)("img",{alt:"purple flower logo",src:sn})}),(0,rn.jsxs)("div",{className:"title header_color",children:[(0,rn.jsx)("h1",{className:"header_color",children:on.header.title}),(0,rn.jsx)("p",{className:"header_color",children:on.header.subtitle})]})]}),(0,rn.jsx)("div",{className:"get_in_touch header_color",children:(0,rn.jsx)($,{id:"contact-Link",to:"/contact",children:(0,rn.jsx)("button",{children:on.header.button})})})]}),(0,rn.jsx)(an,{})]})}function cn(){return document.querySelector("body").onscroll=function(){var e=.05*document.scrollingElement.scrollTop-400;document.getElementById("banner").style.backgroundPosition="center "+e+"px"},(0,rn.jsxs)("div",{id:"banner",children:[(0,rn.jsx)("h1",{children:on.banner.title}),(0,rn.jsxs)("h4",{children:[on.banner.subtitle_1,(0,rn.jsx)("br",{}),on.banner.subtitle_2]}),(0,rn.jsx)("div",{className:"banner_p",children:(0,rn.jsx)("p",{children:on.banner.paragraph})}),(0,rn.jsx)("div",{className:"learn_more",children:(0,rn.jsx)("button",{children:on.banner.button})})]})}var ln,fn,hn,dn="",pn=n(922),vn=function(e){var t="abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ-1234567890.,";return Array.prototype.map.call(e,(function(e){var n=t.indexOf(e);return n>-1?n:t.length})).join("")},gn=[{title:"Test basket",category:"All",info:dn,priceOptions:[{price:"0.10"}],shipping:"0.00",isHighlighted:!1,isActive:!1,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Calabash Gifts Set",category:"Gifts",info:dn,priceOptions:[{price:"100.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[n(583)],get key(){return vn(this.title)}},{title:"Calabash Gift Set",category:"Gifts",info:dn,priceOptions:[{price:"50.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[n(843)],get key(){return vn(this.title)}},{title:"Spa Day Gift Set",category:"Gifts",info:dn,priceOptions:[{price:"50.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[n(549)],get key(){return vn(this.title)}},{title:"Erotic Gift Set",category:"Gifts",info:dn,priceOptions:[{price:"100.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[n(435)],get key(){return vn(this.title)}},{title:"Saffron Maple Syrup",category:"Saffron",info:"Smooth sweet syrup, locally sourced and flavored with our saffron.",priceOptions:[{option:"4 oz",price:"15.00"},{option:"8 oz",price:"27.00"}],shipping:"15.00",isHighlighted:!0,isActive:!0,inStock:!0,photos:[n(649)],get key(){return vn(this.title)}},{title:"Saffron Honey",category:"Saffron",info:"Raw honey, made by our bees and other local farms, with a touch of saffron",priceOptions:[{option:"4 oz",price:"17.00"},{option:"8 oz",price:"30.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Saffron Simple Syrup",category:"Saffron",info:"Add saffron to your cocktails with our saffron simple syrup.",priceOptions:[{option:"4 oz",price:"15.00"},{option:"8 oz",price:"30.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[n(661)],get key(){return vn(this.title)}},{title:"Saffron Salt 2 oz",category:"Saffron",info:"Add saffron to your cocktails with our saffron simple syrup.",priceOptions:[{option:"2 oz",price:"12.50"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Vermont Grown Saffron",category:"Saffron",info:"Our regeneratively grown, organic saffron.",priceOptions:[{option:"1/2 Gram",price:"40.00"},{option:"1 Gram",price:"60.00"},{option:"2 Grams",price:"110.00"}],shipping:"15.00",isHighlighted:!0,isActive:!0,inStock:!0,photos:[n(550),n(655),n(135),n(793),n(461),n(891)],get key(){return vn(this.title)}},{title:"Saffron Tincture",category:"Saffron",info:"Our saffron tincture is an excellent way to ingest all the medicinal benefits of saffron.",priceOptions:[{option:"1/2 oz",price:"20.00"},{option:"1 oz",price:"30.00"},{option:"4 oz",price:"110.00"}],shipping:"15.00",isHighlighted:!0,isActive:!0,inStock:!0,photos:[n(641)],get key(){return vn(this.title)}},{title:"Oregano 1/2 0z",category:"Culinary",info:"Farm fresh dehydrated herbs.",priceOptions:[{option:"1/2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Tarragon 1/2 0z",category:"Culinary",info:"Farm fresh dehydrated herbs.",priceOptions:[{option:"1/2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Ramp Pesto Walnut",category:"Culinary",info:"Pesto made with foraged wild leeks and walnuts. Subtle onion flavor.",priceOptions:[{option:"4 oz",price:"15.00"},{option:"8 oz",price:"30.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Ramp Pesto Pecan",category:"Culinary",info:"Pesto made with foraged wild leeks and pecans. Subtle onion flavor.",priceOptions:[{option:"4 oz",price:"15.00"},{option:"8 oz",price:"30.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Habanero Salt 2 oz",category:"Culinary",info:"An easy way to add habanero to any dish.",priceOptions:[{option:"2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Thai Chili Salt 2 oz",category:"Culinary",info:"An easy way to add Thai chili flavor to any dish.",priceOptions:[{option:"2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Cilantro Salt 2 oz",category:"Culinary",info:"An easy way to add cilantro to any dish.",priceOptions:[{option:"2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Rose Sugar 2 oz",category:"Culinary",info:"Organic sugar with a gentle rose flavor",priceOptions:[{option:"2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Ginger Sugar 2 oz",category:"Culinary",info:"Organic sugar with a gentle ginger spice flavor",priceOptions:[{option:"2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Cranberry Honey",category:"Culinary",info:"Locally sourced raw honey fermented with cranberry and other spices.",priceOptions:[{option:"4 oz",price:"15.00"},{option:"8 oz",price:"27.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Elderflower Elixir",category:"Culinary",info:"Elder flower tinture mix with raw local honey to make elder flower cordials.",priceOptions:[{option:"4 oz",price:"15.00"},{option:"8 oz",price:"27.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Trinidad Saffron Trifecta 4 oz",category:"Culinary",info:"Mild",priceOptions:[{option:"4 oz",price:"12.50"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Saffron Ghost in Trinidad 4 oz",category:"Culinary",info:"Medium",priceOptions:[{option:"4 oz",price:"12.50"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Ghost of Saffron Carolina 4 oz",category:"Culinary",info:"Hot like the devil just kissed your tongue",priceOptions:[{option:"4 oz",price:"12.50"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"The Heart and Head 1/2 oz Loose Leaf Tea",category:"Loose Leaf Tea",info:dn,priceOptions:[{option:"1/2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[n(663)],get key(){return vn(this.title)}},{title:"Easy Does It 1/2 oz Loose Leaf Tea",category:"Loose Leaf Tea",info:dn,priceOptions:[{option:"1/2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Goddess Moon 1/2 oz Loose Leaf Tea",category:"Loose Leaf Tea",info:dn,priceOptions:[{option:"1/2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Brainiac 1/2 oz Loose Leaf Tea",category:"Loose Leaf Tea",info:dn,priceOptions:[{option:"1/2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Wild Fire Frenzy 1/2 oz Loose Leaf Tea",category:"Loose Leaf Tea",info:dn,priceOptions:[{option:"1/2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Cold & Flu 1/2 oz Loose Leaf Tea",category:"Loose Leaf Tea",info:dn,priceOptions:[{option:"1/2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Milk Machine 1/2 oz Loose Leaf Tea",category:"Loose Leaf Tea",info:dn,priceOptions:[{option:"1/2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Sweet Relief 1/2 oz Loose Leaf Tea",category:"Loose Leaf Tea",info:dn,priceOptions:[{option:"1/2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Saffron Macha 1/2 oz Loose Leaf Tea",category:"Loose Leaf Tea",info:dn,priceOptions:[{option:"1/2 oz",price:"17.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Tea Ball",category:"Loose Leaf Tea",info:dn,priceOptions:[{price:"5.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Sizzle",category:"Mambo Gede",info:dn,priceOptions:[{option:"3/8 dram",price:"5.00"},{option:"5 ml",price:"7.00"},{option:"10 ml",price:"12.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Sippery Daze 4 oz",category:"Mambo Gede",info:dn,priceOptions:[{option:"4 0z",price:"55.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Rara Magic",category:"Mambo Gede",info:dn,priceOptions:[{option:"1 0z",price:"30.00"},{option:"4 0z",price:"55.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Honey Don't You Glow, Clay Mask 4 0z",category:"Body Care",info:"Kaolin clay mask, made with organanic ingredients that leaves your skin fresh and smooth.",priceOptions:[{option:"4 0z",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Soaking Salts 5 0z",category:"Body Care",info:"Ease your muscles with our floral soaking salts",priceOptions:[{option:"5 0z",price:"12.50"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Ageless Beauty Butter",category:"Body Care",info:"A body butter made with local herbs that act like collagen to reduce the appearance wrinkles.",priceOptions:[{option:"2 0z",price:"25.00"},{option:"4 0z",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[n(738)],get key(){return vn(this.title)}},{title:"Ageless Beauty Oil 4 0z",category:"Body Care",info:"A body oil made with local herbs that act like collagen to reduce the appearance wrinkles.",priceOptions:[{option:"4 0z",price:"37.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Bath Bombs",category:"Body Care",info:dn,priceOptions:[{option:"",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Great Green Heal",category:"Body Care",info:dn,priceOptions:[{option:"2 oz",price:"25.00"},{option:"4 oz",price:"40.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Heal All",category:"Body Care",info:"This salve made from local herbs, coconut oil and beeswax. Nature's #1 bacterial defense.",priceOptions:[{option:"2 oz",price:"25.00"},{option:"4 oz",price:"40.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Itch Don't Bug Me Now 10 ml",category:"Body Care",info:"Roll on antihistamine for hives and bug bites.",priceOptions:[{option:"10 ml",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Fungus Among Us 2 oz",category:"Body Care",info:dn,priceOptions:[{option:"2 oz",price:"25.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Lip Balm 1/2 oz",category:"Body Care",info:"Super hydrating chapstick",priceOptions:[{option:"1/2 oz",price:"10.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Hydration Station",category:"Body Care",info:"The ultimate moisturizing salve formula.",priceOptions:[{option:"2 oz",price:"25.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Meadow Magic Gardener's Balm",category:"Body Care",info:"Excelent choice for hard working hands",priceOptions:[{option:"2 oz",price:"25.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Pain B Gone",category:"Body Care",info:"A salve for achy joints and muscles.",priceOptions:[{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Silky Smooth Flower Balm",category:"Body Care",info:"A salve that harnesses the power of wild flowers to repair and hydrate over worked skin.",priceOptions:[{option:"2 oz",price:"25.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Sunny Days, Massage Oil 4 oz",category:"Body Care",info:"Long lasting message oil, harnessing the powers of dandelion and violet.",priceOptions:[{option:"4 oz",price:"37.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"BO? Not Today, Deoderant Spray 4 oz",category:"Body Care",info:"Natural spray-on deoderant.",priceOptions:[{option:"4 oz",price:"37.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Bug Spray 4 oz",category:"Body Care",info:"A natural bug spray made with a potent mix of bug repelling herbs",priceOptions:[{option:"4 oz",price:"37.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Facial Toner",category:"Body Care",info:"A gentle cleansing and pore minimizing herbal formula.",priceOptions:[{option:"1 oz",price:"15.00"},{option:"4 oz",price:"35.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Headache and Fever",category:"Tinctures",info:"A fever reducer and herbal suppliment for headaches and migraines.",priceOptions:[{option:"1 oz",price:"20.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Joint Health",category:"Tinctures",info:"An anti-inflammatory with soft tissue restoration and pain releaver.",priceOptions:[{option:"1 oz",price:"20.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Reishi Turkey Tail",category:"Tinctures",info:"Full body tonic and immune system booster for health and well being.",priceOptions:[{option:"1 oz",price:"20.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Allergy Relief",category:"Tinctures",info:"A powerful antihistamine.",priceOptions:[{option:"1 oz",price:"20.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Moon Beams and Day Dreams",category:"Tinctures",info:"Herbal sleep suppliment that calms the mind.",priceOptions:[{option:"1 oz",price:"20.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"A Touch of Sunshine",category:"Tinctures",info:"St John's Wort herbal blend that for depression and anxiety",priceOptions:[{option:"1 oz",price:"20.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Bitters",category:"Tinctures",info:"Delicious way to start the digestive system while enjoying a cocktail.",priceOptions:[{option:"1 oz",price:"20.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"The Root Cause Bitters",category:"Tinctures",info:"Delicious way to start the digestive system while enjoying a cocktail.",priceOptions:[{option:"1 oz",price:"20.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Cold and Flu",category:"Tinctures",info:dn,priceOptions:[{option:"1 oz",price:"20.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[n(414)],get key(){return vn(this.title)}},{title:"Lions Share",category:"Tinctures",info:dn,priceOptions:[{option:"1 oz",price:"20.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Free the Pee",category:"Tinctures",info:dn,priceOptions:[{option:"1 oz",price:"20.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Goddess Moon",category:"Tinctures",info:dn,priceOptions:[{option:"1 oz",price:"20.00"},{option:"4 oz",price:"42.00"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[pn],get key(){return vn(this.title)}},{title:"Dream Weaver 1/2 oz",category:"Ritual Smoking Blends",info:dn,priceOptions:[{option:"1/2 oz",price:"12.50"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Original Blend 1/2 oz",category:"Ritual Smoking Blends",info:dn,priceOptions:[{option:"1/2 oz",price:"12.50"}],shipping:"15.00",isHighlighted:!1,isActive:!0,inStock:!0,photos:[pn],get key(){return vn(this.title)}},{title:"Calabash Experience, Farm to Table Dinner",category:"Experience",info:"On September 2nd, 2023 Calabash is hosting a farm to table fine dining experience for your culinary pleasure. Featuring Chef Micheal Clancy, with every dish featuring Calabash Gardens saffron, local spirits with herbal infusion pairings, mocktails if preferred.  All produce and meats featured are from some of our favorite local farms such as Hogwash Farm in Norwich, Crooked Mile Cheese in Waterford, Joes Brook Farm in Barnet, Honeywilya Salmon caught in Alaska and distributed out of Duxbury and walnuts from the Sweet Cow located here in Newbury. Spirits from our favorite local distilleries Silo in Windsor and Bar Hill in Montpelier and coffee from Upper Valley Coffee Roasters also right here in Newbury. Live music to be announced. The cost of the evening is $90, $50 non refundable deposit per person will hold your reservation and $40 per person at time of service. Gratuities are appreciated. We have limited seating with a maximum of 20 guests so make sure to claim your spot! We are so looking forward to hosting you, let's have an incredible evening of the highest quality local food and drink!",info1:"On September 2nd, 2023 Calabash is hosting a farm to table fine dining experience for your culinary pleasure. Featuring Chef Micheal Clancy, with every dish featuring Calabash Gardens saffron,  ",info2:"local spirits with herbal infusion pairings, mocktails if preferred.  All produce and meats featured are from some of our favorite local farms such as Hogwash Farm in Norwich, Crooked Mile Cheese in Waterford, Joes Brook Farm in Barnet, Honeywilya Salmon caught in Alaska and distributed out of Duxbury and walnuts from the Sweet Cow located here in Newbury. Spirits from our favorite local distilleries Silo in Windsor and Bar Hill in Montpelier and coffee from Upper Valley Coffee Roasters also right here in Newbury. Live music to be announced. The cost of the evening is $90, $50 non refundable deposit per person will hold your reservation and $40 per person at time of service. Gratuities are appreciated. We have limited seating with a maximum of 20 guests so make sure to claim your spot! We are so looking forward to hosting you, let's have an incredible evening of the highest quality local food and drink!",link:n(332),priceOptions:[{price:"50.00"}],shipping:"0.00",isHighlighted:!1,isActive:!0,inStock:!1,photos:[n(594)],get key(){return vn(this.title)}}];function yn(e){var n=e.product,r=ye(),i=n.title,a=n.info,s=n.info1,u=n.info2,c=n.link,l=n.priceOptions,f=n.key,h=n.inStock,d=o((0,t.useState)(l[0]),2),p=d[0],v=d[1],g=o((0,t.useState)(we(we({},n),{},{price:l[0].price,key:n.key+"0"})),2),y=g[0],m=g[1],k=n.photos.map((function(e){return"".concat(e)})),b=(k[0],"/products/".concat(f)),w=o((0,t.useState)({span:!0,readMore:!1,readLess:!0}),2),x=w[0],S=w[1];(0,t.useEffect)((function(){m(we(we({},n),{},{price:p.price,title:i+(p.option?" "+p.option:""),key:n.key.slice(0,-1)+l.findIndex((function(e){return e.option===p.option})).toString()}))}),[p,n,i]);var _=o((0,t.useState)(0),2),E=_[0],T=_[1];return(0,rn.jsxs)("div",{className:"product_container",children:[(0,rn.jsx)($,{to:b,className:"product-img-title",children:(0,rn.jsx)("img",{src:k[E],alt:k[E]})}),(0,rn.jsxs)("div",{hidden:1===k.length,className:"flex m-2",children:[(0,rn.jsx)("button",{className:"d-inline-block btn btn-outline-primary",onClick:function(){0!==E&&T(E-1)},children:"<"}),(0,rn.jsx)("button",{className:"d-inline-block btn btn-outline-primary",onClick:function(){E!==k.length-1&&T(E+1)},children:">"})]}),(0,rn.jsx)($,{to:b,className:"product-img-title",children:(0,rn.jsx)("h4",{children:i})}),s?(0,rn.jsxs)("p",{children:[s,(0,rn.jsx)("span",{hidden:x.span,children:u}),(0,rn.jsx)("button",{className:"readMoreLess",hidden:x.readMore,onClick:function(){S({span:!1,readMore:!0,readLess:!1})},children:"...read more"}),(0,rn.jsx)("button",{className:"readMoreLess",hidden:x.readLess,onClick:function(){S({span:!0,readMore:!1,readLess:!0})},children:"...read less"}),c?(0,rn.jsxs)("a",{href:c,target:"blank",children:[(0,rn.jsx)("br",{}),(0,rn.jsx)("br",{}),"Check out our tasting menu here"]}):null]}):(0,rn.jsxs)("p",{children:[a,c?(0,rn.jsxs)("a",{href:c,target:"blank",children:[(0,rn.jsx)("br",{}),(0,rn.jsx)("br",{}),"Check out our tasting menu here"]}):null]}),l.length>1?(0,rn.jsx)(rn.Fragment,{children:(0,rn.jsx)("select",{className:"mb-3",onChange:function(e){v(JSON.parse(e.target.value))},value:JSON.stringify(p),children:l.map((function(e){return(0,rn.jsxs)("option",{value:JSON.stringify(e),children:[e.option," is $",e.price]},e.option)}))})}):(0,rn.jsxs)("p",{children:["$",l[0].price]}),h?(0,rn.jsx)("button",{className:"add_to_cart btn btn-outline-primary",onClick:function(){r(Zt(y))},children:"Add To Cart"}):(0,rn.jsx)("p",{children:" Out of Stock "})]})}function mn(){return(0,rn.jsx)("div",{id:"highlighted-products",children:gn.map((function(e){return e.isHighlighted&&!0===e.isActive?(0,rn.jsx)(yn,{product:e},e.key):null}))})}function kn(){return(0,rn.jsxs)("div",{id:"about",children:[(0,rn.jsx)("h1",{children:on.about.title}),(0,rn.jsx)("p",{children:on.about.paragraph_1}),(0,rn.jsx)("p",{children:on.about.paragraph_2}),(0,rn.jsx)($,{to:"contact",children:(0,rn.jsx)("button",{className:"btn btn-primary","aria-label":"Get In Touch",children:on.about.button})})]})}function bn(){return document.querySelector("body").onscroll=function(){var e=-.5*document.scrollingElement.scrollTop+1e3;document.getElementById("parallax_container").style.backgroundPosition="center "+e+"px"},(0,rn.jsx)("div",{id:"parallax_container"})}function wn(){return(0,rn.jsxs)("div",{id:"team",children:[(0,rn.jsx)("h1",{children:on.team.title}),(0,rn.jsxs)("div",{id:"team_main",children:[(0,rn.jsxs)("div",{id:"position_1_container",children:[(0,rn.jsx)("img",{src:n(274),alt:"Claudel Chery"}),(0,rn.jsxs)("div",{id:"position_1",children:[(0,rn.jsx)("h3",{children:on.team.position_1.name}),(0,rn.jsx)("h4",{children:on.team.position_1.title}),(0,rn.jsx)("p",{children:on.team.position_1.bio})]})]}),(0,rn.jsxs)("div",{id:"position_2_container",children:[(0,rn.jsx)("img",{src:n(107),alt:"Jette Mandl-Abramson"}),(0,rn.jsxs)("div",{id:"position_2",children:[(0,rn.jsx)("h3",{children:on.team.position_2.name}),(0,rn.jsx)("h4",{children:on.team.position_2.title}),(0,rn.jsx)("p",{children:on.team.position_2.bio})]})]})]})]})}function xn(){return(0,rn.jsxs)("div",{className:"main",children:[(0,rn.jsx)(cn,{}),(0,rn.jsxs)("div",{children:[(0,rn.jsx)(mn,{}),(0,rn.jsx)(bn,{}),(0,rn.jsx)(kn,{}),(0,rn.jsx)(wn,{})]})]})}function Sn(){var e=o((0,t.useState)("All"),2),n=e[0],r=e[1],i=o((0,t.useState)("All"),2),a=i[0],s=i[1],u=o((0,t.useState)([]),2),c=u[0],l=u[1];return(0,t.useEffect)((function(){s(c.map((function(e){return(0,rn.jsx)("option",{value:e,children:e},e)})))}),[c]),(0,rn.jsxs)("div",{className:"",children:[(0,rn.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,rn.jsx)("h1",{className:"m-3",children:"Shop by category"}),(0,rn.jsx)("select",{className:"m-3",onChange:function(e){r(e.target.value)},value:n,children:a})]}),(0,rn.jsx)("div",{id:"shop",children:gn.map((function(e){return Array.isArray(c)&&(c.includes(e.category)||l([].concat(me(c),[e.category]))),!0!==e.isActive||e.category!==n&&"All"!==n?null:(0,rn.jsx)(yn,{product:e},e.key)}))})]})}function _n(){return(0,rn.jsxs)("div",{className:"footer footer_color",children:[(0,rn.jsxs)("div",{className:"title_container footer_color",children:[(0,rn.jsx)("div",{className:"logo footer_color",children:(0,rn.jsx)("img",{alt:"purple flower logo",src:sn})}),(0,rn.jsxs)("div",{className:"title footer_color",children:[(0,rn.jsx)("h1",{className:"footer_color",children:on.header.title}),(0,rn.jsx)("p",{className:"footer_color",children:on.header.subtitle})]})]}),(0,rn.jsx)("div",{className:"get_in_touch_footer footer_color",children:(0,rn.jsx)($,{to:"/contact",children:(0,rn.jsx)("button",{children:on.header.button})})})]})}function En(){var e=ye(),n=function(){var e=(0,t.useContext)(k).matches,n=e[e.length-1];return n?n.params:{}}(),r=function(e){for(var t=0;t<gn.length;t++){var n=gn[t];if(n.key===e)return n}console.log("getProduct() function failed to find a product matching the key"),alert("There was a problem loading this page!")}(n.key),i=r.photos.map((function(e){return"".concat(e)})),a=(i[0],r.title),s=r.info,u=r.link,c=r.priceOptions,l=r.inStock,f=o((0,t.useState)(c[0]),2),h=f[0],d=f[1],p=o((0,t.useState)(we(we({},r),{},{price:c[0].price,key:r.key+"0"})),2),v=p[0],g=p[1];(0,t.useEffect)((function(){g(we(we({},r),{},{price:h.price,title:a+(h.option?" "+h.option:""),key:r.key.slice(0,-1)+c.findIndex((function(e){return e.option===h.option})).toString()}))}),[h,r,a,c]);var y=o((0,t.useState)(0),2),m=y[0],b=y[1];return(0,rn.jsxs)("div",{className:"productPage_container",children:[(0,rn.jsx)("h4",{children:a}),(0,rn.jsx)("img",{src:i[m],alt:i[m]}),(0,rn.jsxs)("div",{hidden:1===i.length,className:"flex m-2",children:[(0,rn.jsx)("button",{className:"d-inline-block btn btn-outline-primary",onClick:function(){0!==m&&b(m-1)},children:"<"}),(0,rn.jsx)("button",{className:"d-inline-block btn btn-outline-primary",onClick:function(){m!==i.length-1&&b(m+1)},children:">"})]}),(0,rn.jsxs)("p",{children:[s,u?(0,rn.jsxs)("a",{href:u,target:"blank",children:[(0,rn.jsx)("br",{}),(0,rn.jsx)("br",{}),"Check out our tasting menu here"]}):null]}),c.length>1?(0,rn.jsx)(rn.Fragment,{children:(0,rn.jsx)("select",{className:"mb-3",onChange:function(e){d(JSON.parse(e.target.value))},value:JSON.stringify(h),children:c.map((function(e){return(0,rn.jsxs)("option",{value:JSON.stringify(e),children:[e.option," is $",e.price]},e.option)}))})}):(0,rn.jsxs)("p",{children:["$",c[0].price]}),l?(0,rn.jsx)("button",{className:"add_to_cart btn btn-outline-primary",onClick:function(){e(Zt(v))},children:"Add To Cart"}):(0,rn.jsx)("p",{children:" Out of Stock "}),(0,rn.jsx)($,{id:"proguctPage-continue-shopping",className:"continue-shopping  btn btn-secondary",to:"../shop",children:"Continue Shopping"})]})}function Tn(e){var t=ye(),n=e.product,r=n.photos.map((function(e){return"".concat(e)}))[0],i=n.title,a=(n.info,n.price),o=n.quantity;n.key;return(0,rn.jsx)("div",{className:"cart-items-container",children:(0,rn.jsxs)("div",{className:"cart-item",children:[(0,rn.jsx)("img",{src:r,alt:r}),(0,rn.jsxs)("div",{id:"cart-item-title-price",children:[(0,rn.jsx)("h4",{id:"cart-item-title",children:i}),(0,rn.jsxs)("div",{id:"cart-item-quantity-price-trash",children:[(0,rn.jsxs)("div",{id:"quantity-container",className:"d-flex m-4",children:[(0,rn.jsx)("button",{className:"btn btn-primary",onClick:function(){t(en(n))},children:"-"}),(0,rn.jsx)("p",{className:"m-2",children:o}),(0,rn.jsx)("button",{className:"btn btn-primary",onClick:function(){t(Zt(n))},children:"+"})]}),(0,rn.jsxs)("p",{id:"cart-item-price",className:"m-2",children:["$",a*o]}),(0,rn.jsx)("button",{id:"trash-can",className:"remove_from_cart ",onClick:function(){t(tn(n))},children:(0,rn.jsx)("i",{className:"fa-solid fa-trash-can fa-xl"})})]})]})]})})}!function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"}(ln||(ln={})),function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"}(fn||(fn={})),function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"}(hn||(hn={}));var In="data-react-paypal-script-id",Cn="data-sdk-integration-source",An="react-paypal-js",On="data-namespace",Nn="Failed to load the PayPal JS SDK script.",Pn="3.84.0",Dn=("https://js.braintreegateway.com/web/".concat(Pn,"/js/client.min.js"),"https://js.braintreegateway.com/web/".concat(Pn,"/js/paypal-checkout.min.js"),"paypal"),Rn=function(){return Rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rn.apply(this,arguments)};function Ln(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Mn(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function jn(e){return void 0===e&&(e=Dn),window[e]}function Fn(e){var t=e.reactComponentName,n=e.sdkComponentKey,r=e.sdkRequestedComponents,i=void 0===r?"":r,a=e.sdkDataNamespace,o=void 0===a?Dn:a,s=n.charAt(0).toUpperCase().concat(n.substring(1)),u="Unable to render <".concat(t," /> because window.").concat(o,".").concat(s," is undefined.");if(!i.includes(n)){var c=[i,n].filter(Boolean).join();u+="\nTo fix the issue, add '".concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(c,"'}}>`.")}return u}function Un(e){return"react-paypal-js-".concat(function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].charCodeAt(0)*n;e[n+1]&&(r+=e[n+1].charCodeAt(0)*(n-1)),t+=String.fromCharCode(97+Math.abs(r)%26)}return t}(JSON.stringify(e)))}function Vn(e,t){var n;switch(t.type){case fn.LOADING_STATUS:return Rn(Rn({},e),{loadingStatus:t.value});case fn.RESET_OPTIONS:return function(e){var t=self.document.querySelector("script[".concat(In,'="').concat(e,'"]'));(null===t||void 0===t?void 0:t.parentNode)&&t.parentNode.removeChild(t)}(e.options[In]),delete t.value[In],Rn(Rn({},e),{loadingStatus:ln.PENDING,options:Rn(Rn({},t.value),(n={},n[In]="".concat(Un(t.value)),n[Cn]=An,n))});case fn.SET_BRAINTREE_INSTANCE:return Rn(Rn({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var zn=(0,t.createContext)(null);function Bn(e){if("function"===typeof(null===e||void 0===e?void 0:e.dispatch)&&0!==e.dispatch.length)return e;throw new Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}function Hn(){var e=Bn((0,t.useContext)(zn));return[Rn(Rn({},e),{isInitial:e.loadingStatus===ln.INITIAL,isPending:e.loadingStatus===ln.PENDING,isResolved:e.loadingStatus===ln.RESOLVED,isRejected:e.loadingStatus===ln.REJECTED}),e.dispatch]}(0,t.createContext)({});var qn=function e(n){var r=n.className,i=void 0===r?"":r,a=n.disabled,o=void 0!==a&&a,s=n.children,u=n.forceReRender,c=void 0===u?[]:u,l=Ln(n,["className","disabled","children","forceReRender"]),f=o?{opacity:.38}:{},h="".concat(i," ").concat(o?"paypal-buttons-disabled":"").trim(),d=(0,t.useRef)(null),p=(0,t.useRef)(null),v=Hn()[0],g=v.isResolved,y=v.options,m=(0,t.useState)(null),k=m[0],b=m[1],w=(0,t.useState)(!0),x=w[0],S=w[1],_=(0,t.useState)(null)[1];function E(){null!==p.current&&p.current.close().catch((function(){}))}return(0,t.useEffect)((function(){if(!1===g)return E;var t=jn(y[On]);if(void 0===t||void 0===t.Buttons)return _((function(){throw new Error(Fn({reactComponentName:e.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:y.components,sdkDataNamespace:y[On]}))})),E;try{p.current=t.Buttons(Rn(Rn({},l),{onInit:function(e,t){b(t),"function"===typeof l.onInit&&l.onInit(e,t)}}))}catch(n){return _((function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(n))}))}return!1===p.current.isEligible()?(S(!1),E):d.current?(p.current.render(d.current).catch((function(e){null!==d.current&&0!==d.current.children.length&&_((function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(e))}))})),E):E}),Mn(Mn([g],c,!0),[l.fundingSource],!1)),(0,t.useEffect)((function(){null!==k&&(!0===o?k.disable().catch((function(){})):k.enable().catch((function(){})))}),[o,k]),t.createElement(t.Fragment,null,x?t.createElement("div",{ref:d,style:f,className:h}):s)};function Kn(e){var t="https://www.paypal.com/sdk/js";e.sdkBaseURL&&(t=e.sdkBaseURL,delete e.sdkBaseURL),function(e){var t=e["merchant-id"],n=e["data-merchant-id"],r="",i="";Array.isArray(t)?t.length>1?(r="*",i=t.toString()):r=t.toString():"string"===typeof t&&t.length>0?r=t:"string"===typeof n&&n.length>0&&(r="*",i=n);e["merchant-id"]=r,e["data-merchant-id"]=i}(e);var n=Object.keys(e).filter((function(t){return"undefined"!==typeof e[t]&&null!==e[t]&&""!==e[t]})).reduce((function(t,n){var r=e[n].toString();return"data-"===n.substring(0,5)?t.dataAttributes[n]=r:t.queryParams[n]=r,t}),{queryParams:{},dataAttributes:{}}),r=n.queryParams,i=n.dataAttributes;return{url:"".concat(t,"?").concat(Wn(r)),dataAttributes:i}}function Wn(e){var t="";return Object.keys(e).forEach((function(n){0!==t.length&&(t+="&"),t+=n+"="+e[n]})),t}function Gn(e,t){void 0===t&&(t={});var n=document.createElement("script");return n.src=e,Object.keys(t).forEach((function(e){n.setAttribute(e,t[e]),"data-csp-nonce"===e&&n.setAttribute("nonce",t["data-csp-nonce"])})),n}function Qn(e,t){if(void 0===t&&(t=Jn()),Yn(e,t),"undefined"===typeof window)return t.resolve(null);var n=Kn(e),r=n.url,i=n.dataAttributes,a=i["data-namespace"]||"paypal",o=Xn(a);return function(e,t){var n=document.querySelector('script[src="'.concat(e,'"]'));if(null===n)return null;var r=Gn(e,t),i=n.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(r.dataset).length)return null;var a=!0;return Object.keys(i.dataset).forEach((function(e){i.dataset[e]!==r.dataset[e]&&(a=!1)})),a?n:null}(r,i)&&o?t.resolve(o):$n({url:r,attributes:i},t).then((function(){var e=Xn(a);if(e)return e;throw new Error("The window.".concat(a," global variable is not available."))}))}function $n(e,t){void 0===t&&(t=Jn()),Yn(e,t);var n=e.url,r=e.attributes;if("string"!==typeof n||0===n.length)throw new Error("Invalid url.");if("undefined"!==typeof r&&"object"!==typeof r)throw new Error("Expected attributes to be an object.");return new t((function(e,t){if("undefined"===typeof window)return e();!function(e){var t=e.url,n=e.attributes,r=e.onSuccess,i=e.onError,a=Gn(t,n);a.onerror=i,a.onload=r,document.head.insertBefore(a,document.head.firstElementChild)}({url:n,attributes:r,onSuccess:function(){return e()},onError:function(){var e=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then((function(n){return 200===n.status&&t(e),n.text()})).then((function(e){var n=function(e){var t=e.split("/* Original Error:")[1];return t?t.replace(/\n/g,"").replace("*/","").trim():e}(e);t(new Error(n))})).catch((function(e){t(e)})):t(e)}})}))}function Jn(){if("undefined"===typeof Promise)throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function Xn(e){return window[e]}function Yn(e,t){if("object"!==typeof e||null===e)throw new Error("Expected an options object.");if("undefined"!==typeof t&&"function"!==typeof t)throw new Error("Expected PromisePonyfill to be a function.")}qn.displayName="PayPalButtons";(function e(n){var r=n.className,i=void 0===r?"":r,a=n.children,o=Ln(n,["className","children"]),s=Hn()[0],u=s.isResolved,c=s.options,l=(0,t.useRef)(null),f=(0,t.useState)(!0),h=f[0],d=f[1],p=(0,t.useState)(null)[1];return(0,t.useEffect)((function(){if(!1!==u){var t=jn(c[On]);if(void 0===t||void 0===t.Marks)return p((function(){throw new Error(Fn({reactComponentName:e.displayName,sdkComponentKey:"marks",sdkRequestedComponents:c.components,sdkDataNamespace:c[On]}))}));!function(e){var t=l.current;if(!t||!e.isEligible())return d(!1);t.firstChild&&t.removeChild(t.firstChild),e.render(t).catch((function(e){null!==t&&0!==t.children.length&&p((function(){throw new Error("Failed to render <PayPalMarks /> component. ".concat(e))}))}))}(t.Marks(Rn({},o)))}}),[u,o.fundingSource]),t.createElement(t.Fragment,null,h?t.createElement("div",{ref:l,className:i}):a)}).displayName="PayPalMarks";var Zn=function(e){var n,r=e.options,i=void 0===r?{"client-id":"test"}:r,a=e.children,o=e.deferLoading,s=void 0!==o&&o,u=(0,t.useReducer)(Vn,{options:Rn(Rn({},i),(n={},n[In]="".concat(Un(i)),n[Cn]=An,n)),loadingStatus:s?ln.INITIAL:ln.PENDING}),c=u[0],l=u[1];return(0,t.useEffect)((function(){if(!1===s&&c.loadingStatus===ln.INITIAL)return l({type:fn.LOADING_STATUS,value:ln.PENDING});if(c.loadingStatus===ln.PENDING){var e=!0;return Qn(c.options).then((function(){e&&l({type:fn.LOADING_STATUS,value:ln.RESOLVED})})).catch((function(t){console.error("".concat(Nn," ").concat(t)),e&&l({type:fn.LOADING_STATUS,value:ln.REJECTED})})),function(){e=!1}}}),[c.options,s,c.loadingStatus]),t.createElement(zn.Provider,{value:Rn(Rn({},c),{dispatch:l})},a)},er={sandbox:"AS9MW8fGSOBHYr4CIpI3XRFZ9whei3bm-9-if3HgaZ4-iF0rE-Vuk_o-qhKaJciYwFwlBszPr_0I2AYr",live:"AZFlCM2W8fteDwbhfRzeUtLWSgRCTcn8KXe-QGMSEIt6f7Wyo3GvwcwgYQCvM-kXTXHQxYIHmdPXwlXm"};function tr(e){var n=e.shipping,r=e.total,i=e.subtotal,a=o((0,t.useState)(!1),2),s=a[0],u=a[1],c=o((0,t.useState)(""),2),l=(c[0],c[1],o((0,t.useState)(!1),2)),f=l[0],h=l[1],d=o((0,t.useState)({}),2),p=d[0],v=d[1],g=o((0,t.useState)({}),2),y=g[0],m=g[1],k=ue(Xt).map((function(e){return{name:e.title,quantity:e.quantity,unit_amount:{currency_code:"USD",value:e.price},sku:e.key}}));return(0,t.useEffect)((function(){console.log("payerInfo from effect hook",p),console.log("payer from effect hook",y)}),[p,y]),(0,rn.jsx)(rn.Fragment,{children:s?(0,rn.jsxs)(rn.Fragment,{children:[(0,rn.jsxs)("h1",{style:{textAlign:"center",color:"green"},children:["Thank you for your order ",y.name.given_name,"!"]}),(0,rn.jsxs)("p",{style:{textAlign:"center",font:"bold"},children:["Your Order ID is: ",f]}),(0,rn.jsxs)("p",{style:{textAlign:"center",font:"bold",fontSize:"120%"},children:["Please check your inbox at ",y.email_address," for your order confirmation. If you didn't recieve a confirmation email please contact us directly through our contact form or email us at calabashgardens@gmail.com"]})]}):(0,rn.jsx)(Zn,{options:{"client-id":er.live},children:(0,rn.jsx)(qn,{style:{layout:"vertical"},createOrder:function(e,t){return t.order.create({intent:"CAPTURE",payment_source:{paypal:{experience_content:{shipping_preference:n.pref}}},purchase_units:[{reference_id:"001",description:"Calabash Gardens Online Order",amount:{currency_code:"USD",breakdown:{item_total:{value:i.toString(),currency_code:"USD"},shipping:{value:n.shipping,currency_code:"USD"}},value:r.toString()},items:k}]}).then((function(e){return h(e),console.log("orderID",e),e}))},onApprove:function(e,t){return t.order.capture().then((function(e){var t=e.payer;console.log("payer",t),console.log("details",e),m(t),v(e.purchase_units[0].shipping),u(!0)}))}})})})}function nr(){var e=ue(Xt),n=o((0,t.useState)({pref:"",shipping:""}),2),r=n[0],i=n[1],a=o((0,t.useState)(""),2),s=a[0],u=a[1],c=o((0,t.useState)(""),2),l=c[0],f=c[1],h=function(e){for(var t=0,n=0;n<e.length;n++){var r=Number(e[n].quantity);t+=Number(e[n].price)*r}return t!==l&&f(t),t}(e),d=function(e){for(var t=0,n=0;n<e.length;n++){var a=Number(e[n].shipping);t+=a}return t>15&&(t=15),0===t&&"NO_SHIPPING"!==r.pref?i((function(e){return we(we({},e),{},{pref:"NO_SHIPPING"})})):t&&"GET_FROM_FILE"!==r.pref&&i((function(e){return we(we({},e),{},{pref:"GET_FROM_FILE"})})),r.shipping!==t&&i((function(e){return we(we({},e),{},{shipping:t})})),t}(e),p=function(e){return Number(e)}(""),v=function(e,t,n){var r=e*((100-n)/100)+t;return r!==s&&u(r),r}(h,d,p);return(0,rn.jsxs)("div",{id:"cart",children:[(0,rn.jsx)("h1",{children:"Cart"}),e.map((function(e){return(0,rn.jsx)(Tn,{product:e})})),e.length<1?(console.log("Cart is empty"),(0,rn.jsxs)("div",{id:"empty-cart",children:[(0,rn.jsx)("h4",{children:"Your cart is empty"}),(0,rn.jsx)($,{className:"continue-shopping btn btn-secondary",to:"../shop",children:"Continue Shopping"})]})):(console.log("Cart is not empty"),(0,rn.jsxs)("div",{id:"total-paypal",children:[(0,rn.jsxs)("div",{id:"total-container",children:[(0,rn.jsxs)("div",{children:[(0,rn.jsx)("h4",{children:"Subtotal"}),(0,rn.jsxs)("h4",{children:["$",h]})]}),(0,rn.jsxs)("div",{children:[(0,rn.jsx)("h4",{children:"Shipping"}),(0,rn.jsxs)("h4",{children:["$",d]})]}),(0,rn.jsxs)("div",{children:[(0,rn.jsx)("h4",{children:"Total"}),(0,rn.jsxs)("h4",{children:["$",v]})]})]}),(0,rn.jsx)(tr,{shipping:r,total:s,subtotal:l}),(0,rn.jsx)($,{className:"continue-shopping  btn btn-secondary",to:"../shop",children:"Continue Shopping"})]}))]})}var rr={_origin:"https://api.emailjs.com"},ir=function(e,t,n){if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,t,n){return t&&ar(e.prototype,t),n&&ar(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ur=or((function e(t){sr(this,e),this.status=t?t.status:0,this.text=t?t.responseText:"Network Error"})),cr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){var a=new XMLHttpRequest;a.addEventListener("load",(function(e){var t=e.target,n=new ur(t);200===n.status||"OK"===n.text?r(n):i(n)})),a.addEventListener("error",(function(e){var t=e.target;i(new ur(t))})),a.open("POST",rr._origin+e,!0),Object.keys(n).forEach((function(e){a.setRequestHeader(e,n[e])})),a.send(t)}))},lr=function(e,t,n,r){var i=r||rr._userID,a=function(e){var t;if(!(t="string"===typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t}(n);ir(i,e,t);var o=new FormData(a);return o.append("lib_version","3.10.0"),o.append("service_id",e),o.append("template_id",t),o.append("user_id",i),cr("/api/v1.0/email/send-form",o)};function fr(){var e=(0,t.useRef)(),n=o((0,t.useState)({from_name:"",user_email:"",phone:"",message:"",sent:!1}),2),r=n[0],i=n[1],a=function(e){var t=e.target,n=t.name,r=t.value;i((function(e){var t;return we(we({},e),{},(ke(t={},n,r),ke(t,"sent",!1),t))}))};return(0,rn.jsxs)("form",{ref:e,onSubmit:function(t){t.preventDefault(),lr("service_6n5ow3f","template_9y2c7vf",e.current,"anRu1WXRFLGM58t0y").then((function(e){console.log("success",e),"OK"===e.text&&i((function(){return{from_name:"",user_email:"",phone:"",message:"",sent:!0}}))}),(function(e){console.log("error sending message",e),i((function(t){return we(we({},t),{},{sent:e})}))}))},children:[(0,rn.jsxs)("div",{className:"form-group",children:[(0,rn.jsx)("label",{children:"Name"}),(0,rn.jsx)("input",{className:"form-control",type:"text",name:"from_name",value:r.from_name,onChange:a,required:!0}),(0,rn.jsx)("label",{children:"Email address"}),(0,rn.jsx)("input",{className:"form-control",type:"email",name:"user_email",value:r.user_email,onChange:a,required:!0}),(0,rn.jsxs)("small",{id:"emailHelp",className:"form-text text-muted",children:["We'll never share your email with anyone else.",(0,rn.jsx)("br",{})]}),(0,rn.jsx)("label",{children:"Phone"}),(0,rn.jsx)("input",{className:"form-control",type:"tel",name:"phone",value:r.phone,onChange:a,required:!0}),(0,rn.jsx)("label",{children:"Message"}),(0,rn.jsx)("textarea",{className:"form-control",name:"message",value:r.message,onChange:a,required:!0}),(0,rn.jsx)("input",{id:"send_button",className:"btn btn-primary",type:"submit",value:"Send"})]}),!0===r.sent?(0,rn.jsx)("h4",{children:"Your message was sent successfully!"}):null,"error"===r.sent?(0,rn.jsx)("h4",{children:"There was an error sending your message. Please try again or email us directly at calabashgardens@gmail.com "}):null]})}function hr(e){return hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hr(e)}function dr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=hr(e)););return e}function pr(){return pr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=dr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},pr.apply(this,arguments)}function vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gr(e,t){return gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gr(e,t)}function yr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gr(e,t)}function mr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function kr(e){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(e)}function br(e,t){if(t&&("object"===kr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vr(e)}function wr(e){var t=mr();return function(){var n,r=hr(e);if(t){var i=hr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return br(this,n)}}function xr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function Sr(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function _r(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Sr(a,r,i,o,s,"next",e)}function s(e){Sr(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Er=n(757),Tr=n.n(Er);function Ir(e,t,n){return Ir=mr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&gr(i,n.prototype),i},Ir.apply(null,arguments)}function Cr(e){var t="function"===typeof Map?new Map:void 0;return Cr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ir(e,arguments,hr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),gr(n,e)},Cr(e)}var Ar=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Or={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ar(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Nr;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Nr=function(e){yr(n,e);var t=wr(n);function n(){var e;return sr(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return or(n)}(Cr(Error)),Pr=function(e){return function(e){var t=Ar(e);return Or.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Dr=function(e){try{return Or.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var Rr=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Lr=function(){try{return Rr()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Dr(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Mr=function(e){var t,n;return null===(n=null===(t=Lr())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},jr=function(){var e;return null===(e=Lr())||void 0===e?void 0:e.config},Fr=function(e){var t;return null===(t=Lr())||void 0===t?void 0:t["_".concat(e)]},Ur=function(){function e(){var t=this;sr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return or(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Vr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Pr(JSON.stringify({alg:"none",type:"JWT"})),Pr(JSON.stringify(a)),""].join(".")}function zr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Br(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Hr(){return!function(){var e,t=null===(e=Lr())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qr(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Kr(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var Wr=function(e){yr(n,e);var t=wr(n);function n(e,r,i){var a;return sr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(vr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(vr(a),Gr.prototype.create),a}return or(n)}(Cr(Error)),Gr=function(){function e(t,n,r){sr(this,e),this.service=t,this.serviceName=n,this.errors=r}return or(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Qr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Wr(n,a,t);return o}}]),e}();function Qr(e,t){return e.replace($r,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var $r=/\{\$([^}]+)}/g;function Jr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Yr(s)&&Yr(u)){if(!Xr(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Yr(e){return null!==e&&"object"===typeof e}function Zr(e){for(var t=[],n=function(){var e=o(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ei(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=o(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ti(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var ni=function(){function e(t,n){var r=this;sr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return or(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=xr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ri),void 0===r.error&&(r.error=ri),void 0===r.complete&&(r.complete=ri);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ri(){}var ii=144e5;function ai(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(ii,r+i)}function oi(e){return e&&e._delegate?e._delegate:e}var si=function(){function e(t,n,r){sr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return or(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ui="[DEFAULT]",ci=function(){function e(t,n){sr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return or(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ur;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch(c){}var t,n=xr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=_r(Er.mark((function e(){var t;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(me(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),me(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=xr(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=o(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){s.e(h)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=xr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ui?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui;return this.component?this.component.multipleInstances?e:ui:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var li,fi,hi=function(){function e(t){sr(this,e),this.name=t,this.providers=new Map}return or(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ci(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),di=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fi||(fi={}));var pi={debug:fi.DEBUG,verbose:fi.VERBOSE,info:fi.INFO,warn:fi.WARN,error:fi.ERROR,silent:fi.SILENT},vi=fi.INFO,gi=(ke(li={},fi.DEBUG,"log"),ke(li,fi.VERBOSE,"log"),ke(li,fi.INFO,"info"),ke(li,fi.WARN,"warn"),ke(li,fi.ERROR,"error"),li),yi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=gi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},mi=function(){function e(t){sr(this,e),this.name=t,this._logLevel=vi,this._logHandler=yi,this._userLogHandler=null,di.push(this)}return or(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in fi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?pi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fi.DEBUG].concat(t)),this._logHandler.apply(this,[this,fi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,fi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fi.INFO].concat(t)),this._logHandler.apply(this,[this,fi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fi.WARN].concat(t)),this._logHandler.apply(this,[this,fi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fi.ERROR].concat(t)),this._logHandler.apply(this,[this,fi.ERROR].concat(t))}}]),e}();var ki,bi;var wi=new WeakMap,xi=new WeakMap,Si=new WeakMap,_i=new WeakMap,Ei=new WeakMap;var Ti={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return xi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Si.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ii(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(bi||(bi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Oi(this),n),Ai(wi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ai(e.apply(Oi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Oi(this),t].concat(r));return Si.set(a,t.sort?t.sort():[t]),Ai(a)}}function Ci(e){return"function"===typeof e?Ii(e):(e instanceof IDBTransaction&&function(e){if(!xi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));xi.set(e,t)}}(e),t=e,(ki||(ki=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ti):e);var t}function Ai(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ai(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&wi.set(t,e)})).catch((function(){})),Ei.set(t,e),t}(e);if(_i.has(e))return _i.get(e);var t=Ci(e);return t!==e&&(_i.set(e,t),Ei.set(t,e)),t}var Oi=function(e){return Ei.get(e)};var Ni,Pi,Di=["get","getKey","getAll","getAllKeys","count"],Ri=["put","add","delete","clear"],Li=new Map;function Mi(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Li.get(t))return Li.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ri.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Di.includes(n))){var a=function(){var e=_r(Er.mark((function e(t){var a,o,s,u,c,l,f=arguments;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Li.set(t,a),a}}}Ti=function(e){return we(we({},e),{},{get:function(t,n,r){return Mi(t,n)||e.get(t,n,r)},has:function(t,n){return!!Mi(t,n)||e.has(t,n)}})}(Ti);var ji=function(){function e(t){sr(this,e),this.container=t}return or(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Fi="@firebase/app",Ui="0.9.27",Vi=new mi("@firebase/app"),zi="[DEFAULT]",Bi=(ke(Ni={},Fi,"fire-core"),ke(Ni,"@firebase/app-compat","fire-core-compat"),ke(Ni,"@firebase/analytics","fire-analytics"),ke(Ni,"@firebase/analytics-compat","fire-analytics-compat"),ke(Ni,"@firebase/app-check","fire-app-check"),ke(Ni,"@firebase/app-check-compat","fire-app-check-compat"),ke(Ni,"@firebase/auth","fire-auth"),ke(Ni,"@firebase/auth-compat","fire-auth-compat"),ke(Ni,"@firebase/database","fire-rtdb"),ke(Ni,"@firebase/database-compat","fire-rtdb-compat"),ke(Ni,"@firebase/functions","fire-fn"),ke(Ni,"@firebase/functions-compat","fire-fn-compat"),ke(Ni,"@firebase/installations","fire-iid"),ke(Ni,"@firebase/installations-compat","fire-iid-compat"),ke(Ni,"@firebase/messaging","fire-fcm"),ke(Ni,"@firebase/messaging-compat","fire-fcm-compat"),ke(Ni,"@firebase/performance","fire-perf"),ke(Ni,"@firebase/performance-compat","fire-perf-compat"),ke(Ni,"@firebase/remote-config","fire-rc"),ke(Ni,"@firebase/remote-config-compat","fire-rc-compat"),ke(Ni,"@firebase/storage","fire-gcs"),ke(Ni,"@firebase/storage-compat","fire-gcs-compat"),ke(Ni,"@firebase/firestore","fire-fst"),ke(Ni,"@firebase/firestore-compat","fire-fst-compat"),ke(Ni,"fire-js","fire-js"),ke(Ni,"firebase","fire-js-all"),Ni),Hi=new Map,qi=new Map;function Ki(e,t){try{e.container.addComponent(t)}catch(n){Vi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Wi(e){var t=e.name;if(qi.has(t))return Vi.debug("There were multiple attempts to register component ".concat(t,".")),!1;qi.set(t,e);var n,r=xr(Hi.values());try{for(r.s();!(n=r.n()).done;){Ki(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Gi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Qi=(ke(Pi={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),ke(Pi,"bad-app-name","Illegal App name: '{$appName}"),ke(Pi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ke(Pi,"app-deleted","Firebase App named '{$appName}' already deleted"),ke(Pi,"no-options","Need to provide options, when not being deployed to hosting via source."),ke(Pi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ke(Pi,"invalid-log-argument","First argument to `onLog` must be null or a function."),ke(Pi,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ke(Pi,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ke(Pi,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ke(Pi,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Pi),$i=new Gr("app","Firebase",Qi),Ji=function(){function e(t,n,r){var i=this;sr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new si("app",(function(){return i}),"PUBLIC"))}return or(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}]),e}(),Xi="10.8.0";function Yi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:zi,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw $i.create("bad-app-name",{appName:String(a)});if(n||(n=jr()),!n)throw $i.create("no-options");var o=Hi.get(a);if(o){if(Xr(n,o.options)&&Xr(i,o.config))return o;throw $i.create("duplicate-app",{appName:a})}var s,u=new hi(a),c=xr(qi.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Ji(n,i,u);return Hi.set(a,f),f}function Zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi,t=Hi.get(e);if(!t&&e===zi&&jr())return Yi();if(!t)throw $i.create("no-app",{appName:e});return t}function ea(e,t,n){var r,i=null!==(r=Bi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Vi.warn(s.join(" "))}Wi(new si("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var ta="firebase-heartbeat-store",na=null;function ra(){return na||(na=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Ai(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Ai(s.result),e.oldVersion,e.newVersion,Ai(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(ta)}catch(n){console.warn(n)}}}).catch((function(e){throw $i.create("idb-open",{originalErrorMessage:e.message})}))),na}function ia(e){return aa.apply(this,arguments)}function aa(){return aa=_r(Er.mark((function e(t){var n,r,i,a;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ra();case 3:return n=e.sent,r=n.transaction(ta),e.next=7,r.objectStore(ta).get(ua(t));case 7:return i=e.sent,e.next=10,r.done;case 10:return e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(0),e.t0 instanceof Wr?Vi.warn(e.t0.message):(a=$i.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Vi.warn(a.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),aa.apply(this,arguments)}function oa(e,t){return sa.apply(this,arguments)}function sa(){return sa=_r(Er.mark((function e(t,n){var r,i,a,o;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ra();case 3:return r=e.sent,i=r.transaction(ta,"readwrite"),a=i.objectStore(ta),e.next=8,a.put(n,ua(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Wr?Vi.warn(e.t0.message):(o=$i.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Vi.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),sa.apply(this,arguments)}function ua(e){return"".concat(e.name,"!").concat(e.options.appId)}var ca=function(){function e(t){var n=this;sr(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new da(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return or(e,[{key:"triggerHeartbeat",value:function(){var e=_r(Er.mark((function e(){var t,n,r,i,a;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=la(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=9;break}return e.next=6,this._heartbeatsCachePromise;case 6:if(this._heartbeatsCache=e.sent,null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)){e.next=9;break}return e.abrupt("return");case 9:if(this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){e.next=13;break}return e.abrupt("return");case 13:this._heartbeatsCache.heartbeats.push({date:a,agent:i});case 14:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=_r(Er.mark((function e(){var t,n,r,i,a,o;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=la(),r=fa(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=Pr(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function la(){return(new Date).toISOString().substring(0,10)}function fa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=xr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),pa(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),pa(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ha,da=function(){function e(t){sr(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return or(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=_r(Er.mark((function e(){return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Kr().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=_r(Er.mark((function e(){var t;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ia(this.app);case 9:if(!(null===(t=e.sent)||void 0===t?void 0:t.heartbeats)){e.next=14;break}return e.abrupt("return",t);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=_r(Er.mark((function e(t){var n,r;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",oa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=_r(Er.mark((function e(t){var n,r;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",oa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(me(r.heartbeats),me(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function pa(e){return Pr(JSON.stringify({version:2,heartbeats:e})).length}ha="",Wi(new si("platform-logger",(function(e){return new ji(e)}),"PRIVATE")),Wi(new si("heartbeat",(function(e){return new ca(e)}),"PRIVATE")),ea(Fi,Ui,ha),ea(Fi,Ui,"esm2017"),ea("fire-js","");function va(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ga;Object.create;function ya(){return ke({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ma=ya,ka=new Gr("auth","Firebase",ya()),ba=new mi("@firebase/auth");function wa(e){if(ba.logLevel<=fi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ba.warn.apply(ba,["Auth (".concat(Xi,"): ").concat(e)].concat(n))}}function xa(e){if(ba.logLevel<=fi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ba.error.apply(ba,["Auth (".concat(Xi,"): ").concat(e)].concat(n))}}function Sa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ta.apply(void 0,[e].concat(n))}function _a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ta.apply(void 0,[e].concat(n))}function Ea(e,t,n){var r=Object.assign(Object.assign({},ma()),ke({},t,n));return new Gr("auth","Firebase",r).create(t,{appName:e.name})}function Ta(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=me(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(me(o)))}return ka.create.apply(ka,[e].concat(n))}function Ia(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ta.apply(void 0,[t].concat(r))}}function Ca(e){var t="INTERNAL ASSERTION FAILED: "+e;throw xa(t),new Error(t)}function Aa(e,t){e||Ca(t)}function Oa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Na(){return"http:"===Pa()||"https:"===Pa()}function Pa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Da=function(){function e(t,n){sr(this,e),this.shortDelay=t,this.longDelay=n,Aa(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zr())||"object"===typeof navigator&&"ReactNative"===navigator.product}return or(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Na()||Br()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ra(e,t){Aa(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var La=function(){function e(){sr(this,e)}return or(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}))},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ma=(ke(ga={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ke(ga,"MISSING_CUSTOM_TOKEN","internal-error"),ke(ga,"INVALID_IDENTIFIER","invalid-email"),ke(ga,"MISSING_CONTINUE_URI","internal-error"),ke(ga,"INVALID_PASSWORD","wrong-password"),ke(ga,"MISSING_PASSWORD","missing-password"),ke(ga,"INVALID_LOGIN_CREDENTIALS","invalid-credential"),ke(ga,"EMAIL_EXISTS","email-already-in-use"),ke(ga,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ke(ga,"INVALID_IDP_RESPONSE","invalid-credential"),ke(ga,"INVALID_PENDING_TOKEN","invalid-credential"),ke(ga,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ke(ga,"MISSING_REQ_TYPE","internal-error"),ke(ga,"EMAIL_NOT_FOUND","user-not-found"),ke(ga,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ke(ga,"EXPIRED_OOB_CODE","expired-action-code"),ke(ga,"INVALID_OOB_CODE","invalid-action-code"),ke(ga,"MISSING_OOB_CODE","internal-error"),ke(ga,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ke(ga,"INVALID_ID_TOKEN","invalid-user-token"),ke(ga,"TOKEN_EXPIRED","user-token-expired"),ke(ga,"USER_NOT_FOUND","user-token-expired"),ke(ga,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ke(ga,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),ke(ga,"INVALID_CODE","invalid-verification-code"),ke(ga,"INVALID_SESSION_INFO","invalid-verification-id"),ke(ga,"INVALID_TEMPORARY_PROOF","invalid-credential"),ke(ga,"MISSING_SESSION_INFO","missing-verification-id"),ke(ga,"SESSION_EXPIRED","code-expired"),ke(ga,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ke(ga,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ke(ga,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ke(ga,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ke(ga,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ke(ga,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ke(ga,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ke(ga,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ke(ga,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ke(ga,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ke(ga,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ke(ga,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),ke(ga,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),ke(ga,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),ke(ga,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),ke(ga,"MISSING_CLIENT_TYPE","missing-client-type"),ke(ga,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),ke(ga,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),ke(ga,"INVALID_REQ_TYPE","invalid-req-type"),ga),ja=new Da(3e4,6e4);function Fa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ua(e,t,n,r){return Va.apply(this,arguments)}function Va(){return Va=_r(Tr().mark((function e(t,n,r,i){var a,o=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",za(t,a,_r(Tr().mark((function e(){var a,o,s,u;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Zr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",La.fetch()(Ka(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function za(e,t,n){return Ba.apply(this,arguments)}function Ba(){return Ba=_r(Tr().mark((function e(t,n,r){var i,a,s,u,c,l,f,h,d,p;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ma),n),e.prev=2,a=new Ga(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Qa(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=o(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Qa(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Qa(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Qa(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Ea(t,p,d);case 34:Sa(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Wr)){e.next=41;break}throw e.t0;case 41:Sa(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ba.apply(this,arguments)}function Ha(e,t,n,r){return qa.apply(this,arguments)}function qa(){return qa=_r(Tr().mark((function e(t,n,r,i){var a,o,s=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Ua(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Sa(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function Ka(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ra(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Wa(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ga=function(){function e(t){var n=this;sr(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(_a(n.auth,"network-request-failed"))}),ja.get())}))}return or(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Qa(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=_a(e,t,r);return i.customData._tokenResponse=n,i}function $a(e){return void 0!==e&&void 0!==e.enterprise}var Ja=function(){function e(t){if(sr(this,e),this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return or(e,[{key:"getProviderEnforcementState",value:function(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;var t,n=xr(this.recaptchaEnforcementState);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.provider&&r.provider===e)return Wa(r.enforcementState)}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"isProviderEnabled",value:function(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}]),e}();function Xa(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"GET","/v2/recaptchaConfig",Fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}function Za(e,t){return eo.apply(this,arguments)}function eo(){return eo=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(e,t){return no.apply(this,arguments)}function no(){return no=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}function ro(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function io(){return io=_r(Tr().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=oi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ia((a=oo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ro(ao(a.auth_time)),issuedAtTime:ro(ao(a.iat)),expirationTime:ro(ao(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}function ao(e){return 1e3*Number(e)}function oo(e){var t=o(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return xa("JWT malformed, contained fewer than 3 sections"),null;try{var a=Dr(r);return a?JSON.parse(a):(xa("Failed to decode base64 JWT payload"),null)}catch(s){return xa("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function so(e,t){return uo.apply(this,arguments)}function uo(){return uo=_r(Tr().mark((function e(t,n){var r=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Wr&&co(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),uo.apply(this,arguments)}function co(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var lo=function(){function e(t){sr(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return or(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(_r(Tr().mark((function t(){return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),fo=function(){function e(t,n){sr(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return or(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ro(this.lastLoginAt),this.creationTime=ro(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ho(e){return po.apply(this,arguments)}function po(){return po=_r(Tr().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,so(t,to(r,{idToken:i}));case 6:Ia(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?yo(o.providerUserInfo):[],u=go(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new fo(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(){return(vo=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oi(t),e.next=3,ho(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(me(n),me(t))}function yo(e){return e.map((function(e){var t=e.providerId,n=va(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function mo(e,t){return ko.apply(this,arguments)}function ko(){return ko=_r(Tr().mark((function e(t,n){var r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,za(t,{},_r(Tr().mark((function e(){var r,i,a,o,s,u;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Ka(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",La.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function bo(e,t){return wo.apply(this,arguments)}function wo(){return wo=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"POST","/v2/accounts:revokeToken",Fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}var xo=function(){function e(){sr(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return or(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ia(e.idToken,"internal-error"),Ia("undefined"!==typeof e.idToken,"internal-error"),Ia("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=oo(e);return Ia(t,"internal-error"),Ia("undefined"!==typeof t.exp,"internal-error"),Ia("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=_r(Tr().mark((function e(t){var n,r=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ia(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=_r(Tr().mark((function e(t,n){var r,i,a,o;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mo(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ca("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ia("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ia("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ia("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function So(e,t){Ia("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var _o=function(){function e(t){sr(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=va(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?me(a.providerData):[],this.metadata=new fo(a.createdAt||void 0,a.lastLoginAt||void 0)}return or(e,[{key:"getIdToken",value:function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,so(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ia(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return io.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return vo.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ia(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Ia(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=_r(Tr().mark((function e(t){var n,r,i=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ho(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=_r(Tr().mark((function e(){var t;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,so(this,Za(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,m=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;Ia(k&&S,t,"internal-error");var _=xo.fromJSON(this.name,S);Ia("string"===typeof k,t,"internal-error"),So(f,t.name),So(h,t.name),Ia("boolean"===typeof b,t,"internal-error"),Ia("boolean"===typeof w,t,"internal-error"),So(d,t.name),So(p,t.name),So(v,t.name),So(g,t.name),So(y,t.name),So(m,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:m});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),g&&(E._redirectEventId=g),E}},{key:"_fromIdTokenResponse",value:function(){var t=_r(Tr().mark((function t(n,r){var i,a,o,s=arguments;return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new xo).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ho(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Eo=new Map;function To(e){Aa(e instanceof Function,"Expected a class definition");var t=Eo.get(e);return t?(Aa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Eo.set(e,t),t)}var Io=function(){function e(){sr(this,e),this.type="NONE",this.storage={}}return or(e,[{key:"_isAvailable",value:function(){var e=_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Io.type="NONE";var Co=Io;function Ao(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Oo=function(){function e(t,n,r){sr(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ao(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ao("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return or(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=_r(Tr().mark((function e(){var t;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?_o._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=_r(Tr().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(To(Co),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||To(Co),s=Ao(i,n.config.apiKey,n.name),u=null,c=xr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=_o._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function No(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Lo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Po(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jo(t))return"Blackberry";if(Fo(t))return"Webos";if(Do(t))return"Safari";if((t.includes("chrome/")||Ro(t))&&!t.includes("edge/"))return"Chrome";if(Mo(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr();return/firefox\//i.test(e)}function Do(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ro(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr();return/crios\//i.test(e)}function Lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr();return/iemobile/i.test(e)}function Mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr();return/android/i.test(e)}function jo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr();return/blackberry/i.test(e)}function Fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr();return/webos/i.test(e)}function Uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Vo(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr();return Uo(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function zo(){return function(){var e=zr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr();return Uo(e)||Mo(e)||Fo(e)||jo(e)||/windows phone/i.test(e)||Lo(e)}function Ho(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=No(zr());break;case"Worker":t="".concat(No(zr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Xi,"/").concat(r)}var qo=function(){function e(t){sr(this,e),this.auth=t,this.queue=[]}return or(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=_r(Tr().mark((function e(t){var n,r,i,a,o,s,u;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=xr(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=xr(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(Ve){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ko(e){return Wo.apply(this,arguments)}function Wo(){return Wo=_r(Tr().mark((function e(t){var n,r=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ua(t,"GET","/v2/passwordPolicy",Fa(t,n)));case 2:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}var Go=function(){function e(t){var n,r,i,a;sr(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return or(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),Qo=function(){function e(t,n,r,i){sr(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jo(this),this.idTokenSubscription=new Jo(this),this.beforeStateQueue=new qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ka,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return or(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=To(t)),this._initializationPromise=this.queue(_r(Tr().mark((function r(){var i,a;return Tr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Oo.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=_r(Tr().mark((function e(){var t;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=_r(Tr().mark((function e(t){var n,r,i,a,o,s,u;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ia(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ho(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?oi(t):null)&&Ia(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=_r(Tr().mark((function e(t){var n,r=this,i=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ia(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(_r(Tr().mark((function n(){return Tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(To(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=_r(Tr().mark((function e(){var t,n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ko(this);case 2:t=e.sent,n=new Go(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Gr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"revokeAccessToken",value:function(){var e=_r(Tr().mark((function e(t){var n,r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentUser){e.next=8;break}return e.next=3,this.currentUser.getIdToken();case 3:return n=e.sent,r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n},null!=this.tenantId&&(r.tenantId=this.tenantId),e.next=8,bo(this,r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=_r(Tr().mark((function e(t,n){var r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ia(n=t&&To(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Oo.create(this,[To(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=_r(Tr().mark((function e(t){var n,r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=_r(Tr().mark((function e(t){var n=this;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ia(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ia(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ho(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=_r(Tr().mark((function e(){var t,n,r,i;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ke({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=_r(Tr().mark((function e(){var t,n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&wa("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $o(e){return oi(e)}var Jo=function(){function e(t){var n=this;sr(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new ni(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return or(e,[{key:"next",get:function(){return Ia(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}(),Xo={loadJS:function(){return _r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Unable to load external scripts");case 1:case"end":return e.stop()}}),e)})))()},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yo(e){return Xo.loadJS(e)}function Zo(){return Xo.recaptchaEnterpriseScript}function es(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ts="NO_RECAPTCHA",ns=function(){function e(t){sr(this,e),this.type="recaptcha-enterprise",this.auth=$o(t)}return or(e,[{key:"verify",value:function(){var e=_r(Tr().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;$a(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n(ts)}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=_r(Tr().mark((function e(n,r){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xa(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Ja(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&$a(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));var i=Zo();0!==i.length&&(i+=r),Yo(i).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rs(e,t,n){return is.apply(this,arguments)}function is(){return is=_r(Tr().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new ns(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),is.apply(this,arguments)}function as(e,t,n,r){return os.apply(this,arguments)}function os(){return os=_r(Tr().mark((function e(t,n,r,i){var a,o;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(a=t._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))){e.next=7;break}return e.next=3,rs(t,n,r,"getOobCode"===r);case 3:return o=e.sent,e.abrupt("return",i(t,o));case 7:return e.abrupt("return",i(t,n).catch(function(){var e=_r(Tr().mark((function e(a){var o;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("".concat(r," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),e.next=4,rs(t,n,r,"getOobCode"===r);case 4:return o=e.sent,e.abrupt("return",i(t,o));case 8:return e.abrupt("return",Promise.reject(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function ss(e,t){var n=Gi(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Xr(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Sa(r,"already-initialized")}return n.initialize({options:t})}function us(e,t,n){var r=$o(e);Ia(r._canInitEmulator,r,"emulator-config-failed"),Ia(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=cs(t),s=function(e){var t=cs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ls(r.substr(a.length+1))}}var s=o(r.split(":"),2);return{host:s[0],port:ls(s[1])}}(t),u=s.host,c=s.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function cs(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ls(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var fs=function(){function e(t,n){sr(this,e),this.providerId=t,this.signInMethod=n}return or(e,[{key:"toJSON",value:function(){return Ca("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ca("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ca("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ca("not implemented")}}]),e}();function hs(e,t){return ds.apply(this,arguments)}function ds(){return ds=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"POST","/v1/accounts:signUp",n));case 1:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return vs=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:signInWithPassword",Fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function gs(e,t){return ys.apply(this,arguments)}function ys(){return ys=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:signInWithEmailLink",Fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function ms(e,t){return ks.apply(this,arguments)}function ks(){return ks=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:signInWithEmailLink",Fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),ks.apply(this,arguments)}var bs=function(e){yr(n,e);var t=wr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return sr(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return or(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",as(t,n,"signInWithPassword",ps));case 5:return e.abrupt("return",gs(t,{email:this._email,oobCode:this._password}));case 6:Sa(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=_r(Tr().mark((function e(t,n){var r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",as(t,r,"signUpPassword",hs));case 5:return e.abrupt("return",ms(t,{idToken:n,email:this._email,oobCode:this._password}));case 6:Sa(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(fs);function ws(e,t){return xs.apply(this,arguments)}function xs(){return xs=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:signInWithIdp",Fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}var Ss=function(e){yr(n,e);var t=wr(n);function n(){var e;return sr(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return or(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ws(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ws(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ws(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sa("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=va(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(fs);function _s(e,t){return Es.apply(this,arguments)}function Es(){return Es=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ua(t,"POST","/v1/accounts:sendVerificationCode",Fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Ts(){return Ts=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ha(t,"POST","/v1/accounts:signInWithPhoneNumber",Fa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function Is(){return Is=_r(Tr().mark((function e(t,n){var r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(t,"POST","/v1/accounts:signInWithPhoneNumber",Fa(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Qa(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}var Cs=ke({},"USER_NOT_FOUND","user-not-found");function As(){return As=_r(Tr().mark((function e(t,n){var r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ha(t,"POST","/v1/accounts:signInWithPhoneNumber",Fa(t,r),Cs));case 2:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}var Os=function(e){yr(n,e);var t=wr(n);function n(e){var r;return sr(this,n),(r=t.call(this,"phone","phone")).params=e,r}return or(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ts.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Is.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return As.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(fs);var Ns=function(){function e(t){var n,r,i,a,o,s;sr(this,e);var u=ei(ti(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Ia(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return or(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ei(ti(e)).link,n=t?ei(ti(t)).deep_link_id:null,r=ei(ti(e)).deep_link_id;return(r?ei(ti(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ps=function(){function e(){sr(this,e),this.providerId=e.PROVIDER_ID}return or(e,null,[{key:"credential",value:function(e,t){return bs._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ns.parseLink(t);return Ia(n,"argument-error"),bs._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ps.PROVIDER_ID="password",Ps.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ps.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ds=function(){function e(t){sr(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return or(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Rs=function(e){yr(n,e);var t=wr(n);function n(){var e;return sr(this,n),(e=t.apply(this,arguments)).scopes=[],e}return or(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return me(this.scopes)}}]),n}(Ds),Ls=function(e){yr(n,e);var t=wr(n);function n(){return sr(this,n),t.call(this,"facebook.com")}return or(n,null,[{key:"credential",value:function(e){return Ss._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Rs);Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ls.PROVIDER_ID="facebook.com";var Ms=function(e){yr(n,e);var t=wr(n);function n(){var e;return sr(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return or(n,null,[{key:"credential",value:function(e,t){return Ss._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Rs);Ms.GOOGLE_SIGN_IN_METHOD="google.com",Ms.PROVIDER_ID="google.com";var js=function(e){yr(n,e);var t=wr(n);function n(){return sr(this,n),t.call(this,"github.com")}return or(n,null,[{key:"credential",value:function(e){return Ss._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Rs);js.GITHUB_SIGN_IN_METHOD="github.com",js.PROVIDER_ID="github.com";var Fs=function(e){yr(n,e);var t=wr(n);function n(){return sr(this,n),t.call(this,"twitter.com")}return or(n,null,[{key:"credential",value:function(e,t){return Ss._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Rs);Fs.TWITTER_SIGN_IN_METHOD="twitter.com",Fs.PROVIDER_ID="twitter.com";var Us=function(){function e(t){sr(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return or(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=_r(Tr().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,_o._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Vs(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=_r(Tr().mark((function t(n,r,i){var a;return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Vs(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Vs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var zs=function(e){yr(n,e);var t=wr(n);function n(e,r,i,a){var o,s;return sr(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(vr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return or(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Wr);function Bs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw zs._fromErrorAndOperation(e,n,t,r);throw n}))}function Hs(e,t){return qs.apply(this,arguments)}function qs(){return qs=_r(Tr().mark((function e(t,n){var r,i,a=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=so,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Us._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function Ks(e,t){return Ws.apply(this,arguments)}function Ws(){return Ws=_r(Tr().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,so(t,Bs(i,a,n,t),r);case 6:return Ia((o=e.sent).idToken,i,"internal-error"),Ia(s=oo(o.idToken),i,"internal-error"),u=s.sub,Ia(t.uid===u,i,"user-mismatch"),e.abrupt("return",Us._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Sa(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ws.apply(this,arguments)}function Gs(e,t){return Qs.apply(this,arguments)}function Qs(){return Qs=_r(Tr().mark((function e(t,n){var r,i,a,o,s=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Bs(t,i,n);case 4:return a=e.sent,e.next=7,Us._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}function $s(e,t){return Js.apply(this,arguments)}function Js(){return Js=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gs($o(t),n));case 1:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Xs(e){return Ys.apply(this,arguments)}function Ys(){return Ys=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=$o(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Zs(e,t,n,r){return oi(e).onIdTokenChanged(t,n,r)}function eu(e,t,n){return oi(e).beforeAuthStateChanged(t,n)}function tu(e,t){return Ua(e,"POST","/v2/accounts/mfaEnrollment:start",Fa(e,t))}function nu(e,t){return Ua(e,"POST","/v2/accounts/mfaEnrollment:start",Fa(e,t))}function ru(e,t){return Ua(e,"POST","/v2/accounts/mfaEnrollment:finalize",Fa(e,t))}new WeakMap;var iu="__sak",au=function(){function e(t,n){sr(this,e),this.storageRetriever=t,this.type=n}return or(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(iu,"1"),this.storage.removeItem(iu),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ou=function(e){yr(n,e);var t=wr(n);function n(){var e;return sr(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=zr();return Do(e)||Uo(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Bo(),e._shouldAllowMigration=!0,e}return or(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);zo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=_r(Tr().mark((function e(t,r){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pr(hr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_r(Tr().mark((function e(t){var r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pr(hr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pr(hr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(au);ou.type="LOCAL";var su=ou,uu=function(e){yr(n,e);var t=wr(n);function n(){return sr(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return or(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(au);uu.type="SESSION";var cu=uu;function lu(e){return Promise.all(e.map(function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var fu=function(){function e(t){sr(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return or(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=_r(Tr().mark((function e(t){var n,r,i,a,o,s,u,c;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,lu(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function hu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}fu.receivers=[];var du=function(){function e(t){sr(this,e),this.target=t,this.handlers=new Set}return or(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=_r(Tr().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=hu("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function pu(){return window}function vu(e){pu().location.href=e}function gu(){return"undefined"!==typeof pu().WorkerGlobalScope&&"function"===typeof pu().importScripts}function yu(){return mu.apply(this,arguments)}function mu(){return(mu=_r(Tr().mark((function e(){var t;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ku(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var bu="firebaseLocalStorageDb",wu="firebaseLocalStorage",xu="fbase_key",Su=function(){function e(t){sr(this,e),this.request=t}return or(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function _u(e,t){return e.transaction([wu],t?"readwrite":"readonly").objectStore(wu)}function Eu(){var e=indexedDB.deleteDatabase(bu);return new Su(e).toPromise()}function Tu(){var e=indexedDB.open(bu,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(wu,{keyPath:xu})}catch(r){n(r)}})),e.addEventListener("success",_r(Tr().mark((function n(){var r;return Tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(wu)){n.next=12;break}return r.close(),n.next=5,Eu();case 5:return n.t0=t,n.next=8,Tu();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Iu(e,t,n){return Cu.apply(this,arguments)}function Cu(){return Cu=_r(Tr().mark((function e(t,n,r){var i,a;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_u(t,!0).put((ke(i={},xu,n),ke(i,"value",r),i)),e.abrupt("return",new Su(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Au(e,t){return Ou.apply(this,arguments)}function Ou(){return Ou=_r(Tr().mark((function e(t,n){var r,i;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_u(t,!1).get(n),e.next=3,new Su(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Nu(e,t){var n=_u(e,!0).delete(t);return new Su(n).toPromise()}var Pu=function(){function e(){sr(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return or(e,[{key:"_openDb",value:function(){var e=_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Tu();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=_r(Tr().mark((function e(t){var n,r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=_r(Tr().mark((function e(){var t=this;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=fu._getInstance(gu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=_r(Tr().mark((function e(n,r){var i;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=_r(Tr().mark((function e(){var t,n,r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yu();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new du(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ku()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=_r(Tr().mark((function e(){var t;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Tu();case 5:return t=e.sent,e.next=8,Iu(t,iu,"1");case 8:return e.next=10,Nu(t,iu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=_r(Tr().mark((function e(t,n){var r=this;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Iu(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Au(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=_r(Tr().mark((function e(t){var n=this;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Nu(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=_r(Tr().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=_u(e,!1).getAll();return new Su(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:if(n=[],r=new Set,0!==t.length){i=xr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(_r(Tr().mark((function t(){return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Pu.type="LOCAL";var Du=Pu;function Ru(e,t){return Ua(e,"POST","/v2/accounts/mfaSignIn:start",Fa(e,t))}function Lu(e,t){return Ua(e,"POST","/v2/accounts/mfaSignIn:finalize",Fa(e,t))}es("rcb"),new Da(3e4,6e4);var Mu="recaptcha";function ju(e,t,n){return Fu.apply(this,arguments)}function Fu(){return Fu=_r(Tr().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ia("string"===typeof a,t,"argument-error"),Ia(r.type===Mu,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Ia("enroll"===s.type,t,"internal-error"),e.next=13,tu(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Ia("signin"===s.type,t,"internal-error"),Ia(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ru(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,_s(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Fu.apply(this,arguments)}var Uu=function(){function e(t){sr(this,e),this.providerId=e.PROVIDER_ID,this.auth=$o(t)}return or(e,[{key:"verifyPhoneNumber",value:function(e,t){return ju(this.auth,e,oi(t))}}],[{key:"credential",value:function(e,t){return Os._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Os._fromTokenResponse(n,r):null}}]),e}();function Vu(e,t){return t?To(t):(Ia(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Uu.PROVIDER_ID="phone",Uu.PHONE_SIGN_IN_METHOD="phone";var zu=function(e){yr(n,e);var t=wr(n);function n(e){var r;return sr(this,n),(r=t.call(this,"custom","custom")).params=e,r}return or(n,[{key:"_getIdTokenResponse",value:function(e){return ws(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ws(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ws(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(fs);function Bu(e){return Gs(e.auth,new zu(e),e.bypassAuthState)}function Hu(e){var t=e.auth,n=e.user;return Ia(n,t,"internal-error"),Ks(n,new zu(e),e.bypassAuthState)}function qu(e){return Ku.apply(this,arguments)}function Ku(){return Ku=_r(Tr().mark((function e(t){var n,r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ia(r=t.user,n,"internal-error"),e.abrupt("return",Hs(r,new zu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}var Wu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];sr(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return or(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=_r(Tr().mark((function t(n,r){return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=_r(Tr().mark((function e(t){var n,r,i,a,o,s,u;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bu;case"linkViaPopup":case"linkViaRedirect":return qu;case"reauthViaPopup":case"reauthViaRedirect":return Hu;default:Sa(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Gu=new Da(2e3,1e4);var Qu=function(e){yr(n,e);var t=wr(n);function n(e,r,i,a,o){var s;return sr(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=vr(s),s}return or(n,[{key:"executeNotNull",value:function(){var e=_r(Tr().mark((function e(){var t;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ia(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=_r(Tr().mark((function e(){var t,n=this;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa(1===this.filter.length,"Popup operations only handle one event"),t=hu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(_a(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(_a(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(_a(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Gu.get())}()}}]),n}(Wu);Qu.currentPopupAction=null;var $u=new Map,Ju=function(e){yr(n,e);var t=wr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return sr(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return or(n,[{key:"execute",value:function(){var e=_r(Tr().mark((function e(){var t,r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$u.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Xu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,pr(hr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:$u.set(this.auth._key(),t);case 21:return this.bypassAuthState||$u.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=_r(Tr().mark((function e(t){var r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",pr(hr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",pr(hr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Wu);function Xu(e,t){return Yu.apply(this,arguments)}function Yu(){return Yu=_r(Tr().mark((function e(t,n){var r,i,a;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tc(n),i=ec(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}function Zu(e,t){$u.set(e._key(),t)}function ec(e){return To(e._redirectPersistence)}function tc(e){return Ao("pendingRedirect",e.config.apiKey,e.name)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=_r(Tr().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=$o(t),a=Vu(i,n),o=new Ju(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}var ic=function(){function e(t){sr(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return or(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!oc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(_a(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ac(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ac(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ac(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function oc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function sc(e){return uc.apply(this,arguments)}function uc(){return uc=_r(Tr().mark((function e(t){var n,r=arguments;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ua(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}var cc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lc=/^https?/;function fc(){return fc=_r(Tr().mark((function e(t){var n,r,i,a,o;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,sc(t);case 4:n=e.sent,r=n.authorizedDomains,i=xr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!hc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Sa(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),fc.apply(this,arguments)}function hc(e){var t=Oa(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!lc.test(r))return!1;if(cc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var dc=new Da(3e4,6e4);function pc(){var e=pu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=me(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}function vc(e){return new Promise((function(t,n){var r,i,a;function o(){pc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){pc(),n(_a(e,"network-request-failed"))},timeout:dc.get()})}if(null===(i=null===(r=pu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=pu().gapi)||void 0===a?void 0:a.load)){var s=es("iframefcb");return pu()[s]=function(){gapi.load?o():n(_a(e,"network-request-failed"))},Yo("".concat(Xo.gapiScript,"?onload=").concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw gc=null,e}))}var gc=null;function yc(e){return gc=gc||vc(e)}var mc=new Da(5e3,15e3),kc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wc(e){var t=e.config;Ia(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ra(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Xi},i=bc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Zr(r).slice(1))}function xc(e){return Sc.apply(this,arguments)}function Sc(){return Sc=_r(Tr().mark((function e(t){var n,r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yc(t);case 2:return n=e.sent,Ia(r=pu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:wc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kc,dontclear:!0},(function(e){return new Promise(function(){var n=_r(Tr().mark((function n(r,i){var a,o,s;return Tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){pu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=_a(t,"network-request-failed"),o=pu().setTimeout((function(){i(a)}),mc.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}var _c={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ec="_blank",Tc="http://localhost",Ic=function(){function e(t){sr(this,e),this.window=t,this.associatedEvent=null}return or(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Cc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},_c),{width:r.toString(),height:i.toString(),top:a,left:s}),l=zr().toLowerCase();n&&(u=Ro(l)?Ec:n),Po(l)&&(t=t||Tc,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=o(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Vo(l)&&"_self"!==u)return Ac(t||"",u),new Ic(null);var h=window.open(t||"",u,f);Ia(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Ic(h)}function Ac(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Oc=encodeURIComponent("fac");function Nc(e,t,n,r,i,a){return Pc.apply(this,arguments)}function Pc(){return Pc=_r(Tr().mark((function e(t,n,r,i,a,s){var u,c,l,f,h,d,p,v,g,y,m,k,b;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ia(t.config.authDomain,t,"auth-domain-config-required"),Ia(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Xi,eventId:a},n instanceof Ds)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",Jr(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(s||{});c<l.length;c++)f=o(l[c],2),h=f[0],d=f[1],u[h]=d;for(n instanceof Rs&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,g=0,y=Object.keys(v);g<y.length;g++)m=y[g],void 0===v[m]&&delete v[m];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(Oc,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Dc(t),"?").concat(Zr(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Dc(e){var t=e.config;return t.emulator?Ra(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/").concat("__/auth/handler")}var Rc="webStorageSupport",Lc=function(){function e(){sr(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cu,this._completeRedirectFn=nc,this._overrideRedirectResult=Zu}return or(e,[{key:"_openPopup",value:function(){var e=_r(Tr().mark((function e(t,n,r,i){var a,o;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Nc(t,n,r,Oa(),i);case 3:return o=e.sent,e.abrupt("return",Cc(t,o,hu()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=_r(Tr().mark((function e(t,n,r,i){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Nc(t,n,r,Oa(),i);case 4:return vu(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Aa(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=_r(Tr().mark((function e(t){var n,r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xc(t);case 2:return n=e.sent,r=new ic(t),n.register("authEvent",(function(e){return Ia(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Rc,{type:Rc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Sa(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return fc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Bo()||Do()||Uo()}}]),e}(),Mc=Lc,jc=function(){function e(t){sr(this,e),this.factorId=t}return or(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ca("unexpected MultiFactorSessionType")}}}]),e}(),Fc=function(e){yr(n,e);var t=wr(n);function n(e){var r;return sr(this,n),(r=t.call(this,"phone")).credential=e,r}return or(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ua(e,"POST","/v2/accounts/mfaEnrollment:finalize",Fa(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ua(e,"POST","/v2/accounts/mfaSignIn:finalize",Fa(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(jc);(function(){function e(){sr(this,e)}return or(e,null,[{key:"assertion",value:function(e){return Fc._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Uc=function(){function e(){sr(this,e)}return or(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Vc._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Vc._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=_r(Tr().mark((function e(t){var n,r,i;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ia("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,nu(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",zc._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Uc.FACTOR_ID="totp";var Vc=function(e){yr(n,e);var t=wr(n);function n(e,r,i){var a;return sr(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return or(n,[{key:"_finalizeEnroll",value:function(){var e=_r(Tr().mark((function e(t,n,r){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ia("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",ru(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=_r(Tr().mark((function e(t,n){var r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ia(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Lu(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(jc),zc=function(){function e(t,n,r,i,a,o,s){sr(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return or(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Bc(e)||Bc(t))&&(r=!0),r&&(Bc(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Bc(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Bc(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Hc="@firebase/auth",qc="1.6.0",Kc=function(){function e(t){sr(this,e),this.auth=t,this.internalListeners=new Map}return or(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ia(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Wc,Gc=Fr("authIdTokenMaxAge")||300,Qc=null,$c=function(e){return function(){var t=_r(Tr().mark((function t(n){var r,i,a;return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Gc)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Qc!==a){t.next=12;break}return t.abrupt("return");case 12:return Qc=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};!function(e){Xo=e}({loadJS:function(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=_a("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Wc="Browser",Wi(new si("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Ia(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Wc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ho(Wc)},l=new Qo(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(To);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Wi(new si("auth-internal",(function(e){return function(e){return new Kc(e)}($o(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ea(Hc,qc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Wc)),ea(Hc,qc,"esm2017");ea("firebase","10.8.0","app");var Jc,Xc;var Yc=new WeakMap,Zc=new WeakMap,el=new WeakMap,tl=new WeakMap,nl=new WeakMap;var rl={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Zc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||el.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ol(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function il(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Xc||(Xc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(sl(this),n),ol(Yc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ol(e.apply(sl(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[sl(this),t].concat(r));return el.set(a,t.sort?t.sort():[t]),ol(a)}}function al(e){return"function"===typeof e?il(e):(e instanceof IDBTransaction&&function(e){if(!Zc.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Zc.set(e,t)}}(e),t=e,(Jc||(Jc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,rl):e);var t}function ol(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ol(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Yc.set(t,e)})).catch((function(){})),nl.set(t,e),t}(e);if(tl.has(e))return tl.get(e);var t=al(e);return t!==e&&(tl.set(e,t),nl.set(t,e)),t}var sl=function(e){return nl.get(e)};var ul,cl=["get","getKey","getAll","getAllKeys","count"],ll=["put","add","delete","clear"],fl=new Map;function hl(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(fl.get(t))return fl.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ll.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||cl.includes(n))){var a=function(){var e=_r(Er.mark((function e(t){var a,o,s,u,c,l,f=arguments;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return fl.set(t,a),a}}}!function(e){rl=e(rl)}((function(e){return we(we({},e),{},{get:function(t,n,r){return hl(t,n)||e.get(t,n,r)},has:function(t,n){return!!hl(t,n)||e.has(t,n)}})}));var dl="@firebase/installations",pl="0.6.5",vl=1e4,gl="w:".concat(pl),yl="FIS_v2",ml=36e5,kl=(ke(ul={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),ke(ul,"not-registered","Firebase Installation is not registered."),ke(ul,"installation-not-found","Firebase Installation not found."),ke(ul,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),ke(ul,"app-offline","Could not process request. Application offline."),ke(ul,"delete-pending-registration","Can't delete installation while there is a pending registration request."),ul),bl=new Gr("installations","Installations",kl);function wl(e){return e instanceof Wr&&e.code.includes("request-failed")}function xl(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Sl(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function _l(e,t){return El.apply(this,arguments)}function El(){return(El=_r(Er.mark((function e(t,n){var r,i;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",bl.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tl(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Il(e,t){var n=t.refreshToken,r=Tl(e);return r.append("Authorization",function(e){return"".concat(yl," ").concat(e)}(n)),r}function Cl(e){return Al.apply(this,arguments)}function Al(){return Al=_r(Er.mark((function e(t){var n;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}function Ol(e,t){return Nl.apply(this,arguments)}function Nl(){return(Nl=_r(Er.mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=xl(r),s=Tl(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:yl,appId:r.appId,sdkVersion:gl},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,Cl((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:Sl(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,_l("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pl(e){return new Promise((function(t){setTimeout(t,e)}))}var Dl=/^[cdef][\w-]{21}$/;function Rl(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,me(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return Dl.test(t)?t:""}catch(n){return""}}function Ll(e){return"".concat(e.appName,"!").concat(e.appId)}var Ml=new Map;function jl(e,t){var n=Ll(e);Fl(n,t),function(e,t){var n=Vl();n&&n.postMessage({key:e,fid:t});zl()}(n,t)}function Fl(e,t){var n=Ml.get(e);if(n){var r,i=xr(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Ul=null;function Vl(){return!Ul&&"BroadcastChannel"in self&&((Ul=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Fl(e.data.key,e.data.fid)}),Ul}function zl(){0===Ml.size&&Ul&&(Ul.close(),Ul=null)}var Bl="firebase-installations-store",Hl=null;function ql(){return Hl||(Hl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=ol(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(ol(s.result),e.oldVersion,e.newVersion,ol(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Bl)}})),Hl}function Kl(e,t){return Wl.apply(this,arguments)}function Wl(){return Wl=_r(Er.mark((function e(t,n){var r,i,a,o,s;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ll(t),e.next=3,ql();case 3:return i=e.sent,a=i.transaction(Bl,"readwrite"),o=a.objectStore(Bl),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||jl(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),Wl.apply(this,arguments)}function Gl(e){return Ql.apply(this,arguments)}function Ql(){return Ql=_r(Er.mark((function e(t){var n,r,i;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ll(t),e.next=3,ql();case 3:return r=e.sent,i=r.transaction(Bl,"readwrite"),e.next=7,i.objectStore(Bl).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function $l(e,t){return Jl.apply(this,arguments)}function Jl(){return Jl=_r(Er.mark((function e(t,n){var r,i,a,o,s,u;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ll(t),e.next=3,ql();case 3:return i=e.sent,a=i.transaction(Bl,"readwrite"),o=a.objectStore(Bl),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||jl(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function Xl(e){return Yl.apply(this,arguments)}function Yl(){return(Yl=_r(Er.mark((function e(t){var n,r;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$l(t.appConfig,(function(e){var r=Zl(e),i=ef(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zl(e){return of(e||{fid:Rl(),registrationStatus:0})}function ef(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(bl.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return tf.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:nf(e)}:{installationEntry:t}}function tf(){return(tf=_r(Er.mark((function e(t,n){var r;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ol(t,n);case 3:return r=e.sent,e.abrupt("return",Kl(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!wl(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Gl(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Kl(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function nf(e){return rf.apply(this,arguments)}function rf(){return(rf=_r(Er.mark((function e(t){var n,r,i,a;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,af(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Pl(100);case 6:return e.next=8,af(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,Xl(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function af(e){return $l(e,(function(e){if(!e)throw bl.create("installation-not-found");return of(e)}))}function of(e){return 1===(t=e).registrationStatus&&t.registrationTime+vl<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function sf(e,t){return uf.apply(this,arguments)}function uf(){return(uf=_r(Er.mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=cf(r,n),o=Il(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:gl,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,Cl((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=Sl(h),e.abrupt("return",d);case 22:return e.next=24,_l("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cf(e,t){var n=t.fid;return"".concat(xl(e),"/").concat(n,"/authTokens:generate")}function lf(e){return ff.apply(this,arguments)}function ff(){return ff=_r(Er.mark((function e(t){var n,r,i,a,o=arguments;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,$l(t.appConfig,(function(e){if(!yf(e))throw bl.create("not-registered");var i=e.authToken;if(!n&&mf(i))return e;if(1===i.requestStatus)return r=hf(t,n),e;if(!navigator.onLine)throw bl.create("app-offline");var a=kf(e);return r=vf(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}function hf(e,t){return df.apply(this,arguments)}function df(){return(df=_r(Er.mark((function e(t,n){var r,i;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pf(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Pl(100);case 6:return e.next=8,pf(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",lf(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pf(e){return $l(e,(function(e){if(!yf(e))throw bl.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+vl<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function vf(e,t){return gf.apply(this,arguments)}function gf(){return(gf=_r(Er.mark((function e(t,n){var r,i,a;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sf(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Kl(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!wl(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Gl(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Kl(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function yf(e){return void 0!==e&&2===e.registrationStatus}function mf(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ml}(e)}function kf(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function bf(){return(bf=_r(Er.mark((function e(t){var n,r,i,a;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Xl(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):lf(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wf(){return wf=_r(Er.mark((function e(t){var n,r,i,a=arguments;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,xf(r);case 4:return e.next=6,lf(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),wf.apply(this,arguments)}function xf(e){return Sf.apply(this,arguments)}function Sf(){return(Sf=_r(Er.mark((function e(t){var n,r;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _f(e){return bl.create("missing-app-config-values",{valueName:e})}var Ef,Tf="installations",If=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw _f("App Configuration");if(!e.name)throw _f("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw _f(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Gi(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Cf=function(e){var t=Gi(e.getProvider("app").getImmediate(),Tf).getImmediate(),n={getId:function(){return function(e){return bf.apply(this,arguments)}(t)},getToken:function(e){return function(e){return wf.apply(this,arguments)}(t,e)}};return n};Wi(new si(Tf,If,"PUBLIC")),Wi(new si("installations-internal",Cf,"PRIVATE")),ea(dl,pl),ea(dl,pl,"esm2017");var Af="analytics",Of=6e4,Nf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pf="https://www.googletagmanager.com/gtag/js",Df=new mi("@firebase/analytics"),Rf=(ke(Ef={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),ke(Ef,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),ke(Ef,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),ke(Ef,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),ke(Ef,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),ke(Ef,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),ke(Ef,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),ke(Ef,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),ke(Ef,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),ke(Ef,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),ke(Ef,"no-client-id",'The "client_id" field is empty.'),ke(Ef,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),Ef),Lf=new Gr("analytics","Analytics",Rf);function Mf(e){if(!e.startsWith(Pf)){var t=Lf.create("invalid-gtag-resource",{gtagURL:e});return Df.warn(t.message),""}return e}function jf(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Ff(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Mf}),r=document.createElement("script"),i="".concat(Pf,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Uf(e,t,n,r,i,a){return Vf.apply(this,arguments)}function Vf(){return Vf=_r(Er.mark((function e(t,n,r,i,a,o){var s,u,c;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,jf(r);case 9:if(u=e.sent,!(c=u.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Df.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),Vf.apply(this,arguments)}function zf(e,t,n,r,i){return Bf.apply(this,arguments)}function Bf(){return Bf=_r(Er.mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,jf(r);case 7:u=e.sent,c=xr(s),e.prev=9,f=function(){var e=l.value,t=u.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Df.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),Bf.apply(this,arguments)}function Hf(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return i=_r(Er.mark((function i(a){var o,s,u,c,l,f,h,d,p,v,g,y,m=arguments;return Er.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(i.prev=0,o=m.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=m[u];if("event"!==a){i.next=8;break}return c=s[0],l=s[1],i.next=6,zf(e,t,n,c,l);case 6:i.next=15;break;case 8:if("config"!==a){i.next=14;break}return f=s[0],h=s[1],i.next=12,Uf(e,t,n,r,f,h);case 12:i.next=15;break;case 14:"consent"===a?(d=s[0],e("consent","update",d)):"get"===a?(p=s[0],v=s[1],g=s[2],e("get",p,v,g)):"set"===a?(y=s[0],e("set",y)):e.apply(void 0,[a].concat(s));case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(0),Df.error(i.t0);case 20:case"end":return i.stop()}}),i,null,[[0,17]])}))),i.apply(this,arguments)}return function(e){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function qf(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(Pf)&&i.src.includes(e))return i}return null}var Kf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;sr(this,e),this.throttleMetadata=t,this.intervalMillis=n}return or(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Wf=new Kf;function Gf(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Qf(e){return $f.apply(this,arguments)}function $f(){return($f=_r(Er.mark((function e(t){var n,r,i,a,o,s,u,c;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:Gf(i)},o=Nf.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw Lf.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function Jf(e){return Xf.apply(this,arguments)}function Xf(){return Xf=_r(Er.mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:Wf,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw Lf.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw Lf.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new ih,setTimeout(_r(Er.mark((function e(){return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:Of),e.abrupt("return",Yf({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Yf(e,t,n){return Zf.apply(this,arguments)}function Zf(){return Zf=_r(Er.mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p=arguments;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:Wf,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,eh(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return Df.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Qf(t);case 17:return l=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),th(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(u),!c){e.next=32;break}return Df.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 32:throw e.t1;case 33:return h=503===Number(null===(s=null===f||void 0===f?void 0:f.customData)||void 0===s?void 0:s.httpStatus)?ai(a,o.intervalMillis,30):ai(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},o.setThrottleMetadata(u,d),Df.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",Yf(t,d,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),Zf.apply(this,arguments)}function eh(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(Lf.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function th(e){if(!(e instanceof Wr)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var nh,rh,ih=function(){function e(){sr(this,e),this.listeners=[]}return or(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function ah(){return(ah=_r(Er.mark((function e(t,n,r,i,a){var o,s;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oh(e){rh=e}function sh(e){nh=e}function uh(){return ch.apply(this,arguments)}function ch(){return(ch=_r(Er.mark((function e(){return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qr()){e.next=5;break}return Df.warn(Lf.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Kr();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Df.warn(Lf.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function lh(){return lh=_r(Er.mark((function e(t,n,r,i,a,s,u){var c,l,f,h,d,p,v,g;return Er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=Jf(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Df.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Df.error(e)})),n.push(l),f=uh().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=o(h,2),p=d[0],v=d[1],qf(s)||Ff(s,p.measurementId),rh&&(a("consent","default",rh),oh(void 0)),a("js",new Date),(g=null!==(c=null===u||void 0===u?void 0:u.config)&&void 0!==c?c:{}).origin="firebase",g.update=!0,null!=v&&(g.firebase_id=v),a("config",p.measurementId,g),nh&&(a("set",nh),sh(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}var fh,hh,dh=function(){function e(t){sr(this,e),this.app=t}return or(e,[{key:"_delete",value:function(){return delete ph[this.app.options.appId],Promise.resolve()}}]),e}(),ph={},vh=[],gh={},yh="dataLayer",mh="gtag",kh=!1;function bh(){var e=[];if(Br()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Lf.create("invalid-analytics-context",{errorInfo:t});Df.warn(n.message)}}function wh(e,t,n){bh();var r=e.options.appId;if(!r)throw Lf.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Lf.create("no-api-key");Df.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ph[r])throw Lf.create("already-exists",{id:r});if(!kh){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(yh);var i=Hf(ph,vh,gh,yh,mh),a=i.wrappedGtag,o=i.gtagCore;hh=a,fh=o,kh=!0}return ph[r]=function(e,t,n,r,i,a,o){return lh.apply(this,arguments)}(e,vh,gh,t,fh,yh,n),new dh(e)}function xh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Gi(e,Af);if(n.isInitialized()){var r=n.getImmediate();if(Xr(t,n.getOptions()))return r;throw Lf.create("already-initialized")}var i=n.initialize({options:t});return i}function Sh(e,t,n,r){e=oi(e),function(e,t,n,r,i){return ah.apply(this,arguments)}(hh,ph[e.app.options.appId],t,n,r).catch((function(e){return Df.error(e)}))}var _h="@firebase/analytics",Eh="0.10.1";Wi(new si(Af,(function(e,t){var n=t.options;return wh(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Wi(new si("analytics-internal",(function(e){try{var t=e.getProvider(Af).getImmediate();return{logEvent:function(e,n,r){return Sh(t,e,n,r)}}}catch(n){throw Lf.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),ea(_h,Eh),ea(_h,Eh,"esm2017");var Th,Ih="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ch={},Ah=Ah||{},Oh=Ih||self;function Nh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ph(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Dh="closure_uid_"+(1e9*Math.random()>>>0),Rh=0;function Lh(e,t,n){return e.call.apply(e.bind,arguments)}function Mh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function jh(e,t,n){return(jh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Lh:Mh).apply(null,arguments)}function Fh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Uh(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Vh(){this.s=this.s,this.o=this.o}Vh.prototype.s=!1,Vh.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Dh)&&e[Dh]||(e[Dh]=++Rh)}(this)},Vh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var zh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Bh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Hh(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Nh(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function qh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}qh.prototype.h=function(){this.defaultPrevented=!0};var Kh=function(){if(!Oh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};Oh.addEventListener("test",n,t),Oh.removeEventListener("test",n,t)}catch(n){}return e}();function Wh(e){return/^[\s\xa0]*$/.test(e)}function Gh(){var e=Oh.navigator;return e&&(e=e.userAgent)?e:""}function Qh(e){return-1!=Gh().indexOf(e)}function $h(e){return $h[" "](e),e}$h[" "]=function(){};var Jh,Xh,Yh=Qh("Opera"),Zh=Qh("Trident")||Qh("MSIE"),ed=Qh("Edge"),td=ed||Zh,nd=Qh("Gecko")&&!(-1!=Gh().toLowerCase().indexOf("webkit")&&!Qh("Edge"))&&!(Qh("Trident")||Qh("MSIE"))&&!Qh("Edge"),rd=-1!=Gh().toLowerCase().indexOf("webkit")&&!Qh("Edge");function id(){var e=Oh.document;return e?e.documentMode:void 0}e:{var ad="",od=function(){var e=Gh();return nd?/rv:([^\);]+)(\)|;)/.exec(e):ed?/Edge\/([\d\.]+)/.exec(e):Zh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):rd?/WebKit\/(\S+)/.exec(e):Yh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(od&&(ad=od?od[1]:""),Zh){var sd=id();if(null!=sd&&sd>parseFloat(ad)){Jh=String(sd);break e}}Jh=ad}if(Oh.document&&Zh){var ud=id();Xh=ud||(parseInt(Jh,10)||void 0)}else Xh=void 0;var cd=Xh;function ld(e,t){if(qh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(nd){e:{try{$h(t.nodeName);var i=!0;break e}catch(Ae){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:fd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ld.$.h.call(this)}}Uh(ld,qh);var fd={2:"touch",3:"pen",4:"mouse"};ld.prototype.h=function(){ld.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hd="closure_listenable_"+(1e6*Math.random()|0),dd=0;function pd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++dd,this.fa=this.ia=!1}function vd(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function gd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function yd(e){var t={};for(var n in e)t[n]=e[n];return t}var md="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<md.length;a++)n=md[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bd(e){this.src=e,this.g={},this.h=0}function wd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=zh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(vd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function xd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}bd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=xd(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new pd(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Sd="closure_lm_"+(1e6*Math.random()|0),_d={};function Ed(e,t,n,r,i){if(r&&r.once)return Id(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ed(e,t[a],n,r,i);return null}return n=Rd(n),e&&e[hd]?e.O(t,n,Ph(r)?!!r.capture:!!r,i):Td(e,t,n,!1,r,i)}function Td(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ph(i)?!!i.capture:!!i,s=Pd(e);if(s||(e[Sd]=s=new bd(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Nd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Kh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Od(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Id(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Id(e,t[a],n,r,i);return null}return n=Rd(n),e&&e[hd]?e.P(t,n,Ph(r)?!!r.capture:!!r,i):Td(e,t,n,!0,r,i)}function Cd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Cd(e,t[a],n,r,i);else r=Ph(r)?!!r.capture:!!r,n=Rd(n),e&&e[hd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=xd(a=e.g[t],n,r,i))&&(vd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Pd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=xd(t,n,r,i)),(n=-1<e?t[e]:null)&&Ad(n))}function Ad(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[hd])wd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Od(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pd(t))?(wd(n,e),0==n.h&&(n.src=null,t[Sd]=null)):vd(e)}}}function Od(e){return e in _d?_d[e]:_d[e]="on"+e}function Nd(e,t){if(e.fa)e=!0;else{t=new ld(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ad(e),e=n.call(r,t)}return e}function Pd(e){return(e=e[Sd])instanceof bd?e:null}var Dd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rd(e){return"function"===typeof e?e:(e[Dd]||(e[Dd]=function(t){return e.handleEvent(t)}),e[Dd])}function Ld(){Vh.call(this),this.i=new bd(this),this.S=this,this.J=null}function Md(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new qh(t,e);else if(t instanceof qh)t.target=t.target||e;else{var i=t;kd(t=new qh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=jd(o,r,!0,t)&&i}if(i=jd(o=t.g=e,r,!0,t)&&i,i=jd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=jd(o=t.g=n[a],r,!1,t)&&i}function jd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&wd(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Uh(Ld,Vh),Ld.prototype[hd]=!0,Ld.prototype.removeEventListener=function(e,t,n,r){Cd(this,e,t,n,r)},Ld.prototype.N=function(){if(Ld.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vd(n[r]);delete t.g[e],t.h--}}this.J=null},Ld.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ld.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fd=Oh.JSON.stringify,Ud=function(){function e(t,n){sr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return or(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Vd(){var e=Qd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var zd=function(){function e(){sr(this,e),this.h=this.g=null}return or(e,[{key:"add",value:function(e,t){var n=Bd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Bd=new Ud((function(){return new Hd}),(function(e){return e.reset()})),Hd=function(){function e(){sr(this,e),this.next=this.g=this.h=null}return or(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function qd(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Kd(e){Oh.setTimeout((function(){throw e}),0)}var Wd,Gd=!1,Qd=new zd,$d=function(){var e=Oh.Promise.resolve(void 0);Wd=function(){e.then(Jd)}},Jd=function(){for(var e;e=Vd();){try{e.h.call(e.g)}catch(Oe){Kd(Oe)}var t=Bd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Gd=!1};function Xd(e,t){Ld.call(this),this.h=e||1,this.g=t||Oh,this.j=jh(this.qb,this),this.l=Date.now()}function Yd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Zd(e,t,n){if("function"===typeof e)n&&(e=jh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=jh(e.handleEvent,e)}return 2147483647<Number(t)?-1:Oh.setTimeout(e,t||0)}function ep(e){e.g=Zd((function(){e.g=null,e.i&&(e.i=!1,ep(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Uh(Xd,Ld),(Th=Xd.prototype).ga=!1,Th.T=null,Th.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Md(this,"tick"),this.ga&&(Yd(this),this.start()))}},Th.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Th.N=function(){Xd.$.N.call(this),Yd(this),delete this.g};var tp=function(e){yr(n,e);var t=wr(n);function n(e,r){var i;return sr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return or(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ep(this)}},{key:"N",value:function(){pr(hr(n.prototype),"N",this).call(this),this.g&&(Oh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Vh);function np(e){Vh.call(this),this.h=e,this.g={}}Uh(np,Vh);var rp=[];function ip(e,t,n,r){Array.isArray(n)||(n&&(rp[0]=n.toString()),n=rp);for(var i=0;i<n.length;i++){var a=Ed(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ap(e){gd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ad(e)}),e),e.g={}}function op(){this.g=!0}function sp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Fd(n)}catch(xe){return t}}(e,n)+(r?" "+r:"")}))}np.prototype.N=function(){np.$.N.call(this),ap(this)},np.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},op.prototype.Ea=function(){this.g=!1},op.prototype.info=function(){};var up={},cp=null;function lp(){return cp=cp||new Ld}function fp(e){qh.call(this,up.Ta,e)}function hp(e){var t=lp();Md(t,new fp(t))}function dp(e,t){qh.call(this,up.STAT_EVENT,e),this.stat=t}function pp(e){var t=lp();Md(t,new dp(t,e))}function vp(e,t){qh.call(this,up.Ua,e),this.size=t}function gp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Oh.setTimeout((function(){e()}),t)}up.Ta="serverreachability",Uh(fp,qh),up.STAT_EVENT="statevent",Uh(dp,qh),up.Ua="timingevent",Uh(vp,qh);var yp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kp(){}function bp(e){return e.h||(e.h=e.i())}function wp(){}kp.prototype.h=null;var xp,Sp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _p(){qh.call(this,"d")}function Ep(){qh.call(this,"c")}function Tp(){}function Ip(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new np(this),this.P=Ap,e=td?125:void 0,this.V=new Xd(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Cp}function Cp(){this.i=null,this.g="",this.h=!1}Uh(_p,qh),Uh(Ep,qh),Uh(Tp,kp),Tp.prototype.g=function(){return new XMLHttpRequest},Tp.prototype.i=function(){return{}},xp=new Tp;var Ap=45e3,Op={},Np={};function Pp(e,t,n){e.L=1,e.A=Xp(Wp(t)),e.u=n,e.S=!0,Dp(e,null)}function Dp(e,t){e.G=Date.now(),jp(e),e.B=Wp(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),lv(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Cp,e.g=lg(e.l,n?t:null,!e.u),0<e.O&&(e.M=new tp(jh(e.Pa,e,e.g),e.O)),ip(e.U,e.g,"readystatechange",e.nb),t=e.I?yd(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),hp(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Rp(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Lp(e,t,n){for(var r,i=!0;!e.J&&e.o<n.length;){if((r=Mp(e,n))==Np){4==t&&(e.s=4,pp(14),i=!1),sp(e.j,e.m,null,"[Incomplete Response]");break}if(r==Op){e.s=4,pp(15),sp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}sp(e.j,e.m,r,null),Bp(e,r)}Rp(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,pp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ng(t),t.M=!0,pp(11))):(sp(e.j,e.m,n,"[Invalid Chunked Response]"),zp(e),Vp(e))}function Mp(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Np:(n=Number(t.substring(n,r)),isNaN(n)?Op:(r+=1)+n>t.length?Np:(t=t.slice(r,r+n),e.o=r+n,t))}function jp(e){e.Y=Date.now()+e.P,Fp(e,e.P)}function Fp(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=gp(jh(e.lb,e),t)}function Up(e){e.C&&(Oh.clearTimeout(e.C),e.C=null)}function Vp(e){0==e.l.H||e.J||ag(e.l,e)}function zp(e){Up(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Yd(e.V),ap(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Bp(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||yv(n.i,e)))if(!e.K&&yv(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ig(n),Qv(n)}tg(n),pp(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=gp(jh(n.ib,n),6e3));if(1>=gv(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else sg(n,11)}else if((e.K||n.g==e)&&ig(n),!Wh(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(mv(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Jp(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=cg(r,r.J?r.pa:null,r.Y),d.K){kv(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.C&&(Up(p),jp(p)),r.g=d}else eg(r);0<n.j.length&&Jv(n)}else"stop"!=a[0]&&"close"!=a[0]||sg(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?sg(n,7):Gv(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}hp()}catch(a){}}function Hp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Nh(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Nh(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Nh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Th=Ip.prototype).setTimeout=function(e){this.P=e},Th.nb=function(e){e=e.target;var t=this.M;t&&3==zv(e)?t.l():this.Pa(e)},Th.Pa=function(e){try{if(e==this.g)e:{var t=zv(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||td||this.g&&(this.h.h||this.g.ja()||Bv(this.g)))){this.J||4!=t||7==n||hp(),Up(this);var r=this.g.da();this.ca=r;t:if(Rp(this)){var i=Bv(this.g);e="";var a=i.length,o=4==zv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zp(this),Vp(this);var s="";break t}this.h.i=new Oh.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.v,this.B,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wh(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.s=3,pp(12),zp(this),Vp(this);break e}sp(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bp(this,r)}this.S?(Lp(this,t,s),td&&this.i&&3==t&&(ip(this.U,this.V,"tick",this.mb),this.V.start())):(sp(this.j,this.m,s,null),Bp(this,s)),4==t&&zp(this),this.i&&!this.J&&(4==t?ag(this.l,this):(this.i=!1,jp(this)))}else(function(e){var t={};e=(e.g&&2<=zv(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Wh(e[n])){var r=qd(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.s=3,pp(12)):(this.s=0,pp(13)),zp(this),Vp(this)}}}catch(t){}},Th.mb=function(){if(this.g){var e=zv(this.g),t=this.g.ja();this.o<t.length&&(Up(this),Lp(this,e,t),this.i&&4!=e&&jp(this))}},Th.cancel=function(){this.J=!0,zp(this)},Th.lb=function(){this.C=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(hp(),pp(17)),zp(this),this.s=2,Vp(this)):Fp(this,this.Y-e)};var qp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kp(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Kp){this.h=e.h,Gp(this,e.j),this.s=e.s,this.g=e.g,Qp(this,e.m),this.l=e.l;var t=e.i,n=new ov;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),$p(this,n),this.o=e.o}else e&&(t=String(e).match(qp))?(this.h=!1,Gp(this,t[1]||"",!0),this.s=Yp(t[2]||""),this.g=Yp(t[3]||"",!0),Qp(this,t[4]),this.l=Yp(t[5]||"",!0),$p(this,t[6]||"",!0),this.o=Yp(t[7]||"")):(this.h=!1,this.i=new ov(null,this.h))}function Wp(e){return new Kp(e)}function Gp(e,t,n){e.j=n?Yp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function $p(e,t,n){t instanceof ov?(e.i=t,function(e,t){t&&!e.j&&(sv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(uv(this,t),lv(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Zp(t,iv)),e.i=new ov(t,e.h))}function Jp(e,t,n){e.i.set(t,n)}function Xp(e){return Jp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ev),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ev(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Kp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zp(t,tv,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zp(t,tv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zp(n,"/"==n.charAt(0)?rv:nv,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zp(n,av)),e.join("")};var tv=/[#\/\?@]/g,nv=/[#\?:]/g,rv=/[#\?]/g,iv=/[#\?@]/g,av=/#/g;function ov(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sv(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function uv(e,t){sv(e),t=fv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function cv(e,t){return sv(e),t=fv(e,t),e.g.has(t)}function lv(e,t,n){uv(e,t),0<n.length&&(e.i=null,e.g.set(fv(e,t),Bh(n)),e.h+=n.length)}function fv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Th=ov.prototype).add=function(e,t){sv(this),this.i=null,e=fv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Th.forEach=function(e,t){sv(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Th.ta=function(){sv(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Th.Z=function(e){sv(this);var t=[];if("string"===typeof e)cv(this,e)&&(t=t.concat(this.g.get(fv(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Th.set=function(e,t){return sv(this),this.i=null,cv(this,e=fv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Th.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Th.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var hv=or((function e(t,n){sr(this,e),this.g=t,this.map=n}));function dv(e){this.l=e||pv,Oh.PerformanceNavigationTiming?e=0<(e=Oh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Oh.g&&Oh.g.Ka&&Oh.g.Ka()&&Oh.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pv=10;function vv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function gv(e){return e.h?1:e.g?e.g.size:0}function yv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function mv(e,t){e.g?e.g.add(t):e.h=t}function kv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function bv(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=xr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Bh(e.i)}dv.prototype.cancel=function(){if(this.i=bv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=xr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var wv=function(){function e(){sr(this,e)}return or(e,[{key:"stringify",value:function(e){return Oh.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Oh.JSON.parse(e,void 0)}}]),e}();function xv(){this.g=new wv}function Sv(e,t,n){var r=n||"";try{Hp(e,(function(e,n){var i=e;Ph(e)&&(i=Fd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function _v(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Ae){}}function Ev(e){this.l=e.ec||null,this.j=e.ob||!1}function Tv(e,t){Ld.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Iv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uh(Ev,kp),Ev.prototype.g=function(){return new Tv(this.l,this.j)},Ev.prototype.i=function(e){return function(){return e}}({}),Uh(Tv,Ld);var Iv=0;function Cv(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Av(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ov(e)}function Ov(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Th=Tv.prototype).open=function(e,t){if(this.readyState!=Iv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ov(this)},Th.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Oh).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Th.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Av(this)),this.readyState=Iv},Th.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ov(this)),this.g&&(this.readyState=3,Ov(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Oh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cv(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Th.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Av(this):Ov(this),3==this.readyState&&Cv(this)}},Th.Za=function(e){this.g&&(this.response=this.responseText=e,Av(this))},Th.Ya=function(e){this.g&&(this.response=e,Av(this))},Th.ka=function(){this.g&&Av(this)},Th.setRequestHeader=function(e,t){this.v.append(e,t)},Th.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Th.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Nv=Oh.JSON.parse;function Pv(e){Ld.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dv,this.L=this.M=!1}Uh(Pv,Ld);var Dv="",Rv=/^https?$/i,Lv=["POST","PUT"];function Mv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,jv(e),Uv(e)}function jv(e){e.F||(e.F=!0,Md(e,"complete"),Md(e,"error"))}function Fv(e){if(e.h&&"undefined"!=typeof Ah&&(!e.C[1]||4!=zv(e)||2!=e.da()))if(e.v&&4==zv(e))Zd(e.La,0,e);else if(Md(e,"readystatechange"),4==zv(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(qp)[1]||null;!a&&Oh.self&&Oh.self.location&&(a=Oh.self.location.protocol.slice(0,-1)),i=!Rv.test(a?a.toLowerCase():"")}t=i}if(t)Md(e,"complete"),Md(e,"success");else{e.m=6;try{var o=2<zv(e)?e.g.statusText:""}catch(xe){o=""}e.j=o+" ["+e.da()+"]",jv(e)}}finally{Uv(e)}}}function Uv(e,t){if(e.g){Vv(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Md(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Vv(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Oh.clearTimeout(e.A),e.A=null)}function zv(e){return e.g?e.g.readyState:0}function Bv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Dv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Fe){return null}}function Hv(e){var t="";return gd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function qv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Hv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Jp(e,t,n))}function Kv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wv(e){this.Ga=0,this.j=[],this.l=new op,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Kv("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Kv("baseRetryDelayMs",5e3,e),this.hb=Kv("retryDelaySeedMs",1e4,e),this.eb=Kv("forwardChannelMaxRetries",2,e),this.xa=Kv("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new dv(e&&e.concurrentRequestLimit),this.Ja=new xv,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Gv(e){if($v(e),3==e.H){var t=e.W++,n=Wp(e.I);if(Jp(n,"SID",e.K),Jp(n,"RID",t),Jp(n,"TYPE","terminate"),Yv(e,n),(t=new Ip(e,e.l,t)).L=2,t.A=Xp(Wp(n)),n=!1,Oh.navigator&&Oh.navigator.sendBeacon)try{n=Oh.navigator.sendBeacon(t.A.toString(),"")}catch(Le){}!n&&Oh.Image&&((new Image).src=t.A,n=!0),n||(t.g=lg(t.l,null),t.g.ha(t.A)),t.G=Date.now(),jp(t)}ug(e)}function Qv(e){e.g&&(ng(e),e.g.cancel(),e.g=null)}function $v(e){Qv(e),e.u&&(Oh.clearTimeout(e.u),e.u=null),ig(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Oh.clearTimeout(e.m),e.m=null)}function Jv(e){if(!vv(e.i)&&!e.m){e.m=!0;var t=e.Na;Wd||$d(),Gd||(Wd(),Gd=!0),Qd.add(t,e),e.C=0}}function Xv(e,t){var n;n=t?t.m:e.W++;var r=Wp(e.I);Jp(r,"SID",e.K),Jp(r,"RID",n),Jp(r,"AID",e.V),Yv(e,r),e.o&&e.s&&qv(r,e.o,e.s),n=new Ip(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Zv(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),mv(e.i,n),Pp(n,r,t)}function Yv(e,t){e.na&&gd(e.na,(function(e,n){Jp(t,n,e)})),e.h&&Hp({},(function(e,n){Jp(t,n,e)}))}function Zv(e,t,n){n=Math.min(e.j.length,n);var r=e.h?jh(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Sv(l,o,"req"+c+"_")}catch(ft){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function eg(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Wd||$d(),Gd||(Wd(),Gd=!0),Qd.add(t,e),e.A=0}}function tg(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=gp(jh(e.Ma,e),og(e,e.A)),e.A++,!0)}function ng(e){null!=e.B&&(Oh.clearTimeout(e.B),e.B=null)}function rg(e){e.g=new Ip(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Wp(e.wa);Jp(t,"RID","rpc"),Jp(t,"SID",e.K),Jp(t,"AID",e.V),Jp(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Jp(t,"TO",e.qa),Jp(t,"TYPE","xmlhttp"),Yv(e,t),e.o&&e.s&&qv(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Xp(Wp(t)),n.u=null,n.S=!0,Dp(n,e)}function ig(e){null!=e.v&&(Oh.clearTimeout(e.v),e.v=null)}function ag(e,t){var n=null;if(e.g==t){ig(e),ng(e),e.g=null;var r=2}else{if(!yv(e.i,t))return;n=t.F,kv(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Md(r=lp(),new vp(r,n)),Jv(e)}else eg(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(gv(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=gp(jh(e.Na,e,t),og(e,e.C)),e.C++,!0))}(e,t)||2==r&&tg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:sg(e,5);break;case 4:sg(e,10);break;case 3:sg(e,6);break;default:sg(e,2)}}function og(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function sg(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=jh(e.pb,e);n||(n=new Kp("//www.google.com/images/cleardot.gif"),Oh.location&&"http"==Oh.location.protocol||Gp(n,"https"),Xp(n)),function(e,t){var n=new op;if(Oh.Image){var r=new Image;r.onload=Fh(_v,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fh(_v,n,r,"TestLoadImage: error",!1,t),r.onabort=Fh(_v,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fh(_v,n,r,"TestLoadImage: timeout",!1,t),Oh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else pp(2);e.H=0,e.h&&e.h.za(t),ug(e),$v(e)}function ug(e){if(e.H=0,e.ma=[],e.h){var t=bv(e.i);0==t.length&&0==e.j.length||(Hh(e.ma,t),Hh(e.ma,e.j),e.i.i.length=0,Bh(e.j),e.j.length=0),e.h.ya()}}function cg(e,t,n){var r=n instanceof Kp?Wp(n):new Kp(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Qp(r,r.m);else{var i=Oh.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Kp(null);r&&Gp(a,r),t&&(a.g=t),i&&Qp(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Jp(r,n,t),Jp(r,"VER",e.ra),Yv(e,r),r}function lg(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Pv(new Ev({ob:n})):new Pv(e.va)).Oa(e.J),t}function fg(){}function hg(){if(Zh&&!(10<=Number(cd)))throw Error("Environmental error: no available transport.")}function dg(e,t){Ld.call(this),this.g=new Wv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Wh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Wh(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gg(this)}function pg(e){_p.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vg(){Ep.call(this),this.status=1}function gg(e){this.g=e}function yg(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function mg(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function kg(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Th=Pv.prototype).Oa=function(e){this.M=e},Th.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xp.g(),this.C=this.u?bp(this.u):bp(xp),this.g.onreadystatechange=jh(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Mv(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,s=xr(r.keys());try{for(s.s();!(a=s.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){s.e(p)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Oh.FormData&&e instanceof Oh.FormData,!(0<=zh(Lv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=xr(n);try{for(l.s();!(c=l.n()).done;){var f=o(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Vv(this),0<this.B&&((this.L=function(e){return Zh&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jh(this.ua,this)):this.A=Zd(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Mv(this,u)}},Th.ua=function(){"undefined"!=typeof Ah&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Md(this,"timeout"),this.abort(8))},Th.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Md(this,"complete"),Md(this,"abort"),Uv(this))},Th.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uv(this,!0)),Pv.$.N.call(this)},Th.La=function(){this.s||(this.G||this.v||this.l?Fv(this):this.kb())},Th.kb=function(){Fv(this)},Th.isActive=function(){return!!this.g},Th.da=function(){try{return 2<zv(this)?this.g.status:-1}catch(Ce){return-1}},Th.ja=function(){try{return this.g?this.g.responseText:""}catch(Ce){return""}},Th.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Nv(t)}},Th.Ia=function(){return this.m},Th.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Th=Wv.prototype).ra=8,Th.H=1,Th.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Ip(this,this.l,e),n=this.s;if(this.U&&(n?kd(n=yd(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Zv(this,t,r),Jp(i=Wp(this.I),"RID",e),Jp(i,"CVER",22),this.F&&Jp(i,"X-HTTP-Session-Id",this.F),Yv(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Hv(n)))+"&"+r:this.o&&qv(i,this.o,n)),mv(this.i,t),this.bb&&Jp(i,"TYPE","init"),this.P?(Jp(i,"$req",r),Jp(i,"SID","null"),t.aa=!0,Pp(t,i,null)):Pp(t,i,r),this.H=2}}else 3==this.H&&(e?Xv(this,e):0==this.j.length||vv(this.i)||Xv(this))},Th.Ma=function(){if(this.u=null,rg(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=gp(jh(this.jb,this),e)}},Th.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pp(10),Qv(this),rg(this))},Th.ib=function(){null!=this.v&&(this.v=null,Qv(this),tg(this),pp(19))},Th.pb=function(e){e?(this.l.info("Successfully pinged google.com"),pp(2)):(this.l.info("Failed to ping google.com"),pp(1))},Th.isActive=function(){return!!this.h&&this.h.isActive(this)},(Th=fg.prototype).Ba=function(){},Th.Aa=function(){},Th.za=function(){},Th.ya=function(){},Th.isActive=function(){return!0},Th.Va=function(){},hg.prototype.g=function(e,t){return new dg(e,t)},Uh(dg,Ld),dg.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;pp(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=cg(e,null,e.Y),Jv(e)},dg.prototype.close=function(){Gv(this.g)},dg.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Fd(e),e=n);t.j.push(new hv(t.fb++,e)),3==t.H&&Jv(t)},dg.prototype.N=function(){this.g.h=null,delete this.j,Gv(this.g),delete this.g,dg.$.N.call(this)},Uh(pg,_p),Uh(vg,Ep),Uh(gg,fg),gg.prototype.Ba=function(){Md(this.g,"a")},gg.prototype.Aa=function(e){Md(this.g,new pg(e))},gg.prototype.za=function(e){Md(this.g,new vg)},gg.prototype.ya=function(){Md(this.g,"b")},Uh(yg,(function(){this.blockSize=-1})),yg.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yg.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)mg(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){mg(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){mg(this,r),i=0;break}}this.h=i,this.i+=t},yg.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var bg={};function wg(e){return-128<=e&&128>e?function(e,t){var n=bg;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new kg([0|e],0>e?-1:0)})):new kg([0|e],0>e?-1:0)}function xg(e){if(isNaN(e)||!isFinite(e))return _g;if(0>e)return Ag(xg(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Sg;return new kg(t,0)}var Sg=4294967296,_g=wg(0),Eg=wg(1),Tg=wg(16777216);function Ig(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Cg(e){return-1==e.h}function Ag(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new kg(n,~e.h).add(Eg)}function Og(e,t){return e.add(Ag(t))}function Ng(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Pg(e,t){this.g=e,this.h=t}function Dg(e,t){if(Ig(t))throw Error("division by zero");if(Ig(e))return new Pg(_g,_g);if(Cg(e))return t=Dg(Ag(e),t),new Pg(Ag(t.g),Ag(t.h));if(Cg(t))return t=Dg(e,Ag(t)),new Pg(Ag(t.g),t.h);if(30<e.g.length){if(Cg(e)||Cg(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Eg,r=t;0>=r.X(e);)n=Rg(n),r=Rg(r);var i=Lg(n,1),a=Lg(r,1);for(r=Lg(r,2),n=Lg(n,2);!Ig(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Lg(r,1),n=Lg(n,1)}return t=Og(e,i.R(t)),new Pg(i,t)}for(i=_g;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=xg(n)).R(t);Cg(o)||0<o.X(e);)o=(a=xg(n-=r)).R(t);Ig(a)&&(a=Eg),i=i.add(a),e=Og(e,o)}return new Pg(i,e)}function Rg(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new kg(n,e.h)}function Lg(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new kg(i,e.h)}(Th=kg.prototype).ea=function(){if(Cg(this))return-Ag(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Sg+r)*t,t*=Sg}return e},Th.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ig(this))return"0";if(Cg(this))return"-"+Ag(this).toString(e);for(var t=xg(Math.pow(e,6)),n=this,r="";;){var i=Dg(n,t).g,a=((0<(n=Og(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ig(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Th.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Th.X=function(e){return Cg(e=Og(this,e))?-1:Ig(e)?0:1},Th.abs=function(){return Cg(this)?Ag(this):this},Th.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new kg(n,-2147483648&n[n.length-1]?-1:0)},Th.R=function(e){if(Ig(this)||Ig(e))return _g;if(Cg(this))return Cg(e)?Ag(this).R(Ag(e)):Ag(Ag(this).R(e));if(Cg(e))return Ag(this.R(Ag(e)));if(0>this.X(Tg)&&0>e.X(Tg))return xg(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Ng(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Ng(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Ng(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Ng(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new kg(n,0)},Th.gb=function(e){return Dg(this,e).h},Th.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new kg(n,this.h&e.h)},Th.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new kg(n,this.h|e.h)},Th.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new kg(n,this.h^e.h)},hg.prototype.createWebChannel=hg.prototype.g,dg.prototype.send=dg.prototype.u,dg.prototype.open=dg.prototype.m,dg.prototype.close=dg.prototype.close,yp.NO_ERROR=0,yp.TIMEOUT=8,yp.HTTP_ERROR=6,mp.COMPLETE="complete",wp.EventType=Sp,Sp.OPEN="a",Sp.CLOSE="b",Sp.ERROR="c",Sp.MESSAGE="d",Ld.prototype.listen=Ld.prototype.O,Pv.prototype.listenOnce=Pv.prototype.P,Pv.prototype.getLastError=Pv.prototype.Sa,Pv.prototype.getLastErrorCode=Pv.prototype.Ia,Pv.prototype.getStatus=Pv.prototype.da,Pv.prototype.getResponseJson=Pv.prototype.Wa,Pv.prototype.getResponseText=Pv.prototype.ja,Pv.prototype.send=Pv.prototype.ha,Pv.prototype.setWithCredentials=Pv.prototype.Oa,yg.prototype.digest=yg.prototype.l,yg.prototype.reset=yg.prototype.reset,yg.prototype.update=yg.prototype.j,kg.prototype.add=kg.prototype.add,kg.prototype.multiply=kg.prototype.R,kg.prototype.modulo=kg.prototype.gb,kg.prototype.compare=kg.prototype.X,kg.prototype.toNumber=kg.prototype.ea,kg.prototype.toString=kg.prototype.toString,kg.prototype.getBits=kg.prototype.D,kg.fromNumber=xg,kg.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ag(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=xg(Math.pow(n,8)),i=_g,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=xg(Math.pow(n,o)),i=i.R(o).add(xg(s))):i=(i=i.R(r)).add(xg(s))}return i};var Mg=Ch.createWebChannelTransport=function(){return new hg},jg=Ch.getStatEventTarget=function(){return lp()},Fg=Ch.ErrorCode=yp,Ug=Ch.EventType=mp,Vg=Ch.Event=up,zg=Ch.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bg=(Ch.FetchXmlHttpFactory=Ev,Ch.WebChannel=wp),Hg=Ch.XhrIo=Pv,qg=Ch.Md5=yg,Kg=Ch.Integer=kg,Wg="@firebase/firestore",Gg=function(){function e(t){sr(this,e),this.uid=t}return or(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Gg.UNAUTHENTICATED=new Gg(null),Gg.GOOGLE_CREDENTIALS=new Gg("google-credentials-uid"),Gg.FIRST_PARTY=new Gg("first-party-uid"),Gg.MOCK_USER=new Gg("mock-user");var Qg="10.8.0",$g=new mi("@firebase/firestore");function Jg(){return $g.logLevel}function Xg(e){if($g.logLevel<=fi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ey);$g.debug.apply($g,["Firestore (".concat(Qg,"): ").concat(e)].concat(me(i)))}}function Yg(e){if($g.logLevel<=fi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ey);$g.error.apply($g,["Firestore (".concat(Qg,"): ").concat(e)].concat(me(i)))}}function Zg(e){if($g.logLevel<=fi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ey);$g.warn.apply($g,["Firestore (".concat(Qg,"): ").concat(e)].concat(me(i)))}}function ey(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(_e){return e}}function ty(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Qg,") INTERNAL ASSERTION FAILED: ")+e;throw Yg(t),new Error(t)}function ny(e,t){e||ty()}function ry(e,t){return e}var iy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ay=function(e){yr(n,e);var t=wr(n);function n(e,r){var i;return sr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return or(n)}(Wr),oy=or((function e(){var t=this;sr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),sy=or((function e(t,n){sr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),uy=function(){function e(){sr(this,e)}return or(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Gg.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),cy=function(){function e(t){sr(this,e),this.token=t,this.changeListener=null}return or(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ly=function(){function e(t){sr(this,e),this.t=t,this.currentUser=Gg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return or(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new oy;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new oy,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Xg("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Xg("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new oy)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Xg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ny("string"==typeof n.accessToken),new sy(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ny(null===e||"string"==typeof e),new Gg(e)}}]),e}(),fy=function(){function e(t,n,r){sr(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Gg.FIRST_PARTY,this.I=new Map}return or(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),hy=function(){function e(t,n,r){sr(this,e),this.l=t,this.h=n,this.P=r}return or(e,[{key:"getToken",value:function(){return Promise.resolve(new fy(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Gg.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),dy=or((function e(t){sr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),py=function(){function e(t){sr(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return or(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Xg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Xg("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Xg("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Xg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ny("string"==typeof t.token),e.R=t.token,new dy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function vy(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var gy=function(){function e(){sr(this,e)}return or(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=vy(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function yy(e,t){return e<t?-1:e>t?1:0}function my(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var ky=function(){function e(t,n){if(sr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ay(iy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ay(iy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ay(iy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ay(iy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return or(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?yy(this.nanoseconds,e.nanoseconds):yy(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),by=function(){function e(t){sr(this,e),this.timestamp=t}return or(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ky(0,0))}},{key:"max",value:function(){return new e(new ky(253402300799,999999999))}}]),e}(),wy=function(){function e(t,n,r){sr(this,e),void 0===n?n=0:n>t.length&&ty(),void 0===r?r=t.length-n:r>t.length-n&&ty(),this.segments=t,this.offset=n,this.len=r}return or(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),xy=function(e){yr(n,e);var t=wr(n);function n(){return sr(this,n),t.apply(this,arguments)}return or(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"toUriEncodedString",value:function(){return this.toArray().map(encodeURIComponent).join("/")}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new ay(iy.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,me(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wy),Sy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_y=function(e){yr(n,e);var t=wr(n);function n(){return sr(this,n),t.apply(this,arguments)}return or(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Sy.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ay(iy.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new ay(iy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ay(iy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ay(iy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wy),Ey=function(){function e(t){sr(this,e),this.path=t}return or(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===xy.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(xy.fromString(t))}},{key:"fromName",value:function(t){return new e(xy.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(xy.emptyPath())}},{key:"comparator",value:function(e,t){return xy.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new xy(t.slice()))}}]),e}(),Ty=or((function e(t,n,r,i){sr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Ty.UNKNOWN_ID=-1;function Iy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=by.fromTimestamp(1e9===r?new ky(n+1,0):new ky(n,r));return new Ay(i,Ey.empty(),t)}function Cy(e){return new Ay(e.readTime,e.key,-1)}var Ay=function(){function e(t,n,r){sr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return or(e,null,[{key:"min",value:function(){return new e(by.min(),Ey.empty(),-1)}},{key:"max",value:function(){return new e(by.max(),Ey.empty(),-1)}}]),e}();function Oy(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ey.comparator(e.documentKey,t.documentKey))?n:yy(e.largestBatchId,t.largestBatchId)}var Ny="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Py=function(){function e(){sr(this,e),this.onCommittedListeners=[]}return or(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Dy(e){return Ry.apply(this,arguments)}function Ry(){return Ry=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===iy.FAILED_PRECONDITION&&t.message===Ny){e.next=2;break}throw t;case 2:Xg("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Ry.apply(this,arguments)}var Ly=function(){function e(t){var n=this;sr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return or(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ty(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=xr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),My=function(){function e(t,n){var r=this;sr(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new oy,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new Uy(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=qy(e.target.error);r.V.reject(new Uy(t,n))}}return or(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(Xg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new zy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Uy(n,t)}}}]),e}(),jy=function(){function e(t,n,r){sr(this,e),this.name=t,this.version=n,this.p=r,12.2===e.S(zr())&&Yg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return or(e,[{key:"O",value:function(){var e=_r(Tr().mark((function e(t){var n=this;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Xg("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Uy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ay(iy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ay(iy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Uy(t,n))},i.onupgradeneeded=function(e){Xg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.p.N(t,i.transaction,e.oldVersion,n.version).next((function(){Xg("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=_r(Tr().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Tr().mark((function e(){var n,o;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.O(t);case 2:return l.db=e.sent,n=My.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.g(),e})).catch((function(e){return n.abort(e),Ly.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.m;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,Xg("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Xg("SimpleDb","Removing database:",e),By(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!qr())return!1;if(e.C())return!0;var t=zr(),n=e.S(t),r=0<n&&n<10,i=e.v(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Fy=function(){function e(t){sr(this,e),this.k=t,this.q=!1,this.K=null}return or(e,[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return By(this.k.delete())}}]),e}(),Uy=function(e){yr(n,e);var t=wr(n);function n(e,r){var i;return sr(this,n),(i=t.call(this,iy.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return or(n)}(ay);function Vy(e){return"IndexedDbTransactionError"===e.name}var zy=function(){function e(t){sr(this,e),this.store=t}return or(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Xg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),By(n)}},{key:"add",value:function(e){return Xg("SimpleDb","ADD",this.store.name,e,e),By(this.store.add(e))}},{key:"get",value:function(e){var t=this;return By(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Xg("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Xg("SimpleDb","DELETE",this.store.name,e),By(this.store.delete(e))}},{key:"count",value:function(){return Xg("SimpleDb","COUNT",this.store.name),By(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){var i=r.getAll(n.range);return new Ly((function(e,t){i.onerror=function(e){t(e.target.error)},i.onsuccess=function(t){e(t.target.result)}}))}var a=this.cursor(n),o=[];return this.G(a,(function(e,t){o.push(t)})).next((function(){return o}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Ly((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){Xg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Ly((function(n,r){t.onerror=function(e){var t=qy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Ly((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Fy(i),o=t(i.primaryKey,i.value,a);if(o instanceof Ly){var s=o.catch((function(e){return a.done(),Ly.reject(e)}));n.push(s)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}else r()}})).next((function(){return Ly.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function By(e){return new Ly((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qy(e.target.error);n(t)}}))}var Hy=!1;function qy(e){var t=jy.S(zr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ay("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Hy||(Hy=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ky=function(){function e(t,n){var r=this;sr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return or(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}]),e}();function Wy(e){return null==e}function Gy(e){return 0===e&&1/e==-1/0}function Qy(e){return"number"==typeof e&&Number.isInteger(e)&&!Gy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ky._e=-1;var $y=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Jy=([].concat(me($y),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Xy=Jy;[].concat(Xy,["indexConfiguration","indexState","indexEntries"]);function Yy(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function em(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var tm=function(){function e(t,n){sr(this,e),this.comparator=t,this.root=n||rm.EMPTY}return or(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new nm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new nm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new nm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new nm(this.root,e,this.comparator,!0)}}]),e}(),nm=function(){function e(t,n,r,i){sr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return or(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),rm=function(){function e(t,n,r,i,a){sr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return or(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ty();if(this.right.isRed())throw ty();var e=this.left.check();if(e!==this.right.check())throw ty();return e+(this.isRed()?0:1)}}]),e}();rm.EMPTY=null,rm.RED=!0,rm.BLACK=!1,rm.EMPTY=new(function(){function e(){sr(this,e),this.size=0}return or(e,[{key:"key",get:function(){throw ty()}},{key:"value",get:function(){throw ty()}},{key:"color",get:function(){throw ty()}},{key:"left",get:function(){throw ty()}},{key:"right",get:function(){throw ty()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new rm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var im=function(){function e(t){sr(this,e),this.comparator=t,this.data=new tm(this.comparator)}return or(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new am(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new am(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),am=function(){function e(t){sr(this,e),this.iter=t}return or(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var om=function(){function e(t){sr(this,e),this.fields=t,t.sort(_y.comparator)}return or(e,[{key:"unionWith",value:function(t){var n,r=new im(_y.comparator),i=xr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=xr(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=xr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return my(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),sm=function(e){yr(n,e);var t=wr(n);function n(){var e;return sr(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return or(n)}(Cr(Error));var um=function(e){function t(e){sr(this,t),this.binaryString=e}return or(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return yy(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new sm("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();um.EMPTY_BYTE_STRING=new um("");var cm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lm(e){if(ny(!!e),"string"==typeof e){var t=0,n=cm.exec(e);if(ny(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fm(e.seconds),nanos:fm(e.nanos)}}function fm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hm(e){return"string"==typeof e?um.fromBase64String(e):um.fromUint8Array(e)}function dm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pm(e){var t=e.mapValue.fields.__previous_value__;return dm(t)?pm(t):t}function vm(e){var t=lm(e.mapValue.fields.__local_write_time__.timestampValue);return new ky(t.seconds,t.nanos)}var gm=or((function e(t,n,r,i,a,o,s,u,c){sr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),ym=function(){function e(t,n){sr(this,e),this.projectId=t,this.database=n||"(default)"}return or(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),mm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function km(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dm(e)?4:Pm(e)?9007199254740991:10:ty()}function bm(e,t){if(e===t)return!0;var n=km(e);if(n!==km(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vm(e).isEqual(vm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=lm(e.timestampValue),r=lm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hm(e.bytesValue).isEqual(hm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fm(e.geoPointValue.latitude)===fm(t.geoPointValue.latitude)&&fm(e.geoPointValue.longitude)===fm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fm(e.integerValue)===fm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=fm(e.doubleValue),r=fm(t.doubleValue);return n===r?Gy(n)===Gy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return my(e.arrayValue.values||[],t.arrayValue.values||[],bm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Yy(n)!==Yy(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bm(n[i],r[i])))return!1;return!0}(e,t);default:return ty()}}function wm(e,t){return void 0!==(e.values||[]).find((function(e){return bm(e,t)}))}function xm(e,t){if(e===t)return 0;var n=km(e),r=km(t);if(n!==r)return yy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yy(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=fm(e.integerValue||e.doubleValue),r=fm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Sm(e.timestampValue,t.timestampValue);case 4:return Sm(vm(e),vm(t));case 5:return yy(e.stringValue,t.stringValue);case 6:return function(e,t){var n=hm(e),r=hm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=yy(n[i],r[i]);if(0!==a)return a}return yy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=yy(fm(e.latitude),fm(t.latitude));return 0!==n?n:yy(fm(e.longitude),fm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=xm(n[i],r[i]);if(a)return a}return yy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===mm.mapValue&&t===mm.mapValue)return 0;if(e===mm.mapValue)return 1;if(t===mm.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=yy(r[o],a[o]);if(0!==s)return s;var u=xm(n[r[o]],i[a[o]]);if(0!==u)return u}return yy(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ty()}}function Sm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return yy(e,t);var n=lm(e),r=lm(t),i=yy(n.seconds,r.seconds);return 0!==i?i:yy(n.nanos,r.nanos)}function _m(e){return Em(e)}function Em(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=lm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return hm(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ey.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=xr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Em(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=xr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Em(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ty()}function Tm(e){return!!e&&"integerValue"in e}function Im(e){return!!e&&"arrayValue"in e}function Cm(e){return!!e&&"nullValue"in e}function Am(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Om(e){return!!e&&"mapValue"in e}function Nm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Zy(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Nm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Nm(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Pm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Dm=function(){function e(t){sr(this,e),this.value=t}return or(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Om(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nm(t)}},{key:"setAll",value:function(e){var t=this,n=_y.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Nm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Om(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return bm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Om(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Zy(t,(function(t,n){return e[t]=n}));var r,i=xr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Nm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Rm(e){var t=[];return Zy(e.fields,(function(e,n){var r=new _y([e]);if(Om(n)){var i=Rm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=xr(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new om(t)}var Lm=function(){function e(t,n,r,i,a,o,s){sr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return or(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(by.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Dm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Dm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=by.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,by.min(),by.min(),by.min(),Dm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,by.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,by.min(),by.min(),Dm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,by.min(),by.min(),Dm.empty(),2)}}]),e}(),Mm=or((function e(t,n){sr(this,e),this.position=t,this.inclusive=n}));function jm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ey.comparator(Ey.fromName(o.referenceValue),n.key):xm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Fm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!bm(e.position[n],t.position[n]))return!1;return!0}var Um=or((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";sr(this,e),this.field=t,this.dir=n}));function Vm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var zm=or((function e(){sr(this,e)})),Bm=function(e){yr(n,e);var t=wr(n);function n(e,r,i){var a;return sr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return or(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xm(t,this.value)):null!==t&&km(this.value)===km(t)&&this.matchesComparison(xm(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ty()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Jm(e,t,r):"array-contains"===t?new ek(e,r):"in"===t?new tk(e,r):"not-in"===t?new nk(e,r):"array-contains-any"===t?new rk(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Xm(e,n):new Ym(e,n)}}]),n}(zm),Hm=function(e){yr(n,e);var t=wr(n);function n(e,r){var i;return sr(this,n),(i=t.call(this)).filters=e,i.op=r,i.ue=null,i}return or(n,[{key:"matches",value:function(e){return qm(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(zm);function qm(e){return"and"===e.op}function Km(e){return Wm(e)&&qm(e)}function Wm(e){var t,n=xr(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Hm)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Gm(e){if(e instanceof Bm)return e.field.canonicalString()+e.op.toString()+_m(e.value);if(Km(e))return e.filters.map((function(e){return Gm(e)})).join(",");var t=e.filters.map((function(e){return Gm(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Qm(e,t){return e instanceof Bm?function(e,t){return t instanceof Bm&&e.op===t.op&&e.field.isEqual(t.field)&&bm(e.value,t.value)}(e,t):e instanceof Hm?function(e,t){return t instanceof Hm&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Qm(n,t.filters[r])}),!0)}(e,t):void ty()}function $m(e){return e instanceof Bm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(_m(e.value))}(e):e instanceof Hm?function(e){return e.op.toString()+" {"+e.getFilters().map($m).join(" ,")+"}"}(e):"Filter"}var Jm=function(e){yr(n,e);var t=wr(n);function n(e,r,i){var a;return sr(this,n),(a=t.call(this,e,r,i)).key=Ey.fromName(i.referenceValue),a}return or(n,[{key:"matches",value:function(e){var t=Ey.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Bm),Xm=function(e){yr(n,e);var t=wr(n);function n(e,r){var i;return sr(this,n),(i=t.call(this,e,"in",r)).keys=Zm("in",r),i}return or(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Bm),Ym=function(e){yr(n,e);var t=wr(n);function n(e,r){var i;return sr(this,n),(i=t.call(this,e,"not-in",r)).keys=Zm("not-in",r),i}return or(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Bm);function Zm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ey.fromName(e.referenceValue)}))}var ek=function(e){yr(n,e);var t=wr(n);function n(e,r){return sr(this,n),t.call(this,e,"array-contains",r)}return or(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Im(t)&&wm(t.arrayValue,this.value)}}]),n}(Bm),tk=function(e){yr(n,e);var t=wr(n);function n(e,r){return sr(this,n),t.call(this,e,"in",r)}return or(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&wm(this.value.arrayValue,t)}}]),n}(Bm),nk=function(e){yr(n,e);var t=wr(n);function n(e,r){return sr(this,n),t.call(this,e,"not-in",r)}return or(n,[{key:"matches",value:function(e){if(wm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!wm(this.value.arrayValue,t)}}]),n}(Bm),rk=function(e){yr(n,e);var t=wr(n);function n(e,r){return sr(this,n),t.call(this,e,"array-contains-any",r)}return or(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Im(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return wm(t.value.arrayValue,e)}))}}]),n}(Bm),ik=or((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;sr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ce=null}));function ak(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ik(e,t,n,r,i,a,o)}function ok(e){var t=ry(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Gm(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Wy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return _m(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return _m(e)})).join(",")),t.ce=n}return t.ce}function sk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Vm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Qm(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fm(e.startAt,t.startAt)&&Fm(e.endAt,t.endAt)}function uk(e){return Ey.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ck=or((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;sr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function lk(e,t,n,r,i,a,o,s){return new ck(e,t,n,r,i,a,o,s)}function fk(e){return new ck(e)}function hk(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function dk(e){return null!==e.collectionGroup}function pk(e){var t=ry(e);if(null===t.le){t.le=[];var n,r=new Set,i=xr(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new im(_y.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new Um(e,o))})),r.has(_y.keyField().canonicalString())||t.le.push(new Um(_y.keyField(),o))}return t.le}function vk(e){var t=ry(e);return t.he||(t.he=gk(t,pk(e))),t.he}function gk(e,t){if("F"===e.limitType)return ak(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Um(e.field,t)}));var n=e.endAt?new Mm(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Mm(e.startAt.position,e.startAt.inclusive):null;return ak(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function yk(e,t,n){return new ck(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mk(e,t){return sk(vk(e),vk(t))&&e.limitType===t.limitType}function kk(e){return"".concat(ok(vk(e)),"|lt:").concat(e.limitType)}function bk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return $m(e)})).join(", "),"]")),Wy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return _m(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return _m(e)})).join(",")),"Target(".concat(t,")")}(vk(e)),"; limitType=").concat(e.limitType,")")}function wk(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ey.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=xr(pk(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=xr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=jm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,pk(e),t))&&!(e.endAt&&!function(e,t,n){var r=jm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,pk(e),t))}(e,t)}function xk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Sk(e){return function(t,n){var r,i=!1,a=xr(pk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=_k(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function _k(e,t,n){var r=e.field.isKeyField()?Ey.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xm(r,i):ty()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ty()}}var Ek=function(){function e(t,n){sr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return or(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=xr(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Zy(this.inner,(function(t,n){var r,i=xr(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return em(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Tk=new tm(Ey.comparator);function Ik(){return Tk}var Ck=new tm(Ey.comparator);function Ak(){for(var e=Ck,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Ok(e){var t=Ck;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Nk(){return Dk()}function Pk(){return Dk()}function Dk(){return new Ek((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Rk=new tm(Ey.comparator),Lk=new im(Ey.comparator);function Mk(){for(var e=Lk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var jk=new im(yy);function Fk(){return jk}function Uk(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gy(t)?"-0":t}}function Vk(e){return{integerValue:""+e}}function zk(e,t){return Qy(t)?Vk(t):Uk(e,t)}var Bk=or((function e(){sr(this,e),this._=void 0}));function Hk(e,t,n){return e instanceof Wk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&dm(t)&&(t=pm(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Gk?Qk(e,t):e instanceof $k?Jk(e,t):function(e,t){var n=Kk(e,t),r=Yk(n)+Yk(e.Ie);return Tm(n)&&Tm(e.Ie)?Vk(r):Uk(e.serializer,r)}(e,t)}function qk(e,t,n){return e instanceof Gk?Qk(e,t):e instanceof $k?Jk(e,t):n}function Kk(e,t){return e instanceof Xk?function(e){return Tm(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Wk=function(e){yr(n,e);var t=wr(n);function n(){return sr(this,n),t.apply(this,arguments)}return or(n)}(Bk),Gk=function(e){yr(n,e);var t=wr(n);function n(e){var r;return sr(this,n),(r=t.call(this)).elements=e,r}return or(n)}(Bk);function Qk(e,t){var n,r=Zk(t),i=xr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return bm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $k=function(e){yr(n,e);var t=wr(n);function n(e){var r;return sr(this,n),(r=t.call(this)).elements=e,r}return or(n)}(Bk);function Jk(e,t){var n,r=Zk(t),i=xr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!bm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Xk=function(e){yr(n,e);var t=wr(n);function n(e,r){var i;return sr(this,n),(i=t.call(this)).serializer=e,i.Ie=r,i}return or(n)}(Bk);function Yk(e){return fm(e.integerValue||e.doubleValue)}function Zk(e){return Im(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var eb=or((function e(t,n){sr(this,e),this.version=t,this.transformResults=n})),tb=function(){function e(t,n){sr(this,e),this.updateTime=t,this.exists=n}return or(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function nb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var rb=or((function e(){sr(this,e)}));function ib(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gb(e.key,tb.none()):new cb(e.key,e.data,tb.none());var n,r=e.data,i=Dm.empty(),a=new im(_y.comparator),o=xr(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new lb(e.key,i,new om(a.toArray()),tb.none())}function ab(e,t,n){e instanceof cb?function(e,t,n){var r=e.value.clone(),i=hb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof lb?function(e,t,n){if(nb(e.precondition,t)){var r=hb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ob(e,t,n,r){return e instanceof cb?function(e,t,n,r){if(!nb(e.precondition,t))return n;var i=e.value.clone(),a=db(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof lb?function(e,t,n,r){if(!nb(e.precondition,t))return n;var i=db(e.fieldTransforms,r,t),a=t.data;return a.setAll(fb(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return nb(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function sb(e,t){var n,r=null,i=xr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Kk(a.transform,o||null);null!=s&&(null===r&&(r=Dm.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function ub(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&my(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gk&&t instanceof Gk||e instanceof $k&&t instanceof $k?my(e.elements,t.elements,bm):e instanceof Xk&&t instanceof Xk?bm(e.Ie,t.Ie):e instanceof Wk&&t instanceof Wk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var cb=function(e){yr(n,e);var t=wr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return sr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return or(n,[{key:"getFieldMask",value:function(){return null}}]),n}(rb),lb=function(e){yr(n,e);var t=wr(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return sr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return or(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(rb);function fb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function hb(e,t,n){var r=new Map;ny(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,qk(o,s,n[i]))}return r}function db(e,t,n){var r,i=new Map,a=xr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Hk(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var pb,vb,gb=function(e){yr(n,e);var t=wr(n);function n(e,r){var i;return sr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return or(n,[{key:"getFieldMask",value:function(){return null}}]),n}(rb),yb=function(e){yr(n,e);var t=wr(n);function n(e,r){var i;return sr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return or(n,[{key:"getFieldMask",value:function(){return null}}]),n}(rb),mb=function(){function e(t,n,r,i){sr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return or(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ab(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=xr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=ob(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=xr(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=ob(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Pk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=ib(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(by.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Mk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&my(this.mutations,e.mutations,(function(e,t){return ub(e,t)}))&&my(this.baseMutations,e.baseMutations,(function(e,t){return ub(e,t)}))}}]),e}(),kb=function(){function e(t,n,r,i){sr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return or(e,null,[{key:"from",value:function(t,n,r){ny(t.mutations.length===r.length);for(var i=Rk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),bb=function(){function e(t,n){sr(this,e),this.largestBatchId=t,this.mutation=n}return or(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),wb=or((function e(t,n){sr(this,e),this.count=t,this.unchangedNames=n}));function xb(e){switch(e){default:return ty();case iy.CANCELLED:case iy.UNKNOWN:case iy.DEADLINE_EXCEEDED:case iy.RESOURCE_EXHAUSTED:case iy.INTERNAL:case iy.UNAVAILABLE:case iy.UNAUTHENTICATED:return!1;case iy.INVALID_ARGUMENT:case iy.NOT_FOUND:case iy.ALREADY_EXISTS:case iy.PERMISSION_DENIED:case iy.FAILED_PRECONDITION:case iy.ABORTED:case iy.OUT_OF_RANGE:case iy.UNIMPLEMENTED:case iy.DATA_LOSS:return!0}}function Sb(e){if(void 0===e)return Yg("GRPC error has no .code"),iy.UNKNOWN;switch(e){case pb.OK:return iy.OK;case pb.CANCELLED:return iy.CANCELLED;case pb.UNKNOWN:return iy.UNKNOWN;case pb.DEADLINE_EXCEEDED:return iy.DEADLINE_EXCEEDED;case pb.RESOURCE_EXHAUSTED:return iy.RESOURCE_EXHAUSTED;case pb.INTERNAL:return iy.INTERNAL;case pb.UNAVAILABLE:return iy.UNAVAILABLE;case pb.UNAUTHENTICATED:return iy.UNAUTHENTICATED;case pb.INVALID_ARGUMENT:return iy.INVALID_ARGUMENT;case pb.NOT_FOUND:return iy.NOT_FOUND;case pb.ALREADY_EXISTS:return iy.ALREADY_EXISTS;case pb.PERMISSION_DENIED:return iy.PERMISSION_DENIED;case pb.FAILED_PRECONDITION:return iy.FAILED_PRECONDITION;case pb.ABORTED:return iy.ABORTED;case pb.OUT_OF_RANGE:return iy.OUT_OF_RANGE;case pb.UNIMPLEMENTED:return iy.UNIMPLEMENTED;case pb.DATA_LOSS:return iy.DATA_LOSS;default:return ty()}}(vb=pb||(pb={}))[vb.OK=0]="OK",vb[vb.CANCELLED=1]="CANCELLED",vb[vb.UNKNOWN=2]="UNKNOWN",vb[vb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vb[vb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vb[vb.NOT_FOUND=5]="NOT_FOUND",vb[vb.ALREADY_EXISTS=6]="ALREADY_EXISTS",vb[vb.PERMISSION_DENIED=7]="PERMISSION_DENIED",vb[vb.UNAUTHENTICATED=16]="UNAUTHENTICATED",vb[vb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vb[vb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vb[vb.ABORTED=10]="ABORTED",vb[vb.OUT_OF_RANGE=11]="OUT_OF_RANGE",vb[vb.UNIMPLEMENTED=12]="UNIMPLEMENTED",vb[vb.INTERNAL=13]="INTERNAL",vb[vb.UNAVAILABLE=14]="UNAVAILABLE",vb[vb.DATA_LOSS=15]="DATA_LOSS";var _b=null;function Eb(){return new TextEncoder}var Tb=new Kg([4294967295,4294967295],0);function Ib(e){var t=Eb().encode(e),n=new qg;return n.update(t),new Uint8Array(n.digest())}function Cb(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Kg([n,r],0),new Kg([i,a],0)]}var Ab=function(){function e(t,n,r){if(sr(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ob("Invalid padding: ".concat(n));if(r<0)throw new Ob("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Ob("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Ob("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=Kg.fromNumber(this.Te)}return or(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(Kg.fromNumber(n)));return 1===r.compare(Tb)&&(r=new Kg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=o(Cb(Ib(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=o(Cb(Ib(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);this.Re(a)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Ob=function(e){yr(n,e);var t=wr(n);function n(){var e;return sr(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return or(n)}(Cr(Error)),Nb=function(){function e(t,n,r,i,a){sr(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return or(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Pb.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(by.min(),i,new tm(yy),Ik(),Mk())}}]),e}(),Pb=function(){function e(t,n,r,i,a){sr(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return or(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Mk(),Mk(),Mk())}}]),e}(),Db=or((function e(t,n,r,i){sr(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),Rb=or((function e(t,n){sr(this,e),this.targetId=t,this.fe=n})),Lb=or((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:um.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;sr(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Mb=function(){function e(){sr(this,e),this.ge=0,this.pe=Ub(),this.ye=um.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return or(e,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=Mk(),t=Mk(),n=Mk();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ty()}})),new Pb(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=Ub()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1,ny(this.ge>=0)}},{key:"Be",value:function(){this.Se=!0,this.we=!0}}]),e}(),jb=function(){function e(t){sr(this,e),this.Le=t,this.ke=new Map,this.qe=Ik(),this.Qe=Fb(),this.Ke=new tm(yy)}return or(e,[{key:"$e",value:function(e){var t,n=xr(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(s){n.e(s)}finally{n.f()}var i,a=xr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:ty()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if(uk(i))if(0===n){var a=new Ey(i.path);this.We(t,a,Lm.newNoDocument(a,by.min()))}else ny(1===n);else{var o=this.Ze(t);if(o!==n){var s=this.Xe(e),u=s?this.et(s,e,o):1;if(0!==u){this.He(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,c)}null==_b||_b.tt(function(e,t,n,r,i){var a,o,s,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.fe,this.Le.nt(),s,u))}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=hm(o).toUint8Array()}catch(e){if(e instanceof sm)return Zg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Ab(n,u,l)}catch(e){return Zg(e instanceof Ob?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Le.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&uk(a.target)){var o=new Ey(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,Lm.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=Mk();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new Nb(e,n,this.Ke,this.qe,r);return this.qe=Ik(),this.Qe=Fb(),this.Ke=new tm(yy),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke.delete(e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new Mb,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new im(yy),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||Xg("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new Mb),this.Le.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}]),e}();function Fb(){return new tm(Ey.comparator)}function Ub(){return new tm(Ey.comparator)}var Vb={asc:"ASCENDING",desc:"DESCENDING"},zb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bb={and:"AND",or:"OR"},Hb=or((function e(t,n){sr(this,e),this.databaseId=t,this.useProto3Json=n}));function qb(e,t){return e.useProto3Json||Wy(t)?t:{value:t}}function Kb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Wb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Gb(e,t){return Kb(e,t.toTimestamp())}function Qb(e){return ny(!!e),by.fromTimestamp(function(e){var t=lm(e);return new ky(t.seconds,t.nanos)}(e))}function $b(e,t){return Jb(e,t).canonicalString()}function Jb(e,t){var n=function(e){return new xy(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Xb(e){var t=xy.fromString(e);return ny(yw(t)),t}function Yb(e,t){return $b(e.databaseId,t.path)}function Zb(e,t){var n=Xb(t);if(n.get(1)!==e.databaseId.projectId)throw new ay(iy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ay(iy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ey(rw(n))}function ew(e,t){return $b(e.databaseId,t)}function tw(e){var t=Xb(e);return 4===t.length?xy.emptyPath():rw(t)}function nw(e){return new xy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rw(e){return ny(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function iw(e,t,n){return{name:Yb(e,t),fields:n.value.mapValue.fields}}function aw(e,t){var n;if(t instanceof cb)n={update:iw(e,t.key,t.value)};else if(t instanceof gb)n={delete:Yb(e,t.key)};else if(t instanceof lb)n={update:iw(e,t.key,t.data),updateMask:gw(t.fieldMask)};else{if(!(t instanceof yb))return ty();n={verify:Yb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Wk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $k)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xk)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw ty()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Gb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ty()}(e,t.precondition)),n}function ow(e,t){return{documents:[ew(e,t.path)]}}function sw(e,t){var n,r={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n=i,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=ew(e,n);var a=function(e){if(0!==e.length)return vw(Hm.create(e,"and"))}(t.filters);a&&(r.structuredQuery.where=a);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:dw(e.field),direction:lw(e.dir)}}(e)}))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);var s=qb(e,t.limit);return null!==s&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:r,parent:n}}function uw(e){var t=tw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ny(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=cw(e);return t instanceof Hm&&Km(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new Um(pw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return Wy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Mm(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Mm(n,t)}(n.endAt)),lk(t,i,s,o,u,"F",c,l)}function cw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=pw(e.unaryFilter.field);return Bm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=pw(e.unaryFilter.field);return Bm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pw(e.unaryFilter.field);return Bm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pw(e.unaryFilter.field);return Bm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ty()}}(e):void 0!==e.fieldFilter?function(e){return Bm.create(pw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ty()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Hm.create(e.compositeFilter.filters.map((function(e){return cw(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ty()}}(e.compositeFilter.op))}(e):ty()}function lw(e){return Vb[e]}function fw(e){return zb[e]}function hw(e){return Bb[e]}function dw(e){return{fieldPath:e.canonicalString()}}function pw(e){return _y.fromServerFormat(e.fieldPath)}function vw(e){return e instanceof Bm?function(e){if("=="===e.op){if(Am(e.value))return{unaryFilter:{field:dw(e.field),op:"IS_NAN"}};if(Cm(e.value))return{unaryFilter:{field:dw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Am(e.value))return{unaryFilter:{field:dw(e.field),op:"IS_NOT_NAN"}};if(Cm(e.value))return{unaryFilter:{field:dw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dw(e.field),op:fw(e.op),value:e.value}}}(e):e instanceof Hm?function(e){var t=e.getFilters().map((function(e){return vw(e)}));return 1===t.length?t[0]:{compositeFilter:{op:hw(e.op),filters:t}}}(e):ty()}function gw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function yw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var mw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:by.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:by.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:um.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;sr(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return or(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),kw=or((function e(t){sr(this,e),this.ct=t}));function bw(e){var t=uw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yk(t,t.limit,"L"):t}var ww=function(){function e(){sr(this,e)}return or(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(fm(e.integerValue));else if("doubleValue"in e){var n=fm(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Gy(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(hm(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Pm(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):ty()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=xr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),Ey.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();ww.bt=new ww;var xw=function(){function e(){sr(this,e),this._n=new Sw}return or(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),Ly.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ly.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ly.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ly.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Ly.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Ly.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ly.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ly.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ly.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ly.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ly.resolve(Ay.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ly.resolve(Ay.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ly.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ly.resolve()}}]),e}(),Sw=function(){function e(){sr(this,e),this.index={}}return or(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new im(xy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new im(xy.comparator)).toArray()}}]),e}();new Uint8Array(0);var _w=function(){function e(t,n,r){sr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return or(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();_w.DEFAULT_COLLECTION_PERCENTILE=10,_w.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_w.DEFAULT=new _w(41943040,_w.DEFAULT_COLLECTION_PERCENTILE,_w.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_w.DISABLED=new _w(-1,0,0);var Ew=function(){function e(t){sr(this,e),this.On=t}return or(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Bn",value:function(){return new e(-1)}}]),e}();var Tw=function(){function e(){sr(this,e),this.changes=new Ek((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return or(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Lm.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ly.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Iw=or((function e(t,n){sr(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Cw=function(){function e(t,n,r,i){sr(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return or(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&ob(r.mutation,e,om.empty(),ky.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Mk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mk(),i=Nk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ak();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Nk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Mk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ik(),a=Dk(),o=Dk();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof lb)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),ob(o.mutation,t,o.mutation.getFieldMask(),ky.now())):a.set(t.key,om.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Iw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Dk(),i=new tm((function(e,t){return e-t})),a=Mk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=xr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||om.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Mk()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Pk();c.forEach((function(e){if(!a.has(e)){var n=ib(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Ly.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Ey.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ly.resolve(Nk()),s=-1,u=a;return o.next((function(t){return Ly.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Ly.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Mk())})).next((function(e){return{batchId:s,changes:Ok(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ey(t)).next((function(e){var t=Ak();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=Ak();return this.indexManager.getCollectionParents(e,a).next((function(s){return Ly.forEach(s,(function(s){var u=function(e,t){return new ck(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Lm.newInvalidDocument(r)))}));var n=Ak();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&ob(a.mutation,r,om.empty(),ky.now()),wk(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),Aw=function(){function e(t){sr(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return or(e,[{key:"getBundleMetadata",value:function(e,t){return Ly.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Qb(e.createTime)}}(t)),Ly.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ly.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:bw(e.bundledQuery),readTime:Qb(e.readTime)}}(t)),Ly.resolve()}}]),e}(),Ow=function(){function e(){sr(this,e),this.overlays=new tm(Ey.comparator),this.hr=new Map}return or(e,[{key:"getOverlay",value:function(e,t){return Ly.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Nk();return Ly.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),Ly.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),Ly.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Nk(),i=t.length+1,a=new Ey(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Ly.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new tm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Nk(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Nk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Ly.resolve(u)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new bb(t,n));var a=this.hr.get(t);void 0===a&&(a=Mk(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),Nw=function(){function e(){sr(this,e),this.Pr=new im(Pw.Ir),this.Tr=new im(Pw.Er)}return or(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Pw(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new Pw(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new Ey(new xy([])),r=new Pw(n,e),i=new Pw(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new Ey(new xy([])),n=new Pw(t,e),r=new Pw(t,e+1),i=Mk();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Pw(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Pw=function(){function e(t,n){sr(this,e),this.key=t,this.pr=n}return or(e,null,[{key:"Ir",value:function(e,t){return Ey.comparator(e.key,t.key)||yy(e.pr,t.pr)}},{key:"Er",value:function(e,t){return yy(e.pr,t.pr)||Ey.comparator(e.key,t.key)}}]),e}(),Dw=function(){function e(t,n){sr(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new im(Pw.Ir)}return or(e,[{key:"checkEmpty",value:function(e){return Ly.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new mb(i,t,n,r);this.mutationQueue.push(a);var o,s=xr(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.wr=this.wr.add(new Pw(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Ly.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ly.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return Ly.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ly.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return Ly.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Pw(t,0),i=new Pw(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),Ly.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new im(yy);return t.forEach((function(e){var t=new Pw(e,0),i=new Pw(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),Ly.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ey.isDocumentKey(i)||(i=i.child(""));var a=new Pw(new Ey(i),0),o=new im(yy);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),Ly.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ny(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return Ly.forEach(t.mutations,(function(i){var a=new Pw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Pw(t,0),r=this.wr.firstAfterOrEqual(n);return Ly.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ly.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Rw=function(){function e(t){sr(this,e),this.vr=t,this.docs=new tm(Ey.comparator),this.size=0}return or(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ly.resolve(n?n.document.mutableCopy():Lm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ik();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Lm.newInvalidDocument(e))})),Ly.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Ik(),a=t.path,o=new Ey(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Oy(Cy(l),n)<=0||(r.has(l.key)||wk(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Ly.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ty()}},{key:"Fr",value:function(e,t){return Ly.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Lw(this)}},{key:"getSize",value:function(e){return Ly.resolve(this.size)}}]),e}(),Lw=function(e){yr(n,e);var t=wr(n);function n(e){var r;return sr(this,n),(r=t.call(this)).ar=e,r}return or(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),Ly.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(Tw),Mw=function(){function e(t){sr(this,e),this.persistence=t,this.Mr=new Ek((function(e){return ok(e)}),sk),this.lastRemoteSnapshotVersion=by.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Nw,this.targetCount=0,this.Br=Ew.Nn()}return or(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),Ly.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ly.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ly.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Br.next(),Ly.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Ly.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Br=new Ew(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,Ly.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),Ly.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Ly.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Ly.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ly.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return Ly.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),Ly.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ly.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),Ly.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return Ly.resolve(n)}},{key:"containsKey",value:function(e,t){return Ly.resolve(this.Nr.containsKey(t))}}]),e}(),jw=function(){function e(t,n){var r=this;sr(this,e),this.Lr={},this.overlays={},this.kr=new Ky(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Mw(this),this.indexManager=new xw,this.remoteDocumentCache=function(e){return new Rw(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new kw(n),this.$r=new Aw(this.serializer)}return or(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ow,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Lr[e.toKey()];return n||(n=new Dw(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;Xg("MemoryPersistence","Starting transaction:",e);var i=new Fw(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return Ly.or(Object.values(this.Lr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Fw=function(e){yr(n,e);var t=wr(n);function n(e){var r;return sr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return or(n)}(Py),Uw=function(){function e(t){sr(this,e),this.persistence=t,this.zr=new Nw,this.jr=null}return or(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw ty()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Ly.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Ly.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),Ly.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ly.forEach(this.Jr,(function(r){var i=Ey.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,by.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return Ly.or([function(){return Ly.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}();var Vw=function(){function e(t,n,r,i){sr(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return or(e,null,[{key:"Ki",value:function(t,n){var r,i=Mk(),a=Mk(),o=xr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),zw=function(){function e(){sr(this,e),this._documentReadCount=0}return or(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),Bw=function(){function e(){sr(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Hr()?8:jy.v(zr())>0?6:4}return or(e,[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.ji(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Hi(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new zw;return i.Ji(e,t,n).next((function(r){if(a.result=r,i.Ui)return i.Yi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Yi",value:function(e,t,n,r){return n.documentReadCount<this.Wi?(Jg()<=fi.DEBUG&&Xg("QueryEngine","SDK will not create cache indexes for query:",bk(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ly.resolve()):(Jg()<=fi.DEBUG&&Xg("QueryEngine","Query:",bk(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Jg()<=fi.DEBUG&&Xg("QueryEngine","The SDK decides to create cache indexes for query:",bk(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vk(t))):Ly.resolve())}},{key:"ji",value:function(e,t){var n=this;if(hk(t))return Ly.resolve(null);var r=vk(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=yk(t,null,"F"),r=vk(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Mk.apply(void 0,me(i));return n.zi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Zi(t,i);return n.Xi(t,o,a,r.readTime)?n.ji(e,yk(t,null,"F")):n.es(e,o,t,r)}))}))})))}))}},{key:"Hi",value:function(e,t,n,r){var i=this;return hk(t)||r.isEqual(by.min())?Ly.resolve(null):this.zi.getDocuments(e,n).next((function(a){var o=i.Zi(t,a);return i.Xi(t,o,n,r)?Ly.resolve(null):(Jg()<=fi.DEBUG&&Xg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bk(t)),i.es(e,o,t,Iy(r,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var n=new im(Sk(e));return t.forEach((function(t,r){wk(e,r)&&(n=n.add(r))})),n}},{key:"Xi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ji",value:function(e,t,n){return Jg()<=fi.DEBUG&&Xg("QueryEngine","Using full collection scan to execute query:",bk(t)),this.zi.getDocumentsMatchingQuery(e,t,Ay.min(),n)}},{key:"es",value:function(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Hw=function(){function e(t,n,r,i){sr(this,e),this.persistence=t,this.ts=n,this.serializer=i,this.ns=new tm(yy),this.rs=new Ek((function(e){return ok(e)}),sk),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}return or(e,[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cw(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ns)}))}}]),e}();function qw(e,t,n,r){return new Hw(e,t,n,r)}function Kw(e,t){return Ww.apply(this,arguments)}function Ww(){return Ww=_r(Tr().mark((function e(t,n){var r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ry(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r._s(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Mk(),u=xr(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=xr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=xr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var g,y=xr(v.mutations);try{for(y.s();!(g=y.n()).done;){var m=g.value;s=s.add(m.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{us:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Gw(e,t){var n=ry(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ly.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ny(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Mk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Qw(e){var t=ry(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function $w(e,t){var n=ry(e),r=t.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(um.EMPTY_BYTE_STRING,by.min()).withLastLimboFreeSnapshotVersion(by.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Qr.updateTargetData(e,c))}}));var s=Ik(),u=Mk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Jw(e,a,t.documentUpdates).next((function(e){s=e.cs,u=e.ls}))),!r.isEqual(by.min())){var c=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Ly.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.ns=i,e}))}function Jw(e,t,n){var r=Mk(),i=Mk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ik();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(by.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Xg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{cs:r,ls:i}}))}function Xw(e,t){var n=ry(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Yw(e,t){var n=ry(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,Ly.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new mw(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}function Zw(e,t,n){return ex.apply(this,arguments)}function ex(){return ex=_r(Tr().mark((function e(t,n,r){var i,a,o;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ry(t),a=i.ns.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Vy(e.t1)){e.next=12;break}throw e.t1;case 12:Xg("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ns=i.ns.remove(n),i.rs.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ex.apply(this,arguments)}function tx(e,t,n){var r=ry(e),i=by.min(),a=Mk();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=ry(e),i=r.rs.get(n);return void 0!==i?Ly.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,vk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ts.getDocumentsMatchingQuery(e,t,n?i:by.min(),n?a:Mk())})).next((function(e){return nx(r,xk(t),e),{documents:e,hs:a}}))}))}function nx(e,t,n){var r=e.ss.get(t)||by.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}var rx=function(){function e(){sr(this,e),this.activeTargetIds=Fk()}return or(e,[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ix=function(){function e(){sr(this,e),this.no=new rx,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return or(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new rx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),ax=function(){function e(){sr(this,e)}return or(e,[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ox=function(){function e(){var t=this;sr(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}return or(e,[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){Xg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=xr(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ao",value:function(){Xg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=xr(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),sx=null;function ux(){return null===sx?sx=268435456+Math.round(2147483648*Math.random()):sx++,"0x"+sx.toString(16)}var cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},lx=function(){function e(t){sr(this,e),this.lo=t.lo,this.ho=t.ho}return or(e,[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"onMessage",value:function(e){this.Ao=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"Ro",value:function(){this.Io()}},{key:"Vo",value:function(e){this.Eo(e)}},{key:"mo",value:function(e){this.Ao(e)}}]),e}(),fx="WebChannelConnection",hx=function(e){yr(n,e);var t=wr(n);function n(e){var r;return sr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return or(n,[{key:"Co",value:function(e,t,n,r){var i=ux();return new Promise((function(a,o){var s=new Hg;s.setWithCredentials(!0),s.listenOnce(Ug.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Fg.NO_ERROR:var t=s.getResponseJson();Xg(fx,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Fg.TIMEOUT:Xg(fx,"RPC '".concat(e,"' ").concat(i," timed out")),o(new ay(iy.DEADLINE_EXCEEDED,"Request time out"));break;case Fg.HTTP_ERROR:var n=s.getStatus();if(Xg(fx,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(iy).indexOf(t)>=0?t:iy.UNKNOWN}(u.status);o(new ay(c,u.message))}else o(new ay(iy.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ay(iy.UNAVAILABLE,"Connection failed."));break;default:ty()}}finally{Xg(fx,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Xg(fx,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Fo",value:function(e,t,n){var r=ux(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Mg(),o=jg(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");Xg(fx,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new lx({lo:function(t){h?Xg(fx,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Xg(fx,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Xg(fx,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ho:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Bg.EventType.OPEN,(function(){h||Xg(fx,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Bg.EventType.CLOSE,(function(){h||(h=!0,Xg(fx,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Vo())})),p(l,Bg.EventType.ERROR,(function(t){h||(h=!0,Zg(fx,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Vo(new ay(iy.UNAVAILABLE,"The operation could not be completed")))})),p(l,Bg.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];ny(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Xg(fx,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=pb[e];if(void 0!==t)return Sb(t)}(s),c=o.message;void 0===u&&(u=iy.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.Vo(new ay(u,c)),l.close()}else Xg(fx,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.mo(i)}})),p(o,Vg.STAT_EVENT,(function(t){t.stat===zg.PROXY?Xg(fx,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===zg.NOPROXY&&Xg(fx,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ro()}),0),d}}]),n}(function(){function e(t){sr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+t.host,this.po="projects/".concat(r,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return or(e,[{key:"wo",get:function(){return!1}},{key:"So",value:function(e,t,n,r,i){var a=ux(),o=this.bo(e,t.toUriEncodedString());Xg("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(s,r,i),this.Co(e,o,s,n).then((function(t){return Xg("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Zg("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.So(e,t,n,r,i)}},{key:"Do",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"bo",value:function(e,t){var n=cx[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}},{key:"terminate",value:function(){}}]),e}());function dx(){return"undefined"!=typeof document?document:null}function px(e){return new Hb(e,!0)}var vx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;sr(this,e),this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=a,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}return or(e,[{key:"reset",value:function(){this.No=0}},{key:"ko",value:function(){this.No=this.Oo}},{key:"qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Xg("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Lo=Date.now(),e()})),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}},{key:"Ko",value:function(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}},{key:"cancel",value:function(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Qo",value:function(){return(Math.random()-.5)*this.No}}]),e}(),gx=function(){function e(t,n,r,i,a,o,s,u){sr(this,e),this.oi=t,this.$o=r,this.Uo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new vx(t,n)}return or(e,[{key:"Ho",value:function(){return 1===this.state||5===this.state||this.Jo()}},{key:"Jo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Yo()}},{key:"stop",value:function(){var e=_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ho(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.state=0,this.jo.reset()}},{key:"Xo",value:function(){var e=this;this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(function(){return e.e_()})))}},{key:"t_",value:function(e){this.n_(),this.stream.send(e)}},{key:"e_",value:function(){var e=_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Jo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"close",value:function(){var e=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():n&&n.code===iy.RESOURCE_EXHAUSTED?(Yg(n.toString()),Yg("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===iy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.To(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"i_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.Wo===n&&e.o_(i,a)}),(function(n){t((function(){var t=new ay(iy.UNKNOWN,"Fetching auth token failed: "+n.message);return e.__(t)}))}))}},{key:"o_",value:function(e,t){var n=this,r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((function(){r((function(){return n.state=2,n.zo=n.oi.enqueueAfterDelay(n.Uo,1e4,(function(){return n.Jo()&&(n.state=3),Promise.resolve()})),n.listener.Po()}))})),this.stream.To((function(e){r((function(){return n.__(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Yo",value:function(){var e=this;this.state=5,this.jo.qo(_r(Tr().mark((function t(){return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"__",value:function(e){return Xg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"s_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Wo===e?n():(Xg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),yx=function(e){yr(n,e);var t=wr(n);function n(e,r,i,a,o,s){var u;return sr(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return or(n,[{key:"a_",value:function(e,t){return this.connection.Fo("Listen",e,t)}},{key:"onMessage",value:function(e){this.jo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ty()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ny(void 0===t||"string"==typeof t),um.fromBase64String(t||"")):(ny(void 0===t||t instanceof Uint8Array),um.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?iy.UNKNOWN:Sb(e.code);return new ay(t,e.message||"")}(o);n=new Lb(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Zb(e,u.document.name),l=Qb(u.document.updateTime),f=u.document.createTime?Qb(u.document.createTime):by.min(),h=new Dm({mapValue:{fields:u.document.fields}}),d=Lm.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Db(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var g=t.documentDelete;g.document;var y=Zb(e,g.document),m=g.readTime?Qb(g.readTime):by.min(),k=Lm.newNoDocument(y,m),b=g.removedTargetIds||[];n=new Db([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Zb(e,w.document),S=w.removedTargetIds||[];n=new Db([],S,x,null)}else{if(!("filter"in t))return ty();t.filter;var _=t.filter;_.targetId;var E=_.count,T=void 0===E?0:E,I=_.unchangedNames,C=new wb(T,I),A=_.targetId;n=new Rb(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return by.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?by.min():t.readTime?Qb(t.readTime):by.min()}(e);return this.listener.u_(t,n)}},{key:"c_",value:function(e){var t={};t.database=nw(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=uk(r)?{documents:ow(e,r)}:{query:sw(e,r).ut}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Wb(e,t.resumeToken);var i=qb(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(by.min())>0){n.readTime=Kb(e,t.snapshotVersion.toTimestamp());var a=qb(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ty()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}},{key:"l_",value:function(e){var t={};t.database=nw(this.serializer),t.removeTarget=e,this.t_(t)}}]),n}(gx),mx=function(e){yr(n,e);var t=wr(n);function n(e,r,i,a,o,s){var u;return sr(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.h_=!1,u}return or(n,[{key:"P_",get:function(){return this.h_}},{key:"start",value:function(){this.h_=!1,this.lastStreamToken=void 0,pr(hr(n.prototype),"start",this).call(this)}},{key:"i_",value:function(){this.h_&&this.I_([])}},{key:"a_",value:function(e,t){return this.connection.Fo("Write",e,t)}},{key:"onMessage",value:function(e){if(ny(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();var t=function(e,t){return e&&e.length>0?(ny(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Qb(e.updateTime):Qb(t);return n.isEqual(by.min())&&(n=Qb(t)),new eb(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Qb(e.commitTime);return this.listener.T_(n,t)}return ny(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}},{key:"d_",value:function(){var e={};e.database=nw(this.serializer),this.t_(e)}},{key:"I_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return aw(t.serializer,e)}))};this.t_(n)}}]),n}(gx),kx=function(e){yr(n,e);var t=wr(n);function n(e,r,i,a){var o;return sr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.A_=!1,o}return or(n,[{key:"R_",value:function(){if(this.A_)throw new ay(iy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"So",value:function(e,t,n,r){var i=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var s=o(a,2),u=s[0],c=s[1];return i.connection.So(e,Jb(t,n),r,u,c)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===iy.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ay(iy.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r,i){var a=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(s){var u=o(s,2),c=u[0],l=u[1];return a.connection.vo(e,Jb(t,n),r,c,l,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===iy.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new ay(iy.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.A_=!0,this.connection.terminate()}}]),n}(or((function e(){sr(this,e)})));var bx=function(){function e(t,n){sr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}return or(e,[{key:"p_",value:function(){var e=this;0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.f_=null,e.w_("Backend didn't respond within 10 seconds."),e.y_("Offline"),Promise.resolve()})))}},{key:"S_",value:function(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}},{key:"set",value:function(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}},{key:"y_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"w_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Yg(t),this.g_=!1):Xg("OnlineStateTracker",t)}},{key:"b_",value:function(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}]),e}(),wx=or((function e(t,n,r,i,a){var o=this;sr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=a,this.M_.io((function(e){r.enqueueAndForget(_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Px(o),!e.t0){e.next=5;break}return Xg("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ry(t)).v_.add(4),e.next=4,_x(n);case 4:return n.x_.set("Unknown"),n.v_.delete(4),e.next=8,xx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.x_=new bx(r,i)}));function xx(e){return Sx.apply(this,arguments)}function Sx(){return Sx=_r(Tr().mark((function e(t){var n,r,i;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Px(t)){e.next=18;break}n=xr(t.F_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Sx.apply(this,arguments)}function _x(e){return Ex.apply(this,arguments)}function Ex(){return Ex=_r(Tr().mark((function e(t){var n,r,i;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xr(t.F_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Ex.apply(this,arguments)}function Tx(e,t){var n=ry(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Nx(n)?Ox(n):sS(n).Jo()&&Cx(n,t))}function Ix(e,t){var n=ry(e),r=sS(n);n.C_.delete(t),r.Jo()&&Ax(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Px(n)&&n.x_.set("Unknown"))}function Cx(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(by.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}sS(e).c_(t)}function Ax(e,t){e.O_.Oe(t),sS(e).l_(t)}function Ox(e){e.O_=new jb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.C_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),sS(e).start(),e.x_.p_()}function Nx(e){return Px(e)&&!sS(e).Ho()&&e.C_.size>0}function Px(e){return 0===ry(e).v_.size}function Dx(e){e.O_=void 0}function Rx(e){return Lx.apply(this,arguments)}function Lx(){return Lx=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.C_.forEach((function(e,n){Cx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Mx(e,t){return jx.apply(this,arguments)}function jx(){return jx=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dx(t),Nx(t)?(t.x_.S_(n),Ox(t)):t.x_.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}function Fx(e,t,n){return Ux.apply(this,arguments)}function Ux(){return Ux=_r(Tr().mark((function e(t,n,r){var i;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.x_.set("Online"),!(n instanceof Lb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=_r(Tr().mark((function e(t,n){var r,i,a,o;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=xr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.C_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.C_.delete(o),t.O_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Xg("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Vx(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Db?t.O_.$e(n):n instanceof Rb?t.O_.Je(n):t.O_.Ge(n),r.isEqual(by.min())){e.next=29;break}return e.prev=14,e.next=17,Qw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.O_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.C_.get(t);if(r){e.C_.set(t,r.withResumeToken(um.EMPTY_BYTE_STRING,r.snapshotVersion)),Ax(e,t);var i=new mw(r.target,t,n,r.sequenceNumber);Cx(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Xg("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Vx(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ux.apply(this,arguments)}function Vx(e,t,n){return zx.apply(this,arguments)}function zx(){return zx=_r(Tr().mark((function e(t,n,r){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vy(n)){e.next=2;break}throw n;case 2:return t.v_.add(1),e.next=5,_x(t);case 5:t.x_.set("Offline"),r||(r=function(){return Qw(t.localStore)}),t.asyncQueue.enqueueRetryable(_r(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xg("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.v_.delete(1),e.next=6,xx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function Bx(e,t){return t().catch((function(n){return Vx(e,n,t)}))}function Hx(e){return qx.apply(this,arguments)}function qx(){return qx=_r(Tr().mark((function e(t){var n,r,i,a;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ry(t),r=uS(n),i=n.D_.length>0?n.D_[n.D_.length-1].batchId:-1;case 2:if(!Kx(n)){e.next=19;break}return e.prev=3,e.next=6,Xw(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.D_.length&&r.Xo(),e.abrupt("break",19);case 10:i=a.batchId,Wx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Vx(n,e.t0);case 17:e.next=2;break;case 19:Gx(n)&&Qx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),qx.apply(this,arguments)}function Kx(e){return Px(e)&&e.D_.length<10}function Wx(e,t){e.D_.push(t);var n=uS(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Gx(e){return Px(e)&&!uS(e).Ho()&&e.D_.length>0}function Qx(e){uS(e).start()}function $x(e){return Jx.apply(this,arguments)}function Jx(){return Jx=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uS(t).d_();case 1:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function Xx(e){return Yx.apply(this,arguments)}function Yx(){return Yx=_r(Tr().mark((function e(t){var n,r,i,a;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=uS(t),r=xr(t.D_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.I_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}function Zx(e,t,n){return eS.apply(this,arguments)}function eS(){return eS=_r(Tr().mark((function e(t,n,r){var i,a;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.D_.shift(),a=kb.from(i,n,r),e.next=3,Bx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Hx(t);case 5:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=_r(Tr().mark((function e(t,n){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&uS(t).P_,!e.t0){e.next=4;break}return e.next=4,function(){var e=_r(Tr().mark((function e(t,n){var r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return xb(e)&&e!==iy.ABORTED}(n.code)){e.next=7;break}return r=t.D_.shift(),uS(t).Zo(),e.next=5,Bx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Hx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Gx(t)&&Qx(t);case 5:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=_r(Tr().mark((function e(t,n){var r,i;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ry(t)).asyncQueue.verifyOperationInProgress(),Xg("RemoteStore","RemoteStore received new credentials"),i=Px(r),r.v_.add(3),e.next=6,_x(r);case 6:return i&&r.x_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.v_.delete(3),e.next=12,xx(r);case 12:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e,t){return oS.apply(this,arguments)}function oS(){return oS=_r(Tr().mark((function e(t,n){var r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ry(t),!n){e.next=7;break}return r.v_.delete(2),e.next=5,xx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.v_.add(2),e.next=12,_x(r);case 12:r.x_.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function sS(e){return e.N_||(e.N_=function(e,t,n){var r=ry(e);return r.R_(),new yx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Rx.bind(null,e),To:Mx.bind(null,e),u_:Fx.bind(null,e)}),e.F_.push(function(){var t=_r(Tr().mark((function t(n){return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.N_.Zo(),Nx(e)?Ox(e):e.x_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.N_.stop();case 6:Dx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}function uS(e){return e.B_||(e.B_=function(e,t,n){var r=ry(e);return r.R_(),new mx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:$x.bind(null,e),To:tS.bind(null,e),E_:Xx.bind(null,e),T_:Zx.bind(null,e)}),e.F_.push(function(){var t=_r(Tr().mark((function t(n){return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.B_.Zo(),t.next=4,Hx(e);case 4:t.next=9;break;case 6:return t.next=8,e.B_.stop();case 8:e.D_.length>0&&(Xg("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.B_}var cS=function(){function e(t,n,r,i,a){sr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new oy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return or(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ay(iy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function lS(e,t){if(Yg("AsyncQueue","".concat(t,": ").concat(e)),Vy(e))return new ay(iy.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var fS=function(){function e(t){sr(this,e),this.comparator=t?function(e,n){return t(e,n)||Ey.comparator(e.key,n.key)}:function(e,t){return Ey.comparator(e.key,t.key)},this.keyedMap=Ak(),this.sortedSet=new tm(this.comparator)}return or(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),hS=function(){function e(){sr(this,e),this.L_=new tm(Ey.comparator)}return or(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):ty():this.L_=this.L_.insert(t,e)}},{key:"k_",value:function(){var e=[];return this.L_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),dS=function(){function e(t,n,r,i,a,o,s,u,c){sr(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return or(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,fS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),pS=or((function e(){sr(this,e),this.q_=void 0,this.Q_=[]})),vS=or((function e(){sr(this,e),this.queries=new Ek((function(e){return kk(e)}),mk),this.onlineState="Unknown",this.K_=new Set}));function gS(e,t){return yS.apply(this,arguments)}function yS(){return yS=_r(Tr().mark((function e(t,n){var r,i,a,o,s;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ry(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new pS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=lS(e.t0,"Initialization of query '".concat(bk(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.Q_.push(n),n.U_(r.onlineState),o.q_&&n.W_(o.q_)&&xS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),yS.apply(this,arguments)}function mS(e,t){return kS.apply(this,arguments)}function kS(){return kS=_r(Tr().mark((function e(t,n){var r,i,a,o,s;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ry(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.Q_.indexOf(n))>=0&&(o.Q_.splice(s,1),a=0===o.Q_.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function bS(e,t){var n,r=ry(e),i=!1,a=xr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=xr(u.Q_);try{for(l.s();!(c=l.n()).done;){c.value.W_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&xS(r)}function wS(e,t,n){var r=ry(e),i=r.queries.get(t);if(i){var a,o=xr(i.Q_);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function xS(e){e.K_.forEach((function(e){e.next()}))}var SS=function(){function e(t,n,r){sr(this,e),this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}return or(e,[{key:"W_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=xr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new dS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.z_?this.H_(e)&&(this.G_.next(e),a=!0):this.J_(e,this.onlineState)&&(this.Y_(e),a=!0),this.j_=e,a}},{key:"onError",value:function(e){this.G_.error(e)}},{key:"U_",value:function(e){this.onlineState=e;var t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}},{key:"J_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"H_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Y_",value:function(e){e=dS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}]),e}();var _S=or((function e(t){sr(this,e),this.key=t})),ES=or((function e(t){sr(this,e),this.key=t})),TS=function(){function e(t,n){sr(this,e),this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Mk(),this.mutatedKeys=Mk(),this.ua=Sk(t),this.ca=new fS(this.ua)}return or(e,[{key:"la",get:function(){return this.oa}},{key:"ha",value:function(e,t){var n=this,r=t?t.Pa:new hS,i=t?t.ca:this.ca,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=wk(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ia(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.ua(f,u)>0||c&&n.ua(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:s,mutatedKeys:a}}},{key:"Ia",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n,r){var i=this,a=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;var o=e.Pa.k_();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ty()}};return n(e)-n(t)}(e.type,t.type)||i.ua(e.doc,t.doc)})),this.Ta(n),r=null!=r&&r;var s=t&&!r?this.Ea():[],u=0===this.aa.size&&this.current&&!r?1:0,c=u!==this._a;return this._a=u,0!==o.length||c?{snapshot:new dS(this.query,e.ca,a,o,e.mutatedKeys,0===u,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:s}:{da:s}}},{key:"U_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new hS,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}},{key:"Aa",value:function(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}},{key:"Ta",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.oa=t.oa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.oa=t.oa.delete(e)})),this.current=e.current)}},{key:"Ea",value:function(){var e=this;if(!this.current)return[];var t=this.aa;this.aa=Mk(),this.ca.forEach((function(t){e.Aa(t.key)&&(e.aa=e.aa.add(t.key))}));var n=[];return t.forEach((function(t){e.aa.has(t)||n.push(new ES(t))})),this.aa.forEach((function(e){t.has(e)||n.push(new _S(e))})),n}},{key:"Ra",value:function(e){this.oa=e.hs,this.aa=Mk();var t=this.ha(e.documents);return this.applyChanges(t,!0)}},{key:"Va",value:function(){return dS.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}]),e}(),IS=or((function e(t,n,r){sr(this,e),this.query=t,this.targetId=n,this.view=r})),CS=or((function e(t){sr(this,e),this.key=t,this.ma=!1})),AS=function(){function e(t,n,r,i,a,o){sr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Ek((function(e){return kk(e)}),mk),this.pa=new Map,this.ya=new Set,this.wa=new tm(Ey.comparator),this.Sa=new Map,this.ba=new Nw,this.Da={},this.Ca=new Map,this.va=Ew.Bn(),this.onlineState="Unknown",this.Fa=void 0}return or(e,[{key:"isPrimaryClient",get:function(){return!0===this.Fa}}]),e}();function OS(e,t){return NS.apply(this,arguments)}function NS(){return NS=_r(Tr().mark((function e(t,n){var r,i,a,o,s,u;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a_(t),!(o=r.ga.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Va(),e.next=15;break;case 6:return e.next=8,Yw(r.localStore,vk(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,PS(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Tx(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function PS(e,t,n,r,i){return DS.apply(this,arguments)}function DS(){return DS=_r(Tr().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ma=function(e,n,r){return function(){var e=_r(Tr().mark((function e(t,n,r,i){var a,o,s,u;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ha(r),e.t0=a.Xi,!e.t0){e.next=6;break}return e.next=5,tx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ha(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=i&&null!=i.targetMismatches.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o,s),e.abrupt("return",(XS(t,n.targetId,u.da),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,tx(t.localStore,n,!0);case 3:return o=e.sent,s=new TS(n,o.hs),u=s.ha(o.documents),c=Pb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),XS(t,r,l.da),f=new IS(n,r,s),e.abrupt("return",(t.ga.set(n,f),t.pa.has(r)?t.pa.get(r).push(n):t.pa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function RS(e,t){return LS.apply(this,arguments)}function LS(){return LS=_r(Tr().mark((function e(t,n){var r,i,a;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ry(t),i=r.ga.get(n),!((a=r.pa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.pa.set(i.targetId,a.filter((function(e){return!mk(e,n)}))),void r.ga.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Zw(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ix(r.remoteStore,i.targetId),$S(r,i.targetId)})).catch(Dy);case 9:e.next=14;break;case 11:return $S(r,i.targetId),e.next=14,Zw(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function MS(e,t,n){return jS.apply(this,arguments)}function jS(){return jS=_r(Tr().mark((function e(t,n,r){var i,a,o;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o_(t),e.prev=1,e.next=4,function(e,t){var n,r,i=ry(e),a=ky.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Mk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Ik(),u=Mk();return i.os.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=xr(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=sb(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new lb(c.key,l,Rm(l.value.mapValue),tb.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Ok(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Da[e.currentUser.toKey()];r||(r=new tm(yy)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,e_(i,a.changes);case 9:return e.next=11,Hx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=lS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),jS.apply(this,arguments)}function FS(e,t){return US.apply(this,arguments)}function US(){return US=_r(Tr().mark((function e(t,n){var r,i;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ry(t),e.prev=1,e.next=4,$w(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Sa.get(t);n&&(ny(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ma=!0:e.modifiedDocuments.size>0?ny(n.ma):e.removedDocuments.size>0&&(ny(n.ma),n.ma=!1))})),e.next=8,e_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Dy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),US.apply(this,arguments)}function VS(e,t,n){var r=ry(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ga.forEach((function(e,n){var r=n.view.U_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ry(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=xr(n.Q_);try{for(a.s();!(i=a.n()).done;){i.value.U_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&xS(n)}(r.eventManager,t),i.length&&r.fa.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function zS(e,t,n){return BS.apply(this,arguments)}function BS(){return BS=_r(Tr().mark((function e(t,n,r){var i,a,o,s,u,c;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ry(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Sa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new tm(Ey.comparator)).insert(o,Lm.newNoDocument(o,by.min())),u=Mk().add(o),c=new Nb(by.min(),new Map,new tm(yy),s,u),e.next=9,FS(i,c);case 9:i.wa=i.wa.remove(o),i.Sa.delete(n),ZS(i),e.next=16;break;case 14:return e.next=16,Zw(i.localStore,n,!1).then((function(){return $S(i,n,r)})).catch(Dy);case 16:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function HS(e,t){return qS.apply(this,arguments)}function qS(){return qS=_r(Tr().mark((function e(t,n){var r,i,a;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ry(t),i=n.batch.batchId,e.prev=1,e.next=4,Gw(r.localStore,n);case 4:return a=e.sent,QS(r,i,null),GS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,e_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Dy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),qS.apply(this,arguments)}function KS(e,t,n){return WS.apply(this,arguments)}function WS(){return WS=_r(Tr().mark((function e(t,n,r){var i,a;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ry(t),e.prev=1,e.next=4,function(e,t){var n=ry(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ny(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,QS(i,n,r),GS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,e_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Dy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),WS.apply(this,arguments)}function GS(e,t){(e.Ca.get(t)||[]).forEach((function(e){e.resolve()})),e.Ca.delete(t)}function QS(e,t,n){var r=ry(e),i=r.Da[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function $S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=xr(e.pa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ga.delete(a),n&&e.fa.xa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((function(t){e.ba.containsKey(t)||JS(e,t)}))}function JS(e,t){e.ya.delete(t.path.canonicalString());var n=e.wa.get(t);null!==n&&(Ix(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),ZS(e))}function XS(e,t,n){var r,i=xr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof _S?(e.ba.addReference(a.key,t),YS(e,a)):a instanceof ES?(Xg("SyncEngine","Document no longer in limbo: "+a.key),e.ba.removeReference(a.key,t),e.ba.containsKey(a.key)||JS(e,a.key)):ty()}}catch(o){i.e(o)}finally{i.f()}}function YS(e,t){var n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Xg("SyncEngine","New document in limbo: "+n),e.ya.add(r),ZS(e))}function ZS(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){var t=e.ya.values().next().value;e.ya.delete(t);var n=new Ey(xy.fromString(t)),r=e.va.next();e.Sa.set(r,new CS(n)),e.wa=e.wa.insert(n,r),Tx(e.remoteStore,new mw(vk(fk(n.path)),r,"TargetPurposeLimboResolution",Ky._e))}}function e_(e,t,n){return t_.apply(this,arguments)}function t_(){return t_=_r(Tr().mark((function e(t,n,r){var i,a,o,s;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ry(t),a=[],o=[],s=[],e.t0=i.ga.isEmpty(),e.t0){e.next=9;break}return i.ga.forEach((function(e,t){s.push(i.Ma(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Vw.Ki(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.fa.u_(a),e.next=9,function(){var e=_r(Tr().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ry(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ly.forEach(n,(function(t){return Ly.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ly.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Vy(e.t0)){e.next=10;break}throw e.t0;case 10:Xg("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=xr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ns.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ns=r.ns.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}function n_(e,t){return r_.apply(this,arguments)}function r_(){return r_=_r(Tr().mark((function e(t,n){var r,i;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ry(t)).currentUser.isEqual(n)){e.next=11;break}return Xg("SyncEngine","User change. New user:",n.toKey()),e.next=5,Kw(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ca.forEach((function(e){e.forEach((function(e){e.reject(new ay(iy.CANCELLED,t))}))})),e.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,e_(r,i.us);case 11:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t){var n=ry(e),r=n.Sa.get(t);if(r&&r.ma)return Mk().add(r.key);var i=Mk(),a=n.pa.get(t);if(!a)return i;var o,s=xr(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ga.get(u);i=i.unionWith(c.view.la)}}catch(l){s.e(l)}finally{s.f()}return i}function a_(e){var t=ry(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=FS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=i_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zS.bind(null,t),t.fa.u_=bS.bind(null,t.eventManager),t.fa.xa=wS.bind(null,t.eventManager),t}function o_(e){var t=ry(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KS.bind(null,t),t}var s_=function(){function e(){sr(this,e),this.synchronizeTabs=!1}return or(e,[{key:"initialize",value:function(){var e=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=px(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return qw(this.persistence,new Bw,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new jw(Uw.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new ix}},{key:"terminate",value:function(){var e=_r(Tr().mark((function e(){var t,n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(n=this.indexBackfillerScheduler)||void 0===n||n.stop(),this.sharedClientState.shutdown(),e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),u_=function(){function e(){sr(this,e)}return or(e,[{key:"initialize",value:function(){var e=_r(Tr().mark((function e(t,n){var r=this;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return VS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=n_.bind(null,this.syncEngine),e.next=12,aS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new vS}},{key:"createDatastore",value:function(e){var t=px(e.databaseInfo.databaseId),n=function(e){return new hx(e)}(e.databaseInfo);return function(e,t,n,r){return new kx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new wx(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return VS(t.syncEngine,e,0)}),ox.D()?new ox:new ax)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new AS(e,t,n,r,i,a);return o&&(s.Fa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var e=_r(Tr().mark((function e(){var t;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ry(t),Xg("RemoteStore","RemoteStore shutting down."),n.v_.add(5),e.next=5,_x(n);case 5:n.M_.shutdown(),n.x_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore);case 2:null===(t=this.datastore)||void 0===t||t.terminate();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();var c_=function(){function e(t){sr(this,e),this.observer=t,this.muted=!1}return or(e,[{key:"next",value:function(e){this.observer.next&&this.Ba(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ba(this.observer.error,e):Yg("Uncaught Error in snapshot listener:",e.toString())}},{key:"La",value:function(){this.muted=!0}},{key:"Ba",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),l_=function(){function e(t,n,r,i){var a=this;sr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gg.UNAUTHENTICATED,this.clientId=gy.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xg("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Xg("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return or(e,[{key:"configuration",get:function(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ay(iy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new oy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_r(Tr().mark((function n(){var r;return Tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=lS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function f_(e,t){return h_.apply(this,arguments)}function h_(){return h_=_r(Tr().mark((function e(t,n){var r,i;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Xg("FirestoreClient","Initializing OfflineComponentProvider"),r=t.configuration,e.next=4,n.initialize(r);case 4:i=r.initialUser,t.setCredentialChangeListener(function(){var e=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Kw(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 6:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}function d_(e,t){return p_.apply(this,arguments)}function p_(){return p_=_r(Tr().mark((function e(t,n){var r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,g_(t);case 3:return r=e.sent,Xg("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,n.initialize(r,t.configuration);case 7:t.setCredentialChangeListener((function(e){return rS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return rS(n.remoteStore,t)})),t._onlineComponents=n;case 10:case"end":return e.stop()}}),e)}))),p_.apply(this,arguments)}function v_(e){return"FirebaseError"===e.name?e.code===iy.FAILED_PRECONDITION||e.code===iy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function g_(e){return y_.apply(this,arguments)}function y_(){return y_=_r(Tr().mark((function e(t){var n;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Xg("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,f_(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),v_(n=e.t0)){e.next=13;break}throw n;case 13:return Zg("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,f_(t,new s_);case 16:e.next=21;break;case 18:return Xg("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,f_(t,new s_);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),y_.apply(this,arguments)}function m_(e){return k_.apply(this,arguments)}function k_(){return k_=_r(Tr().mark((function e(t){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Xg("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,d_(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Xg("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,d_(t,new u_);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function b_(e){return m_(e).then((function(e){return e.syncEngine}))}function w_(e){return x_.apply(this,arguments)}function x_(){return x_=_r(Tr().mark((function e(t){var n,r;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=OS.bind(null,n.syncEngine),r.onUnlisten=RS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function S_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new oy;return e.asyncQueue.enqueueAndForget(_r(Tr().mark((function i(){return Tr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new c_({next:function(n){t.enqueueAndForget((function(){return mS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ay(iy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new SS(n,a,{includeMetadataChanges:!0,Z_:!0});return gS(e,o)},i.next=3,w_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function __(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var E_=new Map;function T_(e,t,n){if(!n)throw new ay(iy.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function I_(e){if(!Ey.isDocumentKey(e))throw new ay(iy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function C_(e){if(Ey.isDocumentKey(e))throw new ay(iy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function A_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ty()}function O_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ay(iy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=A_(e);throw new ay(iy.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var N_=function(){function e(t){var n,r;if(sr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ay(iy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ay(iy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ay(iy.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ay(iy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ay(iy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ay(iy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return or(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),P_=function(){function e(t,n,r,i){sr(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1}return or(e,[{key:"app",get:function(){if(!this._app)throw new ay(iy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ay(iy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new uy;switch(e.type){case"firstParty":return new hy(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ay(iy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=E_.get(e);t&&(Xg("ComponentProvider","Removing Datastore"),E_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function D_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=O_(e,P_))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Zg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=Gg.MOCK_USER;else{s=Vr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ay(iy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Gg(c)}e._authCredentials=new cy(new sy(s,u))}}var R_=function(){function e(t,n,r){sr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return or(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),L_=function(){function e(t,n,r){sr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return or(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new M_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),M_=function(e){yr(n,e);var t=wr(n);function n(e,r,i){var a;return sr(this,n),(a=t.call(this,e,r,fk(i)))._path=i,a.type="collection",a}return or(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new L_(this.firestore,null,new Ey(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(R_);function j_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=oi(e),T_("collection","path",t),e instanceof P_){var a=xy.fromString.apply(xy,[t].concat(r));return C_(a),new M_(e,null,a)}if(!(e instanceof L_||e instanceof M_))throw new ay(iy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xy.fromString.apply(xy,[t].concat(r)));return C_(o),new M_(e.firestore,null,o)}function F_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=oi(e),1===arguments.length&&(t=gy.newId()),T_("doc","path",t),e instanceof P_){var a=xy.fromString.apply(xy,[t].concat(r));return I_(a),new L_(e,null,new Ey(a))}if(!(e instanceof L_||e instanceof M_))throw new ay(iy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xy.fromString.apply(xy,[t].concat(r)));return I_(o),new L_(e.firestore,e instanceof M_?e.converter:null,new Ey(o))}var U_=function(){function e(){var t=this;sr(this,e),this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new vx(this,"async_queue_retry"),this._u=function(){var e=dx();e&&Xg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.jo.Ko()};var n=dx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this._u)}return or(e,[{key:"isShuttingDown",get:function(){return this.tu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.au(),this.uu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.tu){this.tu=!0,this.su=e||!1;var t=dx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}},{key:"enqueue",value:function(e){var t=this;if(this.au(),this.tu)return new Promise((function(){}));var n=new oy;return this.uu((function(){return t.tu&&t.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.eu.push(e),t.cu()}))}},{key:"cu",value:function(){var e=_r(Tr().mark((function e(){var t=this;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.eu.length){e.next=14;break}return e.prev=1,e.next=4,this.eu[0]();case 4:this.eu.shift(),this.jo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Vy(e.t0)){e.next=12;break}throw e.t0;case 12:Xg("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.eu.length>0&&this.jo.qo((function(){return t.cu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"uu",value:function(e){var t=this,n=this.Xa.then((function(){return t.iu=!0,e().catch((function(e){t.ru=e,t.iu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Yg("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.iu=!1,e}))}));return this.Xa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.au(),this.ou.indexOf(e)>-1&&(t=0);var i=cS.createAndSchedule(this,e,t,n,(function(e){return r.lu(e)}));return this.nu.push(i),i}},{key:"au",value:function(){this.ru&&ty()}},{key:"verifyOperationInProgress",value:function(){}},{key:"hu",value:function(){var e=_r(Tr().mark((function e(){var t;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Xa,e.next=3,t;case 3:if(t!==this.Xa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pu",value:function(e){var t,n=xr(this.nu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Iu",value:function(e){var t=this;return this.hu().then((function(){t.nu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=xr(t.nu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.hu()}))}},{key:"Tu",value:function(e){this.ou.push(e)}},{key:"lu",value:function(e){var t=this.nu.indexOf(e);this.nu.splice(t,1)}}]),e}();var V_=function(e){yr(n,e);var t=wr(n);function n(e,r,i,a){var o;return sr(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new U_,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return or(n,[{key:"_terminate",value:function(){return this._firestoreClient||B_(this),this._firestoreClient.terminate()}}]),n}(P_);function z_(e){return e._firestoreClient||B_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function B_(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new gm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,__(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new l_(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var H_=function(){function e(t){sr(this,e),this._byteString=t}return or(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(um.fromBase64String(t))}catch(t){throw new ay(iy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(um.fromUint8Array(t))}}]),e}(),q_=function(){function e(){sr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ay(iy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _y(n)}return or(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var K_=or((function e(t){sr(this,e),this._methodName=t})),W_=function(){function e(t,n){if(sr(this,e),!isFinite(t)||t<-90||t>90)throw new ay(iy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ay(iy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return or(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return yy(this._lat,e._lat)||yy(this._long,e._long)}}]),e}(),G_=/^__.*__$/,Q_=function(){function e(t,n,r){sr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return or(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new lb(e,this.data,this.fieldMask,t,this.fieldTransforms):new cb(e,this.data,t,this.fieldTransforms)}}]),e}(),$_=function(){function e(t,n,r){sr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return or(e,[{key:"toMutation",value:function(e,t){return new lb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function J_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ty()}}var X_=function(){function e(t,n,r,i,a,o){sr(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Eu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return or(e,[{key:"path",get:function(){return this.settings.path}},{key:"du",get:function(){return this.settings.du}},{key:"Au",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Ru",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}},{key:"fu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}},{key:"gu",value:function(e){return this.Au({path:void 0,Vu:!0})}},{key:"pu",value:function(e){return fE(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Eu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.mu(this.path.get(e))}},{key:"mu",value:function(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(J_(this.du)&&G_.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}]),e}(),Y_=function(){function e(t,n,r){sr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||px(t)}return or(e,[{key:"Su",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new X_({du:e,methodName:t,wu:n,path:_y.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Z_(e){var t=e._freezeSettings(),n=px(e._databaseId);return new Y_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function eE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Su(a.merge||a.mergeFields?2:0,t,n,i);sE("Data must be an object, but it was:",o,r);var s,u,c=aE(r,o);if(a.merge)s=new om(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=xr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=uE(t,d,n);if(!o.contains(p))throw new ay(iy.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));hE(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new om(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Q_(new Dm(c),s,u)}var tE=function(e){yr(n,e);var t=wr(n);function n(){return sr(this,n),t.apply(this,arguments)}return or(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(K_);function nE(e,t,n,r){var i=e.Su(1,t,n);sE("Data must be an object, but it was:",i,r);var a=[],o=Dm.empty();Zy(r,(function(e,r){var s=lE(t,e,n);r=oi(r);var u=i.fu(s);if(r instanceof tE)a.push(s);else{var c=iE(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new om(a);return new $_(o,s,i.fieldTransforms)}function rE(e,t,n,r,i,a){var o=e.Su(1,t,n),s=[uE(t,r,n)],u=[i];if(a.length%2!=0)throw new ay(iy.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(uE(t,a[c])),u.push(a[c+1]);for(var l=[],f=Dm.empty(),h=s.length-1;h>=0;--h)if(!hE(l,s[h])){var d=s[h],p=u[h];p=oi(p);var v=o.fu(d);if(p instanceof tE)l.push(d);else{var g=iE(p,v);null!=g&&(l.push(d),f.set(d,g))}}var y=new om(l);return new $_(f,y,o.fieldTransforms)}function iE(e,t){if(oE(e=oi(e)))return sE("Unsupported field value:",t,e),aE(e,t);if(e instanceof K_)return function(e,t){if(!J_(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=xr(e);try{for(a.s();!(n=a.n()).done;){var o=iE(n.value,t.gu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=oi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zk(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ky.fromDate(e);return{timestampValue:Kb(t.serializer,n)}}if(e instanceof ky){var r=new ky(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Kb(t.serializer,r)}}if(e instanceof W_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof H_)return{bytesValue:Wb(t.serializer,e._byteString)};if(e instanceof L_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.pu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:$b(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(A_(e)))}(e,t)}function aE(e,t){var n={};return em(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zy(e,(function(e,r){var i=iE(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function oE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ky||e instanceof W_||e instanceof H_||e instanceof L_||e instanceof K_)}function sE(e,t,n){if(!oE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=A_(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function uE(e,t,n){if((t=oi(t))instanceof q_)return t._internalPath;if("string"==typeof t)return lE(e,t);throw fE("Field path arguments must be of type string or ",e,!1,void 0,n)}var cE=new RegExp("[~\\*/\\[\\]]");function lE(e,t,n){if(t.search(cE)>=0)throw fE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ir(q_,me(t.split(".")))._internalPath}catch(Se){throw fE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function fE(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new ay(iy.INVALID_ARGUMENT,s+e+u)}function hE(e,t){return e.some((function(e){return e.isEqual(t)}))}var dE=function(){function e(t,n,r,i,a){sr(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return or(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new L_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new pE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(vE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),pE=function(e){yr(n,e);var t=wr(n);function n(){return sr(this,n),t.apply(this,arguments)}return or(n,[{key:"data",value:function(){return pr(hr(n.prototype),"data",this).call(this)}}]),n}(dE);function vE(e,t){return"string"==typeof t?lE(e,t):t instanceof q_?t._internalPath:t._delegate._internalPath}function gE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ay(iy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yE=function(){function e(){sr(this,e)}return or(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(km(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ty()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Zy(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new W_(fm(e.latitude),fm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=pm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=lm(e);return new ky(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=xy.fromString(e);ny(yw(n));var r=new ym(n.get(1),n.get(3)),i=new Ey(n.popFirst(5));return r.isEqual(t)||Yg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function mE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var kE=function(){function e(t,n){sr(this,e),this.hasPendingWrites=t,this.fromCache=n}return or(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),bE=function(e){yr(n,e);var t=wr(n);function n(e,r,i,a,o,s){var u;return sr(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return or(n,[{key:"exists",value:function(){return pr(hr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new wE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(vE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(dE),wE=function(e){yr(n,e);var t=wr(n);function n(){return sr(this,n),t.apply(this,arguments)}return or(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pr(hr(n.prototype),"data",this).call(this,e)}}]),n}(bE),xE=function(){function e(t,n,r,i){sr(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new kE(i.hasPendingWrites,i.fromCache),this.query=r}return or(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new wE(n._firestore,n._userDataWriter,r.key,r,new kE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ay(iy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new wE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new wE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:SE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function SE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ty()}}var _E=function(e){yr(n,e);var t=wr(n);function n(e){var r;return sr(this,n),(r=t.call(this)).firestore=e,r}return or(n,[{key:"convertBytes",value:function(e){return new H_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new L_(this.firestore,null,t)}}]),n}(yE);function EE(e){e=O_(e,R_);var t=O_(e.firestore,V_),n=z_(t),r=new _E(t);return gE(e._query),S_(n,e._query).then((function(n){return new xE(t,r,e,n)}))}function TE(e,t,n){e=O_(e,L_);for(var r=O_(e.firestore,V_),i=Z_(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return IE(r,[("string"==typeof(t=oi(t))||t instanceof q_?rE(i,"updateDoc",e._key,t,n,o):nE(i,"updateDoc",e._key,t)).toMutation(e._key,tb.exists(!0))])}function IE(e,t){return function(e,t){var n=new oy;return e.asyncQueue.enqueueAndForget(_r(Tr().mark((function r(){return Tr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=MS,r.next=3,b_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(z_(e),t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Qg=e}(Xi),Wi(new si("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new V_(new ly(e.getProvider("auth-internal")),new py(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ay(iy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ym(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ea(Wg,"4.4.2",e),ea(Wg,"4.4.2","esm2017")}();var CE=Yi({apiKey:"AIzaSyBOU0HNPCjEm3LC142sDIgO9KQd-khfAdE",authDomain:"calabash-54fb5.firebaseapp.com",projectId:"calabash-54fb5",storageBucket:"calabash-54fb5.appspot.com",messagingSenderId:"180304868813",appId:"1:180304868813:web:31a349f4f10242d1dd0084",measurementId:"G-7VV4TSVHPD"}),AE=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi(),t=Gi(e=oi(e),Af);t.isInitialized()?t.getImmediate():xh(e)}(CE),function(e,t){var n="string"==typeof e?e:t||"(default)",r=Gi("object"==typeof e?e:Zi(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=Mr(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&D_.apply(void 0,[r].concat(me(i)))}return r}(CE)),OE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi(),t=Gi(e,"auth");if(t.isInitialized())return t.getImmediate();var n=ss(e,{popupRedirectResolver:Mc,persistence:[Du,su,cu]}),r=Fr("authTokenSyncURL");if(r){var i=$c(r);eu(n,i,(function(){return i(n.currentUser)})),Zs(n,(function(e){return i(e)}))}var a=Mr("auth");return a&&us(n,"http://".concat(a)),n}(CE);function NE(e){var t=e.product,n=e.getProducts,r=t.title.stringValue,i=(t.category.stringValue,t.info.stringValue),a=t.shipping.stringValue,o=t.isHighlighted.booleanValue,s=t.isActive.booleanValue,u=t.inStock.booleanValue,c=t.priceOptions.arrayValue.values,l=function(e){return e.mapValue.fields};console.log("priceOptions",l(c[0])),console.log("product editor",o);var f=function(){var e=_r(Tr().mark((function e(t){var n,r,i;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,console.log("target value",n.value),r=n.value,i=F_(AE,"products",r),e.next=6,TE(i,{});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,rn.jsx)("div",{id:"product-editor",children:(0,rn.jsxs)("div",{className:"product_container",children:[(0,rn.jsx)("h4",{children:r}),(0,rn.jsx)("button",{value:r,onClick:f,children:"Change title"}),(0,rn.jsx)("button",{onClick:function(){(function(e){return IE(O_(e.firestore,V_),[new gb(e._key,tb.none())])})(F_(AE,"products",r)).then((function(){n()}))},children:"Delete Product"}),(0,rn.jsx)("p",{children:i}),(0,rn.jsx)(rn.Fragment,{children:(0,rn.jsx)("select",{className:"mb-3",children:c.map((function(e){return e=l(e),(0,rn.jsxs)("option",{children:[e.option.stringValue," is $",e.price.stringValue]},e.option.stringValue)}))})}),(0,rn.jsxs)("p",{children:["$",c[0].price]}),(0,rn.jsxs)("p",{children:["In Stock ",u.toString()]}),(0,rn.jsxs)("p",{children:["Active ",s.toString()]}),(0,rn.jsxs)("p",{children:["Highlighted ",o.toString()]}),(0,rn.jsxs)("p",{children:["Shipping ",a]})]})})}function PE(){var e=o((0,t.useState)({title:"",category:"",info:"",priceOptions:[{option:"",price:""}],shipping:"15.00",isHighlighted:!0,isActive:!0,inStock:!0,photos:[],get key(){return vn(this.title)}}),2),n=e[0],r=e[1],i=o((0,t.useState)(),2),a=i[0],s=i[1],u=o((0,t.useState)(),2),c=u[0],l=u[1],f=function(){try{(function(e,t,n){e=O_(e,L_);var r=O_(e.firestore,V_),i=mE(e.converter,t,n);return IE(r,[eE(Z_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,tb.none())])})(F_(AE,"products",n.title),we({},n)).then((function(){console.log("new product",n),h()}))}catch(e){console.error("Error adding document: ",e)}},h=function(){var e=_r(Tr().mark((function e(){var t;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,EE(j_(AE,"products"));case 3:t=e.sent,s(t.docs),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error getting docs",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){h()}),[]),(0,t.useEffect)((function(){console.log("products",a),Array.isArray(a)?(console.log("isArray"),l(a.map((function(e){return e=function(e){return e._document.data.value.mapValue.fields}(e),console.log("product",e),(0,rn.jsx)(NE,{product:e,getProducts:h},e.key)})))):console.log("not array")}),[a]);return(0,rn.jsxs)("div",{id:"editor",children:[(0,rn.jsx)("h1",{children:"Editor"}),(0,rn.jsxs)("label",{children:["Product title",(0,rn.jsx)("input",{value:n.title,onChange:function(e){r(we(we({},n),{},{title:e.target.value}))},placeholder:"title",required:!0})]}),(0,rn.jsx)("br",{}),(0,rn.jsxs)("label",{children:["Category",(0,rn.jsx)("input",{value:n.category,onChange:function(e){r(we(we({},n),{},{category:e.target.value}))},placeholder:"category"})]}),(0,rn.jsx)("br",{}),(0,rn.jsxs)("label",{children:["Description",(0,rn.jsx)("input",{value:n.info,onChange:function(e){r(we(we({},n),{},{info:e.target.value}))},placeholder:"info"})]}),(0,rn.jsx)("br",{}),(0,rn.jsxs)("label",{children:["Option 1 size / name",(0,rn.jsx)("input",{value:n.priceOptions[0].option,onChange:function(e){r(we(we({},n),{},{priceOptions:[{option:e.target.value,price:n.priceOptions[0].price}].concat(me(n.priceOptions.slice(1)))}))},placeholder:"Option 1 name"})]}),(0,rn.jsx)("br",{}),(0,rn.jsxs)("label",{children:["Option 1 Price",(0,rn.jsx)("input",{value:n.priceOptions[0].price,onChange:function(e){r(we(we({},n),{},{priceOptions:[{option:n.priceOptions[0].option,price:e.target.value}].concat(me(n.priceOptions.slice(1)))}))},placeholder:"Option 1 price"})]}),(0,rn.jsx)("br",{}),(0,rn.jsxs)("label",{children:["Shipping",(0,rn.jsx)("input",{value:n.shipping,onChange:function(e){r(we(we({},n),{},{shipping:e.target.value}))},placeholder:"shipping"})]}),(0,rn.jsx)("br",{}),(0,rn.jsxs)("label",{children:["Highlighted",(0,rn.jsxs)("select",{value:n.isHighlighted,onChange:function(e){r(we(we({},n),{},{isHighlighted:"true"===e.target.value}))},children:[(0,rn.jsx)("option",{value:"true",children:"true"}),(0,rn.jsx)("option",{value:"false",children:"false"})]})]}),(0,rn.jsx)("br",{}),(0,rn.jsxs)("label",{children:["Active",(0,rn.jsxs)("select",{value:n.isActive,onChange:function(e){r(we(we({},n),{},{isActive:"true"===e.target.value}))},children:[(0,rn.jsx)("option",{value:"true",children:"true"}),(0,rn.jsx)("option",{value:"false",children:"false"})]})]}),(0,rn.jsx)("br",{}),(0,rn.jsxs)("label",{children:["In Stock",(0,rn.jsxs)("select",{value:n.inStock,onChange:function(e){r(we(we({},n),{},{inStock:"true"===e.target.value}))},children:[(0,rn.jsx)("option",{value:"true",children:"true"}),(0,rn.jsx)("option",{value:"false",children:"false"})]})]}),(0,rn.jsx)("br",{}),n.title&&n.info&&n.category&&n.shipping&&n.priceOptions[0].option&&n.priceOptions[0].price?(console.log("button active"),(0,rn.jsx)("button",{onClick:f,children:"Add Product"})):(console.log("button disabled"),(0,rn.jsx)("button",{disabled:!0,onClick:f,children:"Add Product"})),c]})}function DE(){var e=o((0,t.useState)(""),2),n=e[0],r=e[1],i=o((0,t.useState)(""),2),a=i[0],s=i[1],u=o((0,t.useState)(""),2),c=u[0],l=u[1],f=["1PtSGU91GXRVssf17Y2lDReYes53","IvIXfrqaoQZ4JkwgRLrcmSvnQVz1"];return(0,rn.jsxs)("div",{id:"admin",children:["Admin",(0,rn.jsxs)("form",{onSubmit:function(){console.log("email",n,"password",a),function(e,t,n){return $s(oi(e),Ps.credential(t,n)).catch(function(){var t=_r(Tr().mark((function t(n){return Tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&Xs(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(OE,n,a).then((function(e){var t=e.user;console.log("user",t),l(t)})).catch((function(e){var t=e.code,n=e.message;console.log("Error signing in",t,n)}))},children:[(0,rn.jsx)("input",{value:n,onChange:function(e){r(e.target.value)},name:"email",type:"text",placeholder:"Email"}),(0,rn.jsx)("input",{value:a,onChange:function(e){s(e.target.value)},name:"password",type:"text",placeholder:"Password"}),(0,rn.jsx)("button",{type:"submit",children:"Sign In"})]}),c.uid===f[0]||c.uid===f[1]?(0,rn.jsx)(PE,{user:c}):null]})}var RE=function(){return(0,rn.jsx)("div",{className:"App app_wrap",children:(0,rn.jsxs)(Q,{children:[(0,rn.jsx)(un,{}),(0,rn.jsxs)(B,{children:[(0,rn.jsx)(V,{path:"/products/:key",element:(0,rn.jsx)(En,{})}),(0,rn.jsx)(V,{path:"/admin",element:(0,rn.jsx)(DE,{})}),(0,rn.jsx)(V,{path:"/shop",element:(0,rn.jsx)(Sn,{})}),(0,rn.jsx)(V,{path:"/cart",element:(0,rn.jsx)(nr,{})}),(0,rn.jsx)(V,{path:"/contact",element:(0,rn.jsx)(fr,{})}),(0,rn.jsx)(V,{path:"/",element:(0,rn.jsx)(xn,{})})]}),(0,rn.jsx)(_n,{})]})})},LE=function(e){var t,n=Wt(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!qt(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=At(a)}var p=s;"function"===typeof p&&(p=p(n));var v=Nt.apply(void 0,p),g=Ot;c&&(g=Ht(Bt({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=Mt([v],d):"function"===typeof d&&(y=d(y)),Ct(t,f,g.apply(void 0,y))}({reducer:{cart:nn}}),ME=LE;r.createRoot(document.getElementById("root")).render((0,rn.jsx)(t.StrictMode,{children:(0,rn.jsx)(he,{store:ME,children:(0,rn.jsx)(RE,{})})}))}()}();
//# sourceMappingURL=main.5323faaf.js.map